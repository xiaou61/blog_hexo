<!DOCTYPE html><html class="hide-aside" lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>重学java第一阶段(下) | 小u的博客</title><meta name="keywords" content="java,javaSE"><meta name="author" content="小u"><meta name="copyright" content="小u"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="重学java第一阶段(下)"><meta name="application-name" content="重学java第一阶段(下)"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="重学java第一阶段(下)"><meta property="og:url" content="http://example.com/2023/10/01/codenotes/Java/qf/2/index.html"><meta property="og:site_name" content="小u的博客"><meta property="og:description" content="day1812345678回顾1·Object	toString()	equals()	hashCode()2.hashSet这个类3.TreeSet这个类	  今天内容 1.TreeSet的底层 2.匿名内部类【开发用的】 3.内部类 4.map  1.二叉树的了解1234567891011121"><meta property="og:locale" content="en"><meta property="og:image" content="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300844043.png"><meta property="article:author" content="小u"><meta property="article:tag" content="Java,java,springboot,mysql,redis,教程,git,软件,编程,开发,互联网,Java 基础,Java 教程,Java程序员进阶之路,Java 入门,Vue,前端,算法"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300844043.png"><meta name="description" content="day1812345678回顾1·Object	toString()	equals()	hashCode()2.hashSet这个类3.TreeSet这个类	  今天内容 1.TreeSet的底层 2.匿名内部类【开发用的】 3.内部类 4.map  1.二叉树的了解1234567891011121"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2023/10/01/codenotes/Java/qf/2/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//hm.baidu.com"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?1433b93d16cca6b366bdf23126c0c200";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"tianli","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"784b999ee9b2f0689c5a","Referer":"https://mydocs-1305448902.cos-website.ap-nanjing.myqcloud.com/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":null},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"Author: 小u","link":"Link: ","source":"Source: 小u的博客","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.","copySuccess":"Copy success, copy and reprint please mark the address of this article"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '小u的博客',
  title: '重学java第一阶段(下)',
  postAI: '',
  pageFillDescription: 'day18, 今天内容, 1.二叉树的了解, 2.使用比较器将数据存储到TreeSet中, 3.匿名内部类, 3.1基于抽象类的匿名内部类, 3.2基于接口的匿名内部类, 4.内部类, 4.1成员内部类, day19, 今天的内容, 1.Map集合, Interface MapltKVgt, 1.1Map集合中常用的方法, 1.2Map集合中的value 存的是对象, HashSet, TreeSet类, 2.File类, 2.1File 类的构造方法, 2.2File类下面的方法, day20, 今天的内容, 1.IO流, 1.1缓冲的概念, 1.2IO流的分类, 1.2.1字节输入流, 1.2.2字节输出流, 1.2.3字符输入流【非重点】, 1.2.4字符输出流, day21, 今天的内容, 1.常用类, 1.1StringBuffer类, 1.2枚举类（enum）, 1.3包装类, 关于Integer和int类型数据的内存分析, 1.4Math, 1.5Random类, 1.6System类, 1.7Runtime【不重要】, 1.8Date类, 1.9Calendar, day22, 今天的内容【重要！！！】, 1.什么是进程, 2.什么是线程, 3.线程和进程的区别【面试题】, 4.并发和并行, 5.创建线程的两种方式【重点】, 6.线程下面的几个方法, 7.线程的同步和锁【重要】, day23, 今天的内容, 1.守护线程, 2.死锁, 3.线程生命周期【面试】, 4.和线程相关的Object类下面的方法, 扩展, 5.生产者消费者模式【重点难点】, 6.线程池Pool, 1.1FixedThreadPool, 2.CachedThreadPool, 3.SingleThreadExecutor, 4.ScheduledThreadPool, 5.SingleThreadScheduledExecutor, 6.newWorkStealingPool, 7.ThreadPoolExecutor【以后开发要用的】, day24, 今天的内容, 1.Stream【难点】, 1.1获取流的对象, 1.2Stream流对象下面, 1.2.1count和forEach, 1.2.2filter方法, 1.2.3limit, 1.2.4map方法, 1.2.5skip, 1.2.6concat, 1.3收集流, 今天的内容, 1.反射, 1.1获取Class对象, 1.2获取Constructor对象, 1.3获取Method对象, 1.4获取Field对象, 回顾, 今天的内容, 1.单例模式, 2.序列化, 3.Lambda表达式, 3.1入门案例, 3.2lambda表达式语法格式, 3.2.1无参无返回值的形式, 3.2.2有参无返返回值的方法, 3.2.3无参有返回值, 3.2.4有参有返回值的, day25, 第二阶段 JavaWeb, 数据库概念, 常见数据库, MySQL介绍, MySQL卸载, MySQL安装, 1 解压缩到非中文目录, 2 编写配置文件, 3 执行命令初始化, 4 开启服务, 5 修改密码, 安装BUG, 1 报错120.dll, 2 没有服务名, 3 初始化失败, 4 万能解决方案, 配置环境变量, 客户端基本操作, SQL语言, DDL, 图形化界面, Navicat图形化操作, Navicat命令操作, Navicat编辑器, DML, 增加（insert）, 修改(update), 删除(delete)回顾这个类这个类今天内容的底层匿名内部类开发用的内部类二叉树的了解通过查阅我们得知集合是基于的实现而是基于二叉树红黑树结构也就是说集合的底层使用的二叉树红黑树结构树结构它也是数据结构中的一种在计算机领域中树结构指的是倒立的树树结构存储的数据每个数据也需要节点来保存而集合底层是二叉树的数据结构什么是二叉树呢二叉树每个节点的下面最多只能有个子节点说明最多表示一个节点下面可以有两个子节点或者一个子节点或者没有子节点在二叉树的根节点左侧的节点称为左子树在根节点的右侧的节点称为右子树既然已经得知集合底层是二叉树那么二叉树是怎样存储数据的呢是怎样保证存储的数据唯一并有序的呢二叉树的存储流程当存储一个元素的时候如果是树的第一个元素这个元素就作为根节点如果不是第一个元素那么就拿要存储的元素与根节点进行比较大小大于根元素就将要存储的元素放到根节点的右侧作为右叶子节点等于根元素丢弃小于根元素就将要存储的元素放到根节点的左侧作为左叶子节点总结二叉树是通过比较大小来保证元素唯一和排序的案例使用存储对象比较两个属性先按照年龄进行升序排如果年龄相等的话按照体重升序排先按照年两比如果年龄相等就比较体重广坤二贝赵四彩云鸡哥正经博案例里面存的是类两个属性先按照字符串的字典顺序排然后字符串相等的话在按照年龄排先按照字典的顺序进行排如果字符串相等再按照年龄升序排字符串相等的情况又要比较年领彩云旺财大黄大黄大黄总结使用的时候需要类实现一个接口这个接口去做比较排序但是就只有这一种方式进行排序吗不是的还有一种比较器的写法这个接口使用比较器将数据存储到中如果想要使用比较器的写法必须再的时候加上比较器对象有一个有参构造有参构造的方法是的对象是一个接口不能实例化咋办再写一个类去实现这个接口维一永康赵娜运铎佳祥总结就是单纯的也是单纯的不单纯得重写和方法不单纯得在类中去实现这个接口让类具有比较排序功能开发中使用匿名内部类为了减少代码量基于抽象类的匿名内部类声明一个抽象列类好想逃然后去睡觉常规来讲新建一个类去继承抽象类然后实例化继承的抽象类的类好饿想吃肉匿名内部类在实例化对抽象类同时并重写抽象方法吃吃喝喝哇哇叫哈哈叫哇哇叫哈哈叫基于接口的匿名内部类嘻嘻哒哈哈存到里面维一永康赵娜运铎佳祥真实开发的时候一个方法参数是一个接口对象不用再新建一个类去实现这个接口直接方法中去接口吃锦旗内部类从字面意思来理解在类的内部创建一个类这个类叫内部类成员内部类在类的方法的外面再类中就是成员内部类张三打印着玩就是内部类李四在这个类中可以访问外部类的属性和方法打印着玩李四如果访问外部特定的属性的时候类名属性张三成员内部类的创建步骤实例化外部类类对象实例化内部类对象但是得改为外部对象匿名内部类的写法针对于抽象类和接口的现在直接但是在接口的时候一定重写抽象的方法测试真实开发的时候一个接口或者抽象类会作为方法的参数在之前新建一个类去实现一个接口但是现在学完匿名内部类之后直接在方法中直接成员内部类的写法类下面的方法重要接口下面的方法比较器在中的使用八大基本数据类型所对应得包装类和区别今天的内容类集合地图通过一个点可以找到一个具体的位置映射集合也是存数据的双边队列键值键值对意味着咱们集合中存的数据是键值对像形式的数据家豪志成王腾飞集合中常用的方法增添加键值对的数据到集合中将一个集合存放到另外一个集合中删通过键删除键值对的数据返回值是值改当键值存在的时候会将值覆盖掉的查查看集合中元素的个数判断是否为空如果不为空返回的是是否包含这个键是否包含这个值重要的方法通过键获取值获取集合中的键然后存到集合中获取集合中值存到了集合中将集合的键值对存到了集合这个接口的方法返回键值对的键返回键值对的值老邢骚磊老万老邢骚磊老万键必须是唯一的因为底层使用的算法的操作值是会被替换的当键一样的时候二贝小邢小骚磊小老万骚磊二贝老万小邢小骚磊小老万骚磊删除完以后看看还有咩有这个键值对小小万修改查询大狗蛋获取所有的键存到集合中了将数据取出来集合中的存的是对象张三狗蛋财运彩云二贝老邢秦始皇汉武帝以上在存值取值张三张三狗蛋李四以上存值取值取键使用可以自己百度先自己看一下看看能不能看懂的源码底层总结开发中用下面来看一个和的区别因为都是的子类具有元素不可重复性所以和都不可放个相同的元素底层是实现的很多都是利用来实现的底层是实现的很多都是利用来实现的判断两个对象不相等的方式是两个对象通过方法返回或者通过方法比较没有返回集合不能存储重复的元素那么元素之间是否重复是根据什么机制去判断的呢在添加一个元素时比如此时添加的是这个元素都会将该元素与中所遍历到的每个元素作比较比较的过程是这样的先用该元素的值与遍历到的每个元素的作比较如果不相等则直接添加若的值一样则继续用该元素的方法比较是被添加的方法与之比较的元素作为参数如果方法得到的值是一样的不再添加如果的值是不一样的就会将该对象添加到其他内存地址重新计算出不一样的有以下特点不能保证元素的排列顺序顺序有可能发生变化不是同步的集合元素可以是但只能放入一个当向集合中存入一个元素时会调用该对象的方法来得到该对象的值然后根据值来决定该对象在中存储位置简单的说集合判断两个元素相等的标准是两个对象通过方法比较相等并且两个对象的方法返回值相等注意如果要把一个对象放入中重写该对象对应类的方法也应该重写其方法其规则是如果两个对象通过方法比较返回时其也应该相同另外对象中用作比较标准的属性都应该用来计算的值是基于实现的元素的值存储在上的值所有元素都一样都是这个类是接口的唯一实现类可以确保集合元素处于排序状态支持两种排序方式自然排序和定制排序其中自然排序为默认的排序方式向中加入的应该是同一个类的对象自然排序自然排序使用要排序元素的方法来比较元素之间大小关系然后将元素按照升序排列提供了一个接口该接口里定义了一个方法该方法返回一个整数值实现了该接口的对象就可以比较大小方法如果返回则说明被比较的两个对象相等如果返回一个正数则表明大于如果是负数则表明小于如果我们将两个对象的方法总是返回则这两个对象的方法返回应该返回定制排序自然排序是根据集合元素的大小以升序排列如果要定制排序应该使用接口实现方法最重要是二叉树实现的中的数据是自动排好序的不允许放入值是哈希表实现的中的数据是无序的可以放入但只能放入一个两者中的值都不能重复就如数据库中唯一约束要求放入的对象必须实现方法放入的对象是以码作为标识的而具有相同内容的对象是一样所以放入的内容不能重复但是同一个类的对象可以放入不同的实例类文件和文件夹文件路径的抽象表示是专门来出来磁盘上面的文件或者文件夹的之前都是手动创建现在可以借助封装好的类创建文件夹和文件路径问题相对路径得有一个参照物当前工作目录上一级路径的目录上两级目录绝对路径磁盘的跟路径一级一级的往下找类的构造方法通过将给定的路径名字符串转换为抽象路径名来创建新的实例从父路径名字符串和子路径名字符串创建新的实例可以将抽象成一个代码的对象中看系统在系统和都是可以的只有在系统下面可以的与系统相关的默认名称分隔符字符以方便的方式表示为字符串当你是系统的时候就是当你的代码在为了保证你的代码在任意的系统下面路径的分割符是都可以使用可以咋写代码类下面的方法创建一个文件返回值是布尔类型的数据如果文件路径不存在会报错如果文件名字已经存在返回磁盘坏了创建不了创建单级路径创建多级路径单级路径多级路径删除文件或者文件夹立即删除文件常用的不会立即删除是程序退出以后才删除的删除一个非空的文件夹是删除不了的咋办递归如果保证程序不退出对象的判断方法比较常用的是否是文件常用是否是文件夹常用是否是隐藏文件是否是绝对路径判断文件或者文件夹是否存在重要返回值是类型的数据的获取文件或者文件夹的名字的获取当前对象的路径的获取当前文件对象的上一级的目录返回是类型数据的返回值是文件占用的字节数获取当前文件最后一次修改的时间这个是毫秒除以变成秒才是时间戳从月日时分秒的毫秒数获取当前文件夹下面的所有的文件获取当前文件夹下面的所有文件的名字列出来的是对象文件的名字需求删除某一个目录下面的所有的文件当你不知道你有多少个文件夹和文件的时候咱们可以递归的所有文件先取出来是是文件夹删除了再次执行文件夹再次执行文件夹了是文件夹递归是文件类下面的方法创建一个新的文件创建一个单级的文件夹创建多级的文件夹删除文件或者文件夹判断是否是文件判断是否是文件夹判断是否是隐藏文件判断是否是绝对的路径判断文件是否存在需要用的获取文件或者文件夹的名字获取当前对象的路径的获取当前文件的上一级目录文件占用的字节数获取当前文件被修改的时间除以等于时间戳本身返回值是毫秒数返回值是数组将当前的文件夹下面的所有的文件或者文件夹返回一个数组返回值是数组将当前的文件夹下面的所有的文件或者文件夹下面的方法增删通过键删除值改只要键存在的话就是会修改值查获取集合中的键存到集合中获取集合中的值存到集合中将一个键值对封装一个存到咱们的集合中下面的方法下面的方法今天的内容流流以后开发中会遇到文件的上传和下载都是需要用到流咱们电脑上面所有的文件文档音频图片视频等都是可以进行读和写的他们咋读的咋写的一下子就写到咱们项目中了吗不是依靠流的形式进行读和写很抽象在读取的时候会将咱们的文件音频视频等变成流的形式一点一点来处理的拆解开来出来的缓冲的概念看视频有点卡暂停一下加载缓冲一下快递送到物流中转站然后分批次的发物流中转站就是缓冲的概念流的本质就是对电脑的文件进行读和写的计算机通过内存读取磁盘上面的文件数据一次读取字节但是可以加上缓冲的概念每次读取效率会高点的咱们可以测试一下效率是不是确实高了流的分类咱们今天的学习紧紧围绕着从磁盘读取数据到内存代码磁盘代码中输入流从内存代码狗蛋很帅写入数据到磁盘某一个文件代码磁盘输出流参照物是内存就是代码输入流从磁盘读取到内存输出流从内存写入到磁盘输入从磁盘读取数据到内存使用输入流的应用场景是啥比如磁盘上面有一个文件将文件的内容读取到内存中使用的是输入流输入流分为两种字节输入流字符输入流输出流分为两种字节输出流字符输出流字节输入流讲一个新的知识点你最起码先知道这个知识点能干嘛字节输入流磁盘上面有一个文件现在要将文件中的内容读取到内存代码中给咱们封装好了类文件输入流字节输入流将磁盘上面的文件这个数据读取到内存中加上缓冲的效果这种很牛逼啊将磁盘上面的东西弄到咱们代码中创建对象是咱们本地磁盘文件的一个对象为啥要创建这个对象因为要读取这个文件的里面的内容首先先找到文件再说啊创建文件字节输入流对象来操作通过打开与实际文件的连接创建一个该文件由文件系统中的对象命名将文件转为字节输入流的形式之后可以按照流的形式读取到内存中这个流不具备缓冲的效果但是加上缓冲的效果咋办使用另外一个流为另一个输入流添加了功能即缓冲输入咋加将传给此时就具备缓冲的功能了使用字节缓冲流操作咱们的当创建时将创建一个内部缓冲区数组这个数组是什么数据类型的创建一个缓冲区的数组为啥是类型的数组因为是字节输入流所以是就是字节当缓冲数组是个字节的时候每次读取的时候存到缓冲数组中只存个字节发现数据一次性读取不完咋办咋解决缓冲区字节现在数组是空的读取数据从输入流读取一些字节数并将它们存储到缓冲区实际读取的字节数作为整数返回将文件的内容读取到缓冲数组中里面之前是一个空的数组现在通过方法将文件中的内容读取到了空的数组中调用方法之后数组就有值了能不能打印一下借助于类来展示数组的内容给字符串为了展示字节数组中的内容的偏移量这个数组中从哪开始取值从下标为的地方取值取个如果的长度为零则不会读取字节并返回否则尝试读取至少一个字节如果没有字节可用因为流在文件末尾则返回值如果那么就会到达流的末尾就证明后面没哟数据循环结束不要再读了循环次狗蛋数组中的东西要展示出来使用将磁盘上面的内容读取到内存流是需要关闭的知道字节输入流是干嘛的可以将磁盘上面的某一个文件读取到代码中内存固定的写法但是你得知道每行代码是啥意思创建对象创建字节输入流将扔给对象了创建字节缓冲流又扔给了现在咱们的数据在里面了声明一个缓冲数组将里面的数据读取出来赋值给这个缓冲数组字节开始使用方法进行读取读取的时候使用循环如果文件中的字节数超过了个字节需要使用循环再次的读取现在数据都在里面咱们要把里面的数据读取这个数组中数组有值以后咱们可以打印一下看看数组中的数据循环执行将字节数组转为字符串的目的是为了看一下字节数组中的数据并没有实际的意义关闭流案例读取你们盘符下面的一个文档打印在控制台写完以后将代码直接发到扣扣群里好好想想这个流程是咋走的想象咱们班门口放了一袋大米就是磁盘的本地文件文件的内容现在我要求把门口给我运到我的讲台的内存不能使用袋子直接搬运你们咋解决可以找一个杯子就是缓冲数组一杯子一杯子的运能接受不比如磁盘上面的字节的数据咋把读取到内存中弄一个缓冲数组每次读取字节其实其实一次读取一个字节的但是使用了之后可以搞一个缓冲的数组一次可以读取多个那么循环次数就会减少代码的效率就会提升循环遍和循环遍的效率循环遍的效率下午演示加缓冲流和不加缓冲流哪个效率高每次读取个字节第一次第二次第三次当到达文件的末尾的时候后面没有东西了文件的末尾了到达流的末尾了返回值是循环结束回顾上午讲的是字节输入流将磁盘上面的某一个文件的内容读取到内存中实例化一个对象找到本地磁盘的一个文件对象实例化一个加上缓冲流使用缓冲流对象将内容读取到内存缓冲数组中使用循环来读取关闭流字节输出流将中数据写入到磁盘上面内存磁盘输出流讲什么案例比如代码中有一个字符串唉愁人将这个字符串写入磁盘某一个文件中将代码中的一个字符串写入到咱们的磁盘的某一个文件中创建对象文件路径对象告知编译器要把数据写到哪个文件中实例化字节输出流对象对加上缓冲的效果猜测一下所对应的缓冲流所对应的缓冲流将一个字符串写入到磁盘中大家再等我一天后天见面咱们的参数是字节数组咋办是一个字符串但是参数是一个字节数组咋解决是字符串不能强转将字符串转为字节数组没有讲过将字符串转为字节数组写完以后一定要刷新流然后关闭流没有实际的意义可以不写的关闭流在输入流的时候一定是先开的后关后开的先关将内容写入到文件中开始写了传参是一个类型但是真正写入的时候是类型所对应的字符开发不用个字节写一个到缓冲流从开始偏移写入个字节可以借助于循环往里面写针对于咱们的讲的字节输入流和字节输出流来一个案例将文件夹下面一个视频源文件复制到文件夹下面思路将文件夹下面的视频先读取到内存然后再从内存写入磁盘文件夹下面缓冲数组视频由字节组成的一次读取字节直到最后一次不一定字节最后一次字节相当与将所有字节重新拼接了一下读取的时候每次读取个放到咱们的缓冲数组中然后立马写入另外磁盘文件下面直到读取完写入完即可字节第一循环里面有文本里面有第二次循环里面有文本里面有第三次循环里面有文本里面有第四次循环里面有文本里面有现在咱们讲的这个是带有缓冲的看看带有缓冲视频的复制的耗时多少写一个方法将文件夹下面的格式的视频复制到文件夹下面用带缓冲的效率高获取系统的当前的毫秒数创建字节缓冲输入流将磁盘的数据读取到内存创建字节缓冲输出流从内存写入到的文件源文件是格式写入到的也必须是格式的准备一个字节数组缓冲区数组代码走到这一步是空的从磁盘读取数据到内存这个视频很大依靠循环来读取每次读字节从磁盘上读取数据到缓冲数组中每次循环数组中有值顺便依靠循环写入到磁盘关闭流复制完以后再得到一个毫秒数相减就得到复制一个视频需要的时间下面来看一下不带缓冲的流的读写字符输入流非重点也是输入流将磁盘的某一个文件读取到内存是一个阅读字符文件的便利类是专门处理字符文件的比如文件音频视频图片不能使用这个流是从字节流到字符流的桥它读取字节并使用指定的将其解码为字符它使用的字符集可以由名称指定也可以被明确指定或者可以接受平台的默认字符集牵涉到解码底层是字节流但是会解码为字符如果解码失败就意味着咱们读取失败了一般不会使用字符流操作图片音频视频等因为牵涉到解码会出问题开发一般使用字节流将盘下面的文件夹下面的文件的内容读取到内存中和字节流一模一样新建一个对象新建对象字符输入流没有缓冲的效果可以加上缓冲的效果杂加字节的缓冲数组是字节字符的缓冲数组是字符缓冲区是个字符这个方法是用的将文件内容读取到字符数组中缓冲区将数组展示到控制台关闭流将盘下面的文件夹下面的文件的内容读取到内存中和字节流一模一样新建一个对象新建对象字符输入流没有缓冲的效果可以加上缓冲的效果杂加这个方法不用一次读取一个字符返回值是字符对应的码值关闭流将盘下面的文件夹下面的文件的内容读取到内存中和字节流一模一样新建一个对象新建对象字符输入流没有缓冲的效果可以加上缓冲的效果杂加字节的缓冲数组是字节字符的缓冲数组是字符缓冲区是个字符这个也不用将文件内容读取到字符数组中缓冲区将数组展示到控制台关闭流将盘下面的文件夹下面的文件的内容读取到内存中和字节流一模一样新建一个对象新建对象字符输入流没有缓冲的效果可以加上缓冲的效果杂加一次读取一行数据如果到达行的末尾就返回就是一个有可能会用的关闭流字符输出流案例将一个字符串类型的数据写入到磁盘中写字符文件一个便利类从内存写入数据到磁盘的文件中加缓冲流今天的天气真的太热了将字符串转为数组将数组中从开始取个字符写入到缓冲流中从内存写入数据到磁盘的文件中加缓冲流今天的天气真的太热了将字符串转为数组将数组中直接将字符数组中的所有的数据写到缓冲流中从内存写入数据到磁盘的文件中加缓冲流对方网络不佳呵呵写完呵呵以后换行写功能代码起到一个换行的作用哈哈嘻嘻综合案例复制一本小说到另外一个盘符下面复制一个图片到另外一个盘符不能使用字符流因为解码编码的时候会出问题的总结字节流可以处理文本图片音频视频字符流只能处理文本为什么重写方法必须重写方法是因为判断两个对象是否相等的时候先判断值是否相等然后再比较内容一样的对象不一定相等但是对象相等要求值必须一样的使用字符流复制一个文本文档到另外一个盘符下面路径被复制到哪的路径接口和抽象类的区别接口的定义接口抽象的方法抽象类抽象类非抽象方法抽象方法用一个普通类去继承抽象类用一个普通类去实现接口重写和重载的区别重写有继承关系在子类中去重写父类的方法方法完全一样的方法的额名字返回值参数重载只能在一个类中方法名字一样参数列表一定不同关键字的使用修饰成员变量修饰局部变量修饰方法修饰类面试为啥使用修饰成员变量这个修饰的量不能再赋值值不能再改变了效率就会高点关键字的使用修饰成员变量修饰成员方法修饰代码块类名成员变量类名方法复制一个视频文件到另外一个盘符下面使用字节流文件路径被复制的路径关于流你只要听懂昨天讲的流那么其他流都在不再话下思路都是一样的教你们方法方式而不是单纯的教技术这些东西都是可以举一反三的回顾流干嘛的对磁盘上面的文件的内容进行读和写的输入流对磁盘上面的文件进行读取的磁盘内存的字节输入流想加缓冲效果这个类一个方法字符输入流想加缓冲效果这个类一个方法输出流从内存中写入到磁盘内存磁盘字节输出流想加缓冲效果这个类一个方法字符输出流想加缓冲效果这个类一个方法之后再讲一个对象流序列化我不用讲你看着官方手册就会写了今天的内容常用类常用类类看官方手册线程安全的可变的字符序列关于的代码相当简单是个人都会的但是底层和面试问的东西比较深的所以你们下去一定看看一些东西不可变构造一个没有字符的字符串缓冲区容器初始容量为个字符在整个缓冲去放数据放啥数据字符串追加插入这个就是下标索引字符串反转删除一个字符串不要怀疑始终记得要头不要尾包含不包含问题咱们有了为啥还要学习和拼接字符串的效率不一样的字符串拼接的是时候效率底和拼接字符串效率高为啥和高为啥效率低如果使用拼接个字符串会出来个对象因为不可变的以上有几个对象个作业自己查这个类然后写方法面试题区别下去一定好好看看连接次消耗连接次消耗连接次消耗获取当前系统的时间还没有执行下面循环的时候的时间使用循环来拼接获取当前系统的时间执行下面循环的时候的时间连接次消耗连接次消耗连接次消耗我们可以清楚的看到的字符串的连接效率是最低的这一点对于大量字符串的拼接可以很明显的表示出来所以说大量字符串的拼接最好不要选择和对于字符串的拼接效率是大致相同的为啥效率高因为是线程不安全的线程安全四总结为固定长度的字符串和为变长字符串是线程安全的是非线程安全的和的默认初始容量是可以提前预估好字符串的长度进一步减少扩容带来的额外开销枚举类中的枚举是一个特殊的类一般是表示一组常量比如一年有四季一天小时枚举就是用来表示常量的只不过是常量的换一种写法而已中定义枚举类的时候的语法格式枚举类名下面写常量常量之间使用逗号隔开常量一般都是大写的没有任何数据类型的枚举类的实例用法声明一个枚举类是一个特殊的类这个数据属于这个类的实例的为啥可以用类名常量常量是修饰的表达式表达式数据类型有哪些枚举枚举在中如何使用这个重要可以通过将咱们的常量变成咱们所数据类型红色只是一个用判断的一个东西红色绿色蓝色枚举类中的几个方法枚举类中所有的值可以找到每个枚举类中常量的索引返回值的是指定字符串的枚举常量枚举类中所有的值可以找到每个枚举类中常量的索引返回值的是指定字符串的枚举常量返回是数组遍历对应的索引返回的是字符串的枚举常量对象只是换了一种写法而已通过常量所对应的字符串获取常量的对象一般开发使用枚举在真实的开发中使用在很多时候我们定义一些状态量都是使用或者这样在数据库中定义这样的数据存放在数据库的相应字段中方便数据读取但是只存储数字如果定义的表很多对应的字段也很多设计的状态就非常多编码很容易分辨不清楚一方面去数据库中查看相应字段的注释非常费时间而且容易产生差错如果我们使用枚举类这个问题就很好的解决了比如当我们定义了许多状态量比如订餐支付未支付订单的完结派送制作等有许多状态如果不使用枚举我们在代码层进行判断的时候总是要去思考这个状态是定义的什么呢还是呢当项目比较大的时候光靠我们记是不行的干脆我们就使用枚举来简化我们的编程而且还较少了逻辑上出错的可能在架下架下架包装类有八大基本数据类型都有与之对应的包装类为啥会有八大基本数据类型的包装类包装类能被实例化封装了很多方法可以使用这样操作八大基本数据类型就比较方便了所以开发中的实体类都是写的包装类重点自从之后有拆箱和装箱自动装箱将基本数据类型转为包装类自动拆箱将包装类转为基本数据类型将包装类转为基本数据类型将基本数据类型转为字符串将字符串类型的数据转为基本数据类型以后开发用将基本数据类型转为包装类类似手动装箱自以后有自动装箱和自动拆箱自动装箱将转为自动拆箱将转为毫无违和感都是自动的特别方便自动装箱本身是类型的数据现在是变成了报错没没有就证明可以自动的装箱自动拆箱没有报错就证明自动的在拆箱除了自动装箱和拆箱外还给咱们提供了方法让咱们装箱和拆箱是包装类将包装类转为基本数据类型是基本数据类型有自动拆箱还有必要使用吗没有将基本数据类型转为字符串重要以后做银行项目的时候和有可能数据丢失可以转为字符串操作绝对不会将字符串类型的数据转为基本数据类型以后开发用开发中分页前段传一个字符串值过来这个传到代码中是字符串类型的数据将字符串转为类型的数据然后操作数据库将基本数据类型转为包装类类似手动装箱基本数据类型就是包装类有没有必要写这个方法没有因为会自动装箱面试题关于和类型数据的内存分析只有看内存分析才能明白一些底层的东西缓存数组没有直接从常量池中取的没有直接从常量池中取的对象了对象了考察了类加载的时候它就创建了自己的静态空间常量池立即加载了类型的数组数组内存储了个类型的对象如果我们用的对象范围在这之内是修饰的就意味着不会改变地址没有超过这个范围的时候不会改变地址的就意味着内存地址是一样的使用的时候比较内存地址所以相等如就会直接从静态区的类型的缓冲数组中直接找对应的对象如果我们用的对象范围超出了这个例如就会帮我们在堆内存中创建一个新的对象那么内存地址不一样的使用比较的就是一个京东面试题不会创建新的对象直接从常量池已经超过缓存数组的容量了就要在堆区去创建新的对象了总结类型赋值不管值的大小都在常量池中都在常量池中类型赋值不会在堆区创建对象堆区会创建对象值会指向常量池中的那个值若值的范围在之间在常量池中如值的范围不在之间在堆区创建对象进行赋值了实例化对象只要是的使用都是今天这些东西其实是你自己要私下搞的因为那么类包装类特别多每个都要讲需要咱们后期慢慢的消化的东西面了那么家只有京东问到了出现的概率小但是咱们很有必要去了解的自己去百度一下你就知道了类包含执行基本数字运算的方法如基本指数对数平方根和三角函数专门处理数学运算的一个类绝对值最大值最小值向上取整向下取整四舍五入随机数以上是两个常量绝对值最大值求三个数的最大值咋办最小值向上取整向下取整四舍五入随机数大于等于小于随机之间的整数类专门处理随机数的类作业题目要求根据变量的值来获取随机数字范围是可以取到也可以取到题目用代码模拟猜数字的小游戏思路首先需要产生一个随机数字并且一旦产生不再变化用的方法需要键盘输八所以用到了获取键盘输入的数字用当中的方法已经得到了两个数字判断一下如果太大了提示太大并且重试如果太小了提示太小并且重试如果猜中了游戏结束重试就是再来一次循环次数不确定用类是一个流打印流标准输出流打印的东西错误输出流打印的东西输入流你把控制台想象成一个磁盘就是输入流和输出流用的很多在年月日之间的当前时间和午夜之间的差异以毫秒为单位年到年是不是获取系统的东西英文单词就是系统的意思系统的名字不重要获取对象对象可以启动咱们电脑上面任意的一个软件使用代码启动软件返回虚拟机将尝试使用的最大内存量字节数返回虚拟机中的可用内存量字节数返回虚拟机中的内存总量字节数类专门处理日期的一个类不过好多方法已经过期了在类的所有方法接受或返回年月日小时分钟和秒值以下表述中使用年代表整数一个月由到的整数表示是月是月等等月日日期月的一天以通常的方式从到的整数表示一小时由到之间的整数表示因此从午夜到凌晨点的时间是小时从中午到下午点的小时是小时一般以的整数表示第二个由到的整数表示值和仅发生在闰秒上甚至仅在实际上正确跟踪闰秒的实现中发生由于目前引入闰秒的方式在同一分钟内不会发生两个闰秒但是本规范遵循的日期和时间约定获取年份这个年份是减去以后的值所以得加上获取月份这个日期的星期几现在国际通用的是类获取当前的年份获取月份需要加的获取当月的第几天获取这周的第几天漂亮国的周日是第天获取这一年的第几天获取时重要的方法获取当前的时间的返回值是类型的数据可以转为类型的数据这上面时间对程序员相当不友好通过一个类将日期格式转换一下年月天时分秒将这个格式转换为以上能不能胡乱写不能以后开发中要用的输入两个日期计算出两个日期相差多少天输入两个日期计算出两个日期相差多少天将一个字符串类型的数据变成一个类型的数据一定要将字符串转为类型才能按照日期来算将类型的数据转为时间戳了为啥转为时间戳因为时间戳是一个类型数据可以想减算两个时间的间隔相减转为或者才能转毫秒数作业输入两个日期计算出两个日期相差多少天一个你的生日计算出来你几岁了新闻类标题内容时间有条新闻按照时间降序进行排列打印学生类学号姓名出生日期把学生类放到集合中找出来比张三年龄大的学生题目要求根据变量的值来获取随机数字范围是可以取到也可以取到题目用代码模拟猜数字的小游戏思路首先需要产生一个随机数字并且一旦产生不再变化用的方法需要键盘输八所以用到了获取键盘输入的数字用当中的方法已经得到了两个数字判断一下如果太大了提示太大并且重试如果太小了提示太小并且重试如果猜中了游戏结束重试就是再来一次循环次数不确定用自己去百度一下这个类详解因为以后开发中日期在项目中是必用的啥时候下的单子超过分钟没有支付都要考虑的日期很重要的今天的内容重要进程线程重点什么是进程是独立的运行程序比如咱们电脑软件你启动起来以后他就是一个进程进程需要系统的分配可以获取当前的系统的网卡内存显卡等独立性各个进程之间是相互的独立的互不影响的录屏软件和没有关系的互斥性每个软件系统都会分配一个独立端口号如果启动一个软件以后他的端口号如果再启动另外一个软件另外一个软件如果端口也是这个程序就启动不了端口被占用的脑海里面知道开启的软件就是一个进程即可什么是线程进程是由多个或者一个线程组成的每个进程至少得有一个线程的支撑脑海里面这样来想一个进程里面很多个线程在执行线程的执行支撑起来了进程的执行把一个人比作一个进程那么你身体里面的细胞就是线程如果没有细胞这个人还存在吗不存在的进程包含了线程线程是组成进程的最小基本单位特性抢占式运行的重要在执行的时候按照时间片来执行的单位的时间片是抢占是执行比如抢占的比如的线程抢到线程等待我是一个你们问我问题个线程同时来问我问题吗不是抢着问一个问然后其他人等待这个人甚至还没有问完其他的某一个人抢到我了他问我大概就是效果资源共享性一个线程可以共享当前网卡等程序一个程序就是一个进程就是一个应用程序就是一个进程一个程序里面至少几个线程两个主函数线程垃圾回收器线程线程和进程的区别面试题进程是一个应用程序是独立的线程是进程中最小的基本单位把进程比作生产车间每个流水线就是一个线程进程有独立性和互斥性线程有抢占式资源共享特性并发和并行并发同时发生轮流交替执行并行真正意义的同时执行比如你去饭店点了两个菜生活中拿个筷子轮流夹菜哦这就是并发场景端起盘子同时倒到嘴里面这就是并行场景创建线程的两种方式重点创建线程的两种方式一个是将一个类声明为的子类这个子类应该重写方法然后可以分配并启动子类的实例一个是将一个类声明为的子类这个子类应该重写类的方法然后可以分配并启动子类的实例我是线程方法中写功能代码就是一个线程中执行的一个功能我是线程官方手册中说要去实例化的子类并启动线程启动线程使用方法在主线程中开启子线程现在有几个线程个一个是线程一个是主线程一个垃圾回收机制线程主函数线程发现先执行了主线程然后再执行子线程然后又执行主线程这就线程的抢占式的运行三个线程你自己吃三盘菜咋吃一盘菜代表一个线程一盘菜夹一下随机的吧开启一个线程就是在执行一个任务上面这个代码你们执行结果和我执行的结果一样吗绝对不一样的抢占式的随机执行线程的练习主线程打印遍的吃大盘鸡子线程打印遍的吃水煮肉片子线程打印遍的吃毛血旺一定要注意打印的结果多执行几遍看看每次执行的结果是否一样另一种方法来创建一个线程是声明实现类接口那个类然后实现了方法然后可以分配类的实例在创建时作为参数传递并启动另一种方法来创建一个线程是声明实现类接口那个类然后实现了方法然后可以分配类的实例创建类的对象在创建实例时作为参数传递并启动参数是这个接口对象分配一个新的对象主线程有几个线程做任务的线程个一个是主线程一个是一个这个线程可以发现运行的结果是随机执行的线程下面的几个方法构造方法分配一个新的对象无参构造方法分配一个新的对象有参构造分配一个新的对象并起名字线程方法返回对当前正在执行的线程对象的引用返回此线程的名称将此线程的名称更改为等于参数返回此线程的优先级更改此线程的优先级设置优先并不一定优先只是增加了执行的概率最小值是最大值是默认的是使当前正在执行的线程以指定的毫秒数暂停暂时停止执行具体取决于系统定时器和调度程序的精度和准确性此时这个对象是这个线程对子线程设置名字子线程狗蛋获取当前线程对象现在这个对象是哪个线程主线程为啥是主线程给主线程设置名字主线程获取的是主线程的名字会给主线程还有其他线程一个默认的名字中默认的主线程叫子线程叫默认的有名字咱们能不能对线程自定义名字能我在启动的这个线程的时候顺便起名字线程的名字就叫狗蛋是在创建线程的时候就已经起好名字了狗蛋想看一下这个线程的优先级是几线程想看一下这个线程的优先级是几线程默认的优先级都是能不能手动去修改某一个线程的优先级可以主线程的优先级设置获取主线程的优先级优先级的优先级最低的优先级最高默认线程的优先级是主线程所以优先级不要用啦并不一定真正的优先线程执行的结果不可控很尴尬发现有一个运行时异常但是发现没有抛出只有为啥方法写在了方法中了因为方法是重写的父类的父类有抛出吗没有抛出重写是比较严格的父类没有抛出子类也同样不能抛出秒发现运行的结果是不可控的是随机的抢占式的咱们接下来学习一个东西叫让某一个线程睡一会儿这个线程在睡觉的期间不会去抢占不执行现在我让睡了一会儿就意味着绝对线程先执行实现可控的效果思考方法再开发的时候敢用不敢用不敢用睡多久你知道吗睡多久合适不能确定最大利用化不可能让闲置如果睡眠时间少的话还是抢占如果睡眠你时间太长的话就会就会闲置没有办法把控的接下来要学习锁下午提问方法上午的内容新建线程的两种方式继承实现接口开发要用的代码要自己学会写的线程的方法获取当前线程对象设置优先级的获取当前线程的优先级得到线程的名字设置线程的名字线程的休眠线程的同步和锁重要为什么要进行线程的同步是允许多线程多个线程当多个线程操作同一个资源咋操作的时候会导致得到或者打印的数据不准确从而发生冲突咋解决加同步锁美团淘票票这个两个线程都去麦同一场次的票结果美团卖出去一张排列的票结果淘票票也卖出去了排列的票你感觉合适吗就是上面的这种结果不合适的分享同一个资源的时候要保证分享资源的数据合法性分析结果最理想的状态先线程进入到循环循环结束以后此时了循环第二次的时候线程抢到资源了此时循环打印了循环第三次的时候线程抢到资源了此时打印卖第张票线程又抢到循环现在的情况是有可能两个线程同时进入到循环死循环两个线程都进入到了循环了此时两个线程所持有的都是但是两个线程都要往下执行有可能线程先执行了线程在等待哦线程执行了操作并出了循环线程线程又抢到循环了再进入倒这个循环有可能线程抢到这个执行权线程要往下执行输出语句打印线程具有抢占式的运行咱们有没有可能线程进入到语句此时线程也进入到语句了线程去打印卖出了张票在线程里面线程又抢到又进入到循环了线程又抢到了又进入倒循环线程又抢到资源要执行执行输出语句卖出了第票买完了终止循环这三个线程线程线程线程解决方案同步方法使用一个关键字修饰方法因为对象都有一个内置的锁对象当使用这个关键字的时候修饰方法的时候这个方法就会被锁保护起来被锁锁住当一个线程进来以后会立马锁住当前的方法意味着只有一个线程进来其他线程都在外面等着最理想的状态先线程进入到循环循环结束以后此时了循环第二次的时候线程抢到资源了此时循环打印了循环第三次的时候线程抢到资源了此时打印卖第张票线程又抢到循环现在的情况是有可能两个线程同时进入到循环对这个方法加了锁就意味着只有一个线程进入到方法中其他线程都在方法外面等待死循环两个线程都进入到了循环了此时两个线程所持有的都是但是两个线程都要往下执行有可能线程先执行了线程在等待哦线程执行了操作并出了循环线程线程又抢到循环了再进入倒这个循环有可能线程抢到这个执行权线程要往下执行输出语句打印线程具有抢占式的运行咱们有没有可能线程进入到语句此时线程也进入到语句了线程去打印卖出了张票在线程里面线程又抢到又进入到循环了线程又抢到了又进入倒循环线程又抢到资源要执行执行输出语句卖出了第票买完了终止循环这三个线程线程线程线程为啥都是线程卖出去的票很巧线程抢到执行权了进入到方法中线程和线程在外面等着一个循环进来以后把循环全部执行完会出现一家独大的情况也是不符合咱们生活场景的咋解决咱们不能方法中加锁在其他地方加锁换另外一种解决方法同步代码块就是拥有了关键字修饰一个语句块被修饰的语句块会被加锁从而实现同步语法格式被加锁的代码块最理想的状态先线程进入到循环循环结束以后此时了循环第二次的时候线程抢到资源了此时循环打印了循环第三次的时候线程抢到资源了此时打印卖第张票线程又抢到循环现在的情况是有可能两个线程同时进入到循环对这个方法加了锁就意味着只有一个线程进入到方法中其他线程都在方法外面等待能不能对循环加锁不能因为循环加锁以后还是一个线程循环完没有任何意义死循环语句加了锁以后就意味着只有一个线程进入到语句假如线程进入语句了线程和线程就会等待线程打印并变量为线程抢到了其他线程再抢核心业务加了锁只让一个线程进入操作完以后锁释放掉然后这三个线程再抢还只能进一个再操作核心业务只能让一个线程进入操作其他线程在外面等待排队线程具有抢占式的运行咱们有没有可能线程进入到语句此时线程也进入到语句了线程去打印卖出了张票在线程里面线程又抢到又进入到循环了线程又抢到了又进入倒循环线程又抢到资源要执行执行输出语句卖出了第票买完了终止循环这三个线程线程线程线程为啥都是线程卖出去的票很巧线程抢到执行权了进入到方法中线程和线程在外面等着一个循环进来以后把循环全部执行完会出现一家独大的情况也是不符合咱们生活场景的咋解决咱们不能方法中加锁在其他地方加锁针对于同步代码块举个例子上厕所的时候有坑位这个坑位就是资源三个人去抢这个资源如果不加锁的话会出现问题的是的加上锁以后就会保证数据准确性案例加锁的目的为了保证数据的准确性卖电影票三个线程淘票票美团猫眼张票声明一个变量票静态的变量和对象没有关系了美团美团猫眼淘票票淘票票和猫眼同时进入到语句但是都没有执行这个操作卖出了第票所以会打印淘票票猫眼卖完了淘票票美团猫眼淘票票卖出了第票猫眼卖出了第票淘票票卖出了第票淘票票卖出了第票淘票票卖出了第票淘票票卖出了第票淘票票卖出了第票猫眼卖出了第票猫眼卖出了第票线程就是这样不可控制但是可以加锁让他可控制创建线程地两种方式继承类在主函数中实例化的子类然后调用方法方法启动线程实现接口实例化类实现接口对象的作为的参数然后调用方法线程下面地方法获取当前线程对象的设置线程名字获取线程的名字让线程进行休眠的类下面地方法类下面地方法今天的内容守护线程死锁线程的生命周期关于类下面的方法和线程有关生产者消费者模式难点守护线程守护线程是用来守护非守护线程的非守护线程就是平常写的线程一个应用程序中必须至少一个非守护线程非守护线程一旦结束守护线程就会自动消亡古代皇帝非守护线程古代皇帝的妃子守护线程一旦皇帝死了妃子要陪葬守护线程依附非守护线程如果非守护线程消亡那么守护线程随之消亡主函数是非守护线程真实开发的时候后台记录操作日志监控内存垃圾回收等都可以使用守护线程子线程正在执行在非守护线程中执行的启动线程可以将设置为守护线程就会在非守护线程结束一瞬间守护线程也会停止执行变成了守护线程了主线程正在执行在中主线程还有一个线程垃圾回收线程等到主线程和垃圾回收线程都结束时候才守护线程才消亡死锁死锁是指两个或两个以上的线程在执行过程中由于竞争资源或者由于彼此通信而造成的一种阻塞的现象若无外力作用它们都将无法推进下去此时称系统处于死锁状态或系统产生了死锁这些永远在互相等待的进程称为死锁线程你的钥匙丢完了进不了门咋办找开锁公司开锁公司说你得给我提供你的身份证原件我才能给你开锁你说你得先开门我的身份证原件在屋里锁着呢结果你们两个僵持不下导致开门这个事推进不了开发中禁止使用死锁面试会问应用场景并发场景多线程线程之间互不相让得借助锁加锁的目的是为了线程安全但是物极必反尤其是加了锁以后死锁是一种状态当两个线程互相持有对方的资源的时候却又不主动释放这个资源的时候会导致死锁这两个线程就会僵持住代码就无法继续执行线程有锁线程锁线程会等待锁的释放线程会等待锁的释放面试题手写一个死锁标记属性锁住的对象锁住的对象如果设置为就让线程进入到语句中锁住的是对象线程持有锁拿到了锁等待锁的释我想在线程中去使用线程中的那个锁线程里面想用锁对象也走不下去了线程也没有释放拿到了锁如果设置为就让线程进入到语句中锁住的是对象线程持有这个锁拿到了锁等待锁的释只有释放掉以后才能在线程中对加锁想一个问题如果锁对象没有被释放那么下面这个代码线程中去锁在这等着呢往下走不下去了线程没有释放对象拿到了锁线程可以进入到方法中线程线程可以进入倒方法中线程线程生命周期面试新建当一个类或其子类的对象被声明并创建时新生的线程对象属于新建状态就绪可运行状态处于新建状态的线程执行方法后进入线程队列等待时间片该状态具备了运行的状态只是没有分配到资源运行当就绪的线程分配到资源便进入运行状态方法定义了线程的操作阻塞在某种特殊情况下被人为挂起或执行输入输出操作时让出并临时终止自己的的执行进入阻塞状态死亡当线程执行完自己的操作或提前被强制性的终止或出现异常导致结束会进入死亡状态和线程相关的类下面的方法类下面的方法唤醒正在等待对象监视器的单个线程唤醒正在等待对象监视器的所有线程导致当前线程等待直到另一个线程调用该对象的方法或方法换句话说这个方法的行为就好像简单地执行呼叫总结至少两个线程其中一个线程中使用对象那么这个线程就会阻塞代码不会往下执行了如何想让这个线程往下执行呢再开另外一个线程使用对象去唤醒另外那个等待线程创建这个类的目的就是实例化出来对象然后拿这个对象调用方法和方法方法和方法是对象的方法导致当前线程等待直到另一个线程调用该对象的想一个问题使用对象调用咋解决先获取当前线程名字等待唤醒时间让等待线程去阻塞去等待这个线程执行不下去了锁的是对象为啥是哟个的时候要加锁等会将代码走到这当前这个线程阻塞不往下走了咱们得想办法让这个等待线程继续执行下去咋办在另外一个线程中去调用方法那么等待线程就会执行下去被唤醒的时间唤醒线程也要用同一个对象是线程中同一个对象调用方法我的想法是不能先让唤醒线程执行开始唤醒等待线程我是修改之后的值唤醒所有线程我是属性如果等待线程好几个咋办呢等待线程等待线程等待线程唤醒线程等待线程等待唤醒时间等待线程唤醒线程开始唤醒等待线程唤醒线程等待线程等待线程被唤醒的时间等待线程这叫线程之间的通信问题总结新建两个线程一个是等待线程线程里面的代码从上往下执行的但是使用就这个方法一用你的线程就阻塞了就处于等待状态意味着当前的代码到了方法以后的代码暂时不执行了另外一个是唤醒线程唤醒线程中使用方法这个方法是专门唤醒刚才那个等待线程让等待线程继续执行思考在使用和的时候都加了锁为啥因为我要知道对那个对象进行唤醒的再举个生活中的例子大学的时候在楼底下等过自己的女朋友你就是等待线程你女朋友就是唤醒线程你在楼底下等的时候就是在你女朋友下楼之后唤醒你咱们走吧但是你女朋友去唤醒别人的男朋友这就扯犊子了所有加锁保证是同一个对象的需要持有锁的原因是你肯定需要知道在哪个对象上进行等待如果不持有锁将无法做到对象变更时进行实时感知通知的作用与此同时为了让其他线程可以操作该值的变化它必须要先释放掉锁然后在该节点上进行等待不持有锁而进行可能会导致长眠不起而且如果不持有锁则当之后的操作都可能是错的因为可能这个数据已经过时其实也叫线程不安全了总之一切为了安全单独的做不成这事扩展类方法方法因为方法底层是就是通过方法实现的让主线程等待状态一直等到其他线程不再活动为止然后主线程再执行在英语中是加入的意思方法要做的事就是当有新的线程加入时主线程会进入等待状态一直到调用方法的线程执行结束为止面试题如何先让所有的子线程执行最后再执行主线程咋解决方法的作用是阻塞即等待线程结束才继续执行如果使用了之后一直阻塞无法终止是主线程让主线程等待状态一直等到其他线程不再活动为止然后主线程再执行所以这次打印的结果都是主线程在最下面加的目的是可以让主线程和子线程可控如果不加的话主线程和子线程随机交叉打印班有个面试题先让所有的子线程执行最后再执行主线程咋出来主线程是一个线程是一个线程但是线程的方法里面调用了线程在主函数中只需要启动线程在线程又执行了线程所以可堪看成是的父线程主线程加了之后是线程线程对应的主线程会等待等待子线程执行完以后才执行的线程线程生产者消费者模式重点难点生活中例子卖家汽车厂商买家咱们名学生学虎想买一辆比亚迪汉告知汽车厂商我要买车这个学虎会进入到等待状态等到比亚迪厂家造完车以后再通知学虎来提车如果比亚迪厂家有现车学虎就直接提车如果产品需要生产的话消费者进入到阻塞状态如果产品不需要生产的话消费者直接购买这些会牵涉到咱们刚讲过的和方法只不过业务逻辑又复杂了啊为啥要新建这类还记得上午讲的类因为两个线程要通信这个就是通信的桥梁消费者等待生产者唤醒消费者商品名字商品价格是否有这个商品没有这个产品需要生产有这个产品不需要生产有参构造接下来搞两个线程一个消费者线程一个是生产者线程为啥要定义这个变量因为两个线程要共享同一个资源写业务逻辑业务比较麻烦一直消费需要生产没有商品不需要生产不需要生产的消费者直接购买消费者购买了价格为购买完以后商品没有了将这个变量修改为大家有没有想过这个问题消费者在购买的时候生产者等待唤醒生产者去生产车了可以先防一下等会再看需要生产的没商品咋办消费者进入到阻塞状态为啥要定义这个变量生产者业务逻辑比较麻烦你一直消费我一直生产需要生产的造车就是赋值对对象进行赋值奇数造一种车偶数造另外一种车偶数奥迪奇数五菱大光生产一辆车一定要记得有车了标记就改为就证明不需要再生产了生产者生产了价格为生产完以后唤醒消费者让消费者去提车不需要生产不需要生产有货生产着歇着阻塞东风谁先抢到线程消费者还是生产者如果是消费者抢到执行权不用说直接打印消费者购买了东风如果生产者抢到执行权生产者那就意味着必须去执行消费者线程消费者购买了东风价格为此时是需要时生产还是消费者和生产者抢这个执行权假如生产者抢到了就会打印生产者生产了啥假如消费者抢到了执行权消费者进入倒阻塞状态消费者进入倒阻塞那么肯定生产者得执行了生产者生产了奥迪价格为还是两个线程抢这个执行权消费者购买了奥迪价格为生产者生产了五菱大光价格为消费者购买了五菱大光价格为生产者生产了奥迪价格为消费者购买了奥迪价格为生产者生产了五菱大光价格为消费者购买了五菱大光价格为生产者生产了奥迪价格为消费者购买了奥迪价格为这个东西你是需要沉淀你一定要紧紧围绕者线程抢占式执行的然后分析结果线程池线程池一个容纳了多个线程的容器其中的线程可以反复的使用省去了频繁创建线程的对象的操作无需反复创建线程而消耗更多的资源工作原理在语言中并发编程都是通过创建线程池来实现的而线程池的创建方式也有很多种每种线程池的创建方式都对应了不同的使用场景总体来说线程池的创建可以分为以下两类通过手动创建线程池通过执行器自动创建线程池而以上两类创建线程池的方式又有种具体实现方法这种实现方法分别是创建一个可缓存的线程池若线程数超过处理所需缓存一段时间后会回收若线程数不够则新建线程创建单个线程数的线程池它可以保证先进先出的执行顺序创建一个可以执行延迟任务的线程池创建一个单线程的可以执行延迟任务的线程池创建一个抢占式执行的线程池任务执行顺序不确定添加手动创建线程池的方式它创建时最多可以设置个参数接下来我们分别来看这种线程池的具体使用中文翻译固定的线程池创建一个固定大小的线程池可控制并发线程数使用创建个固定大小的线程池具体实现代码如下创建个线程的线程池创建任务任务被执行线程线程池执行任务一次添加个任务执行任务的方法有两种和执行方式执行方式创建线程池创建了两个线程任务晚上吃饭线程为晚上睡觉线程为方法中写的是需求晚上敲代码不睡觉线程为执行上上面的三个任务可以缓存的线程池创建一个可缓存的线程池若线程数超过任务所需那么多余的线程会被缓存一段时间后才被回收若线程数不够则会新建线程使用示例如下线程数超过了任务数有四个线程但是任务有两个只需要两个线程就可以了其他两个线程回收线程数低于任务数新建线程自动新建创建线程池执行任务任务被执行线程线程池创建了个线程来执行相应的任务使用场景是根据短时间的任务量来决定创建的线程数量的所以它适合短时间内有突发大量任务的处理场景创建单个线程的线程池它可以保证先进先出队列的执行顺序使用示例如下创建线程池执行任务任务被执行单个线程的线程池有什么意义单个线程的线程池相比于线程来说它的优点有以下个可以复用线程即使是单个线程池也可以复用线程提供了任务管理功能单个线程池也拥有任务队列在任务队列可以存储多个任务这是线程无法实现的并且当任务队列满了之后可以执行拒绝策略这些都是线程不具备的创建一个可以执行延迟任务的线程池使用示例如下创建线程池添加定时执行任务后执行添加任务时间任务被执行时间上述结果可以看出任务在秒之后被执行了实现了延迟再执行任务创建一个单线程的可以执行延迟任务的线程池此线程池可以看作是的单线程池版本它的使用示例如下创建线程池添加定时执行任务后执行添加任务时间任务被执行时间上述结果可以看出任务在秒之后被执行了创建一个抢占式执行的线程池任务执行顺序不确定此方法是版本新增的因此只有在以上的程序中才能使用使用示例如下创建线程池执行任务被执行线程名确保任务执行完成从上述结果可以看出任务的执行顺序是不确定的因为它是抢占式执行的以上都不用以后开发要用的是最原始也是最推荐的手动创建线程池的方式它在创建时最多提供个参数可供设置这个参数面试问很哈皮使用示例如下这个是必须要会理解的创建线程池核心线程数个一个公司最大容量人核心只有个人只有这个人干活线程池最多可以运行线程数设置为约个亿左右存活时间空闲下来的线程得回收按照秒来计算活动状态比较活跃不回收如果你不干活超过秒我就会回收掉这个线程是单位可以是秒小时天毫秒纳秒阻塞队列执行任务被执行线程名尝试去看懂这个东西看不懂的话就再等等只要找工作前能理解透就可以的创建主要参数有个接下来将进行一一介绍最大线程数和核心线程数最大线程数线程池运行的最大线程数量受属性的限制最大为约亿核心线程数线程池中保持最小活动数的线程数量并且不允许超时除非调用方法这个时候最小值是当线程池线程数量小于核心线程数时一个新的任务请求被提交上来时不管其他线程是否处于空闲状态都会新建一个线程来处理这个请求如果在运行的线程数数量超过核心线程数但是小于最大线程数并且工作队列已满将创建一个线程处理这个请求默认情况下当一个任务请求时核心线程数才会被创建和启动但是也可以通过启动一个核心线程或者启动所有核心线程创建新的线程用来创建线程如果没有指定的话默认会使用来创建线程并且这些线程都是在同一个并且都是非守护线程状态并且拥有相同的优先级如果指定了可以修改和线程的名称守护状态优先级等如果调用方法返回则创建线程失败线程池会继续运行但可能不会执行任何任务线程应该拥有权限如果工作线程或者其他线程没有拥有这个权限服务可能会降级配置更改可能不会及时生效关闭线程池可能保持在可能终止但未完成的状态存活时间存活时间空闲线程等待工作的超时时间以纳秒为单位如果当前线程池中的线程数超过了核心线程数超出的部分线程如果空闲的时长大于存活时长那么他们将会被终止运行当线程池不被频繁使用的时候这提供了一种减少资源消耗的方法存活时间可以通过进行修改使用有效地禁止空闲线程在关闭之前终止默认情况下存活策略只适用于当前线程数超过核心线程数的情况下但是使用方法也可以将这个超时策略应用到核心线程只要值不为零时间单位是存活时间的单位阻塞队列任何实现了接口的实现类都可以用来传输和保存提交的任务阻塞队列的使用和线程池大小相关如果运行的线程少于核心线程数总是倾向于添加一个新线程而不是排队如果核心线程数个或更多线程正在运行不超过最大线程数个总是倾向于排队请求从个核心线程中去拿线程排队拿而不是添加一个新线程如果没有达到最大线程数并且队列未满将创建新的线程执行任务如果线程数大于最大线程数任务将会被拒绝三种排队策略直接传递工作队列的一个很好的默认选择是它将任务交给线程而不用其他方式持有它们一个新的任务尝试排队时如果没有可供使用的线程运行它时将会创建一个新的线程该策略避免了锁定处理可能具有内部依赖关系的请求集直接传递通常需要无界的最大线程池来避免新的任务提交这反过来又承认了当命令的平均到达速度快于它们的处理速度时线程无限增长的可能性无界队列无界队列是一个没有预定义容量的队列使用无界队列例如将导致新任务一直在等待当核心线程数个的线程处于工作状态时因此不会有超过核心线程数的线程被创建也就是说最大线程数是不起作用的当任务之间互相独立互不影响的时候这个选择可能是挺合适的例如在服务器中这种队列在消除短暂的高并发方面很有作用它允许无界队列增长的平均速度比处理的平均速度快有界队列无界队列例如它能在有限的最大线程数内防止资源耗尽但是它也更难调整和控制队列的大小和最大线程数可以互相替换使用更大的队列数量和小的线程池数量能够最小化的使用系统资源和上下文切换的开销但也人为的导致了低吞吐量如果一个任务频繁的阻塞例如频繁系统更多的时间是在频繁的调度而不是运行任务使用小的队列通常需要大的线程池数量这会让更能充分利用但是也会遇到不可接受的调度开销也会降低吞吐量拒绝任务在调用提交任务时在已经关闭或者有界队列的最大线程数和队列满的情况下任务会被拒绝不论在什么情况下方法调用任务都会根据拒绝策略被拒绝四种拒绝策略预定义了四种拒绝策略默认的拒绝策略简单粗暴拒绝的时候直接抛异常由调用者执行自身方法来运行提交进来的任务从名字调用者运行中就可以看出它会提供一个简单的反馈控制机制这种策略将降低新任务被提交上来的速度也很简单粗暴直接丢弃任务不抛异常丢弃最早的任务在队列头部也就是最新进入队列的任务会被丢弃然后尝试提交新任务如果提交失败会继续重复以上步骤也可以自己实现接口并重写方法来自定义拒绝策略通俗解释关于上面的参数我试着通俗的说一下希望我说的能让你明白假如现在有一家外包公司公司的核心开发有个人公司最多容纳个开发现在公司接了一个项目核心开发还忙的过来就将这个项目给其中一个核心开发做慢慢的销售人员接的项目越来越多个核心开发都在做项目没时间再做新的项目公司为了节省开支新来的项目只能先接过来暂时积压起来但是一直积压也不是个事情客户也会一直催公司顶住最多只能积压个积压到个之后公司也还能容纳个开发不得不再招人创建新的线程处理新的项目当公司发展的越来越好接的项目也越来越多这个开发也忙不过来了有新的项目再进来就只能通过各种方式拒绝了再后来因为疫情原因公司能接到的项目也越来越少了开发人员很多已经没事儿可做了大概过了两周时间公司又为了节省开支就把这些空闲下来的非核心开发给开了当然核心开发也不是说一定不能动也是可以开的只不过肯定是优先考虑非核心人员有人说了项目多的时候为啥不扩大公司规模呢首先公司老板最多也就有养这几个员工的的能力养的多了老板也吃不消多招一个人可能也不会使工作效率提高反而可能拖累其他开发的进度能养几个员工也是经过老板深思熟虑加以往的经验总结得出的结果相比于其他创建线程池的优势在于它可以通过参数来控制最大任务数和拒绝策略让线程池的执行更加透明和可控所以在阿里巴巴开发手册是这样规定的强制要求线程池不允许使用去创建而是通过的方式这样的处理方式让写的同学更加明确线程池的运行规则规避资源耗尽的风险内存溢出的错误说明返回的线程池对象的弊端如下和允许的请求队列长度为可能会堆积大量的请求从而导致允许的创建线程数量为可能会创建大量的线程从而导致总结线程池的创建方式总共有以下种创建一个固定大小的线程池可控制并发的线程数超出的线程会在队列中等待创建一个可缓存的线程池若线程数超过处理所需缓存一段时间后会回收若线程数不够则新建线程创建单个线程数的线程池它可以保证先进先出的执行顺序创建一个可以执行延迟任务的线程池创建一个单线程的可以执行延迟任务的线程池创建一个抢占式执行的线程池任务执行顺序不确定添加手动创建线程池的方式它创建时最多可以设置个参数而线程池的创建推荐使用最后一种的方式来创建因为使用它可以明确线程池的运行规则规避资源耗尽的风险基于接口和抽象类的匿名内部类的写法接口和抽象类的区别和区别和的区别书写单例模式序列化和反序列化的概念今天的内容流水果管理系统难点解决集合类库现有的弊端先在有一个需求将集合中姓张的名字元素过滤到新的集合中将集合中姓张的名字元素过滤到新的集合中张三张小三李四王五张大山新建一个新的集合用来存姓张的元素张如果使用流操作将集合对象转换成流对象张张获取流的对象根据集合获取流将集合中的数据变成流的形式接口下面的方法根据获取流对象老邢老邢邢老邢获取流对象也可以获取对象嘻嘻哈哈根据集合获取流对象狗蛋腾飞先获取键获取值流对象下面流就是集合中的数据方法对集合中进行操作的方法的名称方法的作用方法种类是否支持链式操作统计个数终结方法否逐个处理数据终结方法否过滤数据函数的拼接是取前几个函数的拼接是跳过前几个函数的拼接是映射函数的拼接是拼接函数的拼接是方法种类终结方法对流操作的时候链式操作的时候一定是写在最后的函数拼接方法还可以接着写方法工厂的流水线先造手机电池再造手机的主板造手机端额外壳一个成品和统计流中的元素的个数遍历数据的老邢老邢邢老邢方法返回由与此给定谓词匹配的此流的元素组成的流是一个判断接口咱们可以写一写返回值是类型老邢老邢邢老邢看数据流如果返回的是一个就把它留到流中如果是一个就把从流中踢出去邢限制取集合中前几个值老邢老邢骚磊大骚磊邢老邢小骚磊找出前个元素带有老的元素老方法用来映射关系将集合中集合中字符串转为类型的数据打印跳过前几个取面的数据老邢老邢骚磊大骚磊邢老邢小骚磊合并两个流老邢老邢骚磊大骚磊邢老邢小骚磊先变成流然后再合并收集流将流转为集合将流转为集合将流转为集合老邢老邢骚磊骚磊今天的内容反射重点反射反射很重要咱们以后进行封装的时候都有必要书写反射让咱们的代码具有更强普适性反射是在动态的获取类类属性类方法类构造方法等内部一些类的信息反射本质就是反着来平常获取类一个对象现在可以通过反射来获取想创建一个对象直接今天再学一种方式使用反射的方式获取一个类的对象执行原理先编译后执行编译之后的文件叫编译之后所有东西类的属性类的构造方法类的成年成员方法都在文件中这个文件变成了一个类对象了里卖弄有类的所有的信息获得无参构造方法把无参构造方法封装给以一个对象要无参构造干嘛可以通过构造方法创建对象从数据库里面查数据但是查出来的数据要赋值一个类三个类对应这数据库里面这三张表表狗蛋表汽车汽车已付款获取了值已经获取出来得把这些值赋值给实体类只能对赋值了其他类不能赋值这就不叫封装了封装的目的是具有普适性获取对象为啥要获取对象因为有了对象才能找关于类的属性方法构造方法可以将文件编译成文件这个文件中包含了原始文件中的所有的信息文件会被类加载器加载到虚拟机中可以通过文件获取原始类中的所有的信息随之产生一个类对象将变成了一个对象了获取一个类的对象有三种方式第一种获取对象方式类全限定名第二种方式第三种方式为啥要获取一个类的字节码文件对象因为我要获取字节码文件下面的构造方法方法属性等信息获取对象和一个类中的构造方法有关系构造方法类对象返回包含一个数组对象反射由此表示的所有公共构造方法对象返回一个反映对象表示的类声明的所有对象的数组类返回一个对象该对象反映对象表示的类类返回一个对象该对象反映对象表示的类或接口的指定构造方法对象以上的方法都是对象调用的下面这个方法是对象调用的使用此对象表示的构造函数使用指定的初始化参数来创建和初始化构造函数的声明类的新实例获取一个类对应的对象再拿对象获取构造方法对象内存地址获取一个类所有的构造方法对象获取单个的对象参数是个就证明获取的是无参的获取带有字符串类型的有参构造方法参数对象怎么将转为对象不能的获取私有化的构造方法是对象调用的不是对象调用的通过构造方法对象实例化一个对象出来如果有参的构造方法有参构造方法可以传值狗蛋老邢只用一个类下面有构造方法方法属性获取对象获取当前类或者父类的公开的所有的方法获取当前类所有的方法但是不能获取父类的方案类返回一个方法对象它反映此表示的类或接口的指定公共成类返回一个方法对象它反映此表示的类或接口的指定声明的方法类对象学一个下面的方法在具有指定参数的方法对象上调用此方法对象通过对象获取一个类下面方法对象打印的本类公开的方法和父类的方法获取本类的所有的方法获取一个方法第一个参数方法的名字第二个参数方法的参数的数据类型无参的方法有参的方法参数类型的数据私有话的方法方法对象获取以后干嘛方法要被调用使用对象调用这个方法第一个是你得告诉我在那个对象下面调用是方法的参数的实参在具有指定参数的方法对象上调用此方法对象方法对象自己执行方法狗子证明权限不够咋办接近不了咋办让它接近就可以啦暴力反射总结调用上午的内容获取三种方式包名类名类对象获取构造方法对象对象对象根据构造方法实例化对象获取方法对象对象对象类下面还有成员变量获取对象属性是在一个类下面也要对象获取属性对象获取公开的属性获取一个属性对象参数是属性的名字能不能使用方法获取私有的属性或者默认的属性不能属性对象可以获取的获取以后干嘛属性是用来赋值的对象属性进行赋值方法狗子暴力反射回顾三种创建对象的形式类对象字节文件对象下面获取构造方法对象的方法下面获取方法对象的方法下面获取属性对象的方法对象下面的方法通过构造方法创建了实例对象对象下面的方法对象下面的方法简单聊聊对反射的理解今天的内容单例模式序列化操作流以下两个是的新特性表达式流单例模式提供了二十多种设计模式在咱们教学过程中抽重要的学习开发中用的模式并不是一朝一夕学会的东西工厂模式代理模式策略模式等设计模式是全球公认的为了让咱们的代码变得更加简洁效率更高产生出来的模式修改的时候更加方便单例模式要求在整个程序运行过程中只出现一个实例对象减少内存的消耗如何判断两个对象或者多个对象是否是单例看内存地址如果内存地址相等的话绝对是同一个对象想一些问题创建对象通过关键字来创建但是一次再一次对象的内存地址绝对不一样的就意味着你必须将一个类的构造方法私有化以上两个对象是两个不同的对象单例模式的目的是只能有一个对象不能有多个对象就意味着不能再为啥一个就是对象不能在类里面咋写解决方案私有话构造方法不能想得到对象在类中定义一个静态方法为啥是静态方法只能用来调用懒汉式的写法懒汉式写法饿汉式写法懒汉式线程不安全饿汉式线程安全的效率来说饿汉式效率高因为不用加锁性能来说饿汉式类一加载就实力出来对象但是懒汉式调用方法的时候才进行创建对象懒汉式的内存消耗是小于饿汉式的序列化和流有关类反序列化和序列化是高层次的数据流它们包含反序列化和序列化对象的方法类包含很多写方法来写各种数据类型但是一个特别的方法例外上面的方法序列化一个对象并将它发送到输出流相似的类包含如下反序列化一个对象的方法该方法从流中取出下一个对象并将对象反序列化它的返回值为因此你需要将它转换成合适的数据类型总结序列化能干嘛将一个类对象信息构造方法属性方法可以写到本地一个文件中这叫序列化从文件中读取一个对象的信息这叫反序列化序列化注意事项被序列化的实体类必须实现一个接口不然不能被序列化序列化案例将一个对象赋值完以后写到到本地序列化将对象存到一个文件中骚磊月球将对象进行序列化存到一个文件中序列化的文件的后缀都是写入成功反序列化将本地的文件信息被序列化过的写到一个对象中进行反序列化总结序列化将对象的值存到本地磁盘的文件中以作备份反序列化可以将本次磁盘序列化过的文件读取到实体类的对象中表达式表达式被称称为闭包他是推动了新特性的重要的一步表达式运行函数式编程就是简化代码的变得更加简洁但是可读性特别差入门案例新建一个线程第一种的创建方式简洁嘻嘻哒锤人构造方法是接口对象嘻嘻表达式语法格式只看接口下面的唯一的一个抽象方法接口接口对象表达式无参无返回值的接口接口对象表达式有参无返回值的接口接口对象表达式无参有返回值的接口接口对象表达式有参有返回值无参无返回值的形式无参无返回值的敲代码而如果一个方法的参数是一个接口对象的话难免要这个接口重写方法有参无返返回值的方法吃狗蛋无参有返回值有参有返回值的第二阶段数据库前端服务器服务器技术数据库概念数据库指长期保存在计算机的存储设备上按照一定规则组织起来可以被各种用户或应用共享的数据集合数据库管理系统指一种操作和管理数据库的大型软件用于建立使用和维护数据库对数据库进行统一管理和控制以保证数据库的安全性和完整性用户通过数据库管理系统访问数据库中的数据数据库存储维护和管理数据的集合常见数据库关系型数据库介绍是一个关系型数据库管理系统由瑞典公司开发属于旗下产品是最流行的关系型数据库管理系统之一在应用方面是最好的关系数据库管理系统应用软件之一卸载开始控制面板卸载程序如果找到右键卸载删除隐藏文件删除文件夹删除的安装文件删除注册表打开注册表输入将最后一个文件删除安装现在安装的是的安装方式有两种一种是方式另外一种解压版这次就使用解压版安装解压缩到非中文目录编写配置文件在安装目录下新建的配置文件打开文件后缀和隐藏文件显示新建文件内编写内容设置端口设置的安装目录设置数据库的数据的存放目录允许最大连接数服务端使用的字符集默认为比特编码的字符集创建新表时将使用的默认存储引擎设置客户端默认字符集特别说明要换成自己的路径要换成自己的路径且该文件夹不能存在因为后续会自动创建现在存在反而后续会初始化失败执行命令初始化使用管理员权限打开命令提示符进入到的安装路径的目录下执行命令安装服务显示服务安装成功后继续执行命令成功了初始化成功后有一个临时密码开启服务执行命令开启服务修改密码登录到修改密码退出再试安装报错下载安装双击安装后重新执行命令没有服务名缺失一个步骤需要执行命令后再开启服务初始化失败执行完后没有出现密码确定配置文件内容是否正确安装路径内是否已经存在文件夹如果存在的话删除文件再试万能解决方案认真慢检查内容是否正确管理员权限进入执行命令先删除服务再重新安装服务器在重新初始化产生密码启动服务配置环境变量选择我的电脑右键属性高绩系统设置系统环境变量客户端基本操作启动服务命令启动图形化启动现在一般情况下开机自启的登录使用命令行登录连接退出语言结构化查询语言被美国国家标准局确定为关系型数据库语言的美国标准后来被国际化标准组织采纳为关系数据库语言的国际标准现在遵循的标准各数据库厂商都支持的标准普通话各数据库厂商在标准的基础上做了自己的扩展方言数据定义语言用来定义数据库对象库表列等数据操作语言用来定义数据库记录数据增删改数据查询语言用来查询记录数据数据控制语言用来定义访问权限和安全级别注意语句以结尾偶尔见到有结尾也可以主要是针对数据库表列的操作即创建查询修改删除查询数据库创建数据库库名修改创建数据库时默认字符集是修改命令只能修改字符集不能修改数据库名删除数据库库名操作表的前提是得先进入某个数据库才能操作数据库内部的表选择进入数据库库名查询当前所在库查询当前库下所有表创建表表名字段数据类型长度字段数据类型长度常用数据类型数据类型解释长度整型可以不写默认字符串字符串浮点型总长位其中包含两位小数日期没有长度日期时间没有长度时间戳没有长度数据库中字符串不分单字符所有字符串都是单引号括使用和都可以代表字符串和的区别是的缩写就是可变化的字符串例如存入张三是定长例如存入张三需求创建表有字段学号整型姓名字符型性别字符型年龄整型生日日期型修改表名旧名新名修改列名表名旧名新名数据类型长度查看表结构表名加一列表名新列名数据类型长度删列表名列名删表表名总结创建修改删除查询图形化界面图形化操作命令操作编辑器数据操作语言针对表中数据进行操作主要是对表数据进行增删改增加语法表名字段字段值值其他用法当要插入全部列时表名后的列名可以省略此时要注意值的顺序要与原表的顺序一致可以指定部分列插入数据列和值的顺序数量数据类型要一一对应字符串使用单引号日期暂时也是使用单引号括起可以支持同时插入多条数据后用分别写多条数据用逗号隔开标准语法张三丰男省略张无忌男插入部分数据赵敏可以因为支持类型转换单不建议可以因为支持类型转换单不建议日期类型支持或武器大师男插入多条数据狗头公雷克顿公阿兹尔男修改语法表名字段值字段值字段值标准曾阿牛条件虽说可加可不加但是不加的话将影响全部数据所以强烈建议以后更新必须加条件删除语法表名字段值从表中删除数据强烈建议加条件否则会删除全部数据公司实际开发一般不会真的删除数据会在表中设计状态字段删除其实是在执行更新状态而已',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-09 14:40:38',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300844043.png"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://mydocs.guoyaxue.top/" title="旧版博客"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="旧版博客"/><span class="back-menu-item-text">旧版博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://pan.xiaou61.top/#/" title="免费网盘"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="免费网盘"/><span class="back-menu-item-text">免费网盘</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://cloud.xiaou61.top/" title="云盘(自用)"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="云盘(自用)"/><span class="back-menu-item-text">云盘(自用)</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://wpzc.xiaou61.top/" title="云盘转存"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="云盘转存"/><span class="back-menu-item-text">云盘转存</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://love.xiaou61.top/#/" title="关于我们(My girlFriend)"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="关于我们(My girlFriend)"/><span class="back-menu-item-text">关于我们(My girlFriend)</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">娱乐项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="http://fxq.xiaou61.top/#/" title="飞行棋"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="飞行棋"/><span class="back-menu-item-text">飞行棋</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://blogutil-1305448902.cos-website.ap-nanjing.myqcloud.com/game/sqnwmai803/" title="谁去拿外卖"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="谁去拿外卖"/><span class="back-menu-item-text">谁去拿外卖</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://blogutil-1305448902.cos-website.ap-nanjing.myqcloud.com/win12kymain/win12-main/desktop.html" title="win12网页版"><img class="back-menu-item-icon" src="https://blogutil-1305448902.cos-website.ap-nanjing.myqcloud.com/win12kymain/win12-main/icon/logo.svg" alt="win12网页版"/><span class="back-menu-item-text">win12网页版</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://game.xiaou61.top/" title="在线游戏"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="在线游戏"/><span class="back-menu-item-text">在线游戏</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">小u的博客</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 开往</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html"><span> 开往</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816229.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816229.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816224.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816224.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>3</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/JVM/" style="font-size: 1.05rem;">JVM<sup>22</sup></a><a href="/tags/Nginx/" style="font-size: 1.05rem;">Nginx<sup>1</sup></a><a href="/tags/Spring/" style="font-size: 1.05rem;">Spring<sup>1</sup></a><a href="/tags/Ts/" style="font-size: 1.05rem;">Ts<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 1.05rem;">TypeScript<sup>1</sup></a><a href="/tags/WebApi/" style="font-size: 1.05rem;">WebApi<sup>1</sup></a><a href="/tags/coder1v5/" style="font-size: 1.05rem;">coder1v5<sup>2</sup></a><a href="/tags/css/" style="font-size: 1.05rem;">css<sup>3</sup></a><a href="/tags/java/" style="font-size: 1.05rem;">java<sup>12</sup></a><a href="/tags/javaSE/" style="font-size: 1.05rem;">javaSE<sup>3</sup></a><a href="/tags/javaWeb/" style="font-size: 1.05rem;">javaWeb<sup>2</sup></a><a href="/tags/js%E9%80%86%E5%90%91/" style="font-size: 1.05rem;">js逆向<sup>1</sup></a><a href="/tags/leetcode/" style="font-size: 1.05rem;">leetcode<sup>3</sup></a><a href="/tags/python/" style="font-size: 1.05rem;">python<sup>8</sup></a><a href="/tags/%E4%B9%A6%E7%B1%8D%E6%8E%A8%E8%8D%90/" style="font-size: 1.05rem;">书籍推荐<sup>2</sup></a><a href="/tags/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%90%AC%E8%BF%90/" style="font-size: 1.05rem;">公众号搬运<sup>35</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">前端<sup>10</sup></a><a href="/tags/%E5%8A%9E%E5%85%AC/" style="font-size: 1.05rem;">办公<sup>1</sup></a><a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 1.05rem;">后端<sup>8</sup></a><a href="/tags/%E5%A4%A9%E6%B6%AF%E8%AE%BA%E5%9D%9B/" style="font-size: 1.05rem;">天涯论坛<sup>1</sup></a><a href="/tags/%E5%AF%BC%E8%88%AA/" style="font-size: 1.05rem;">导航<sup>1</sup></a><a href="/tags/%E5%B0%B1%E4%B8%9A/" style="font-size: 1.05rem;">就业<sup>16</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 1.05rem;">微信<sup>1</sup></a><a href="/tags/%E6%8A%80%E6%9C%AF%E6%9D%82%E8%B0%88/" style="font-size: 1.05rem;">技术杂谈<sup>51</sup></a><a href="/tags/%E6%8E%98%E9%87%91/" style="font-size: 1.05rem;">掘金<sup>14</sup></a><a href="/tags/%E6%9D%82%E9%A1%B9/" style="font-size: 1.05rem;">杂项<sup>1</sup></a><a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 1.05rem;">测试<sup>1</sup></a><a href="/tags/%E6%B8%A1%E4%B8%80%E5%A4%A7%E5%B8%88%E8%AF%BE/" style="font-size: 1.05rem;">渡一大师课<sup>3</sup></a><a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 1.05rem;">爬虫<sup>1</sup></a><a href="/tags/%E7%9B%AE%E5%BD%95/" style="font-size: 1.05rem;">目录<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">算法<sup>4</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem;">虚拟机<sup>12</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">设计模式<sup>6</sup></a><a href="/tags/%E8%B7%AF%E9%A3%9E%E5%AD%A6%E9%99%A2/" style="font-size: 1.05rem;">路飞学院<sup>3</sup></a><a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 1.05rem;">面向对象<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.05rem;">面试<sup>51</sup></a><a href="/tags/%E9%A3%9E%E8%A1%8C%E6%A3%8B/" style="font-size: 1.05rem;">飞行棋<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">October 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">234</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">September 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/" itemprop="url">java</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/javaSE/" itemprop="url">javaSE</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/java/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>java</span></a><a class="article-meta__tags" href="/tags/javaSE/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>javaSE</span></a></span></div></div><h1 class="post-title" itemprop="name headline">重学java第一阶段(下)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-09-30T23:34:05.983Z" title="Created 2023-10-01 07:34:05">2023-10-01</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-08-09T06:40:38.338Z" title="Updated 2023-08-09 14:40:38">2023-08-09</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为邯郸"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>邯郸</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2023/10/01/codenotes/Java/qf/2/"><header><a class="post-meta-categories" href="/categories/java/" itemprop="url">java</a><a class="post-meta-categories" href="/categories/java/javaSE/" itemprop="url">javaSE</a><a href="/tags/java/" tabindex="-1" itemprop="url">java</a><a href="/tags/javaSE/" tabindex="-1" itemprop="url">javaSE</a><h1 id="CrawlerTitle" itemprop="name headline">重学java第一阶段(下)</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">小u</span><time itemprop="dateCreated datePublished" datetime="2023-09-30T23:34:05.983Z" title="Created 2023-10-01 07:34:05">2023-10-01</time><time itemprop="dateCreated datePublished" datetime="2023-08-09T06:40:38.338Z" title="Updated 2023-08-09 14:40:38">2023-08-09</time></header><h2 id="day18"><a href="#day18" class="headerlink" title="day18"></a>day18</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">回顾</span><br><span class="line">1·Object</span><br><span class="line">	toString()</span><br><span class="line">	equals()</span><br><span class="line">	hashCode()</span><br><span class="line">2.hashSet这个类</span><br><span class="line">3.TreeSet这个类</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h3 id="今天内容"><a href="#今天内容" class="headerlink" title="今天内容"></a>今天内容</h3><blockquote>
<p>1.TreeSet的底层</p>
<p>2.匿名内部类【开发用的】</p>
<p>3.内部类</p>
<p>4.map</p>
</blockquote>
<h3 id="1-二叉树的了解"><a href="#1-二叉树的了解" class="headerlink" title="1.二叉树的了解"></a>1.二叉树的了解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">通过查阅API我们得知TreeSet集合是基于TreeMap的实现，而TreeMap是基于二叉树（红黑树）结构，也就是说TreeSet集合的底层使用的二叉树（红黑树）结构。</span><br><span class="line"></span><br><span class="line">树结构：它也是数据结构中的一种。在计算机领域中树结构指的是倒立的树。</span><br><span class="line"></span><br><span class="line">树结构存储的数据，每个数据也需要节点来保存。</span><br><span class="line"></span><br><span class="line">而TreeSet集合底层是二叉树的数据结构，什么是二叉树呢？</span><br><span class="line"></span><br><span class="line">二叉树：每个节点的下面最多只能有2个子节点。</span><br><span class="line"></span><br><span class="line">说明：最多表示一个节点下面可以有两个子节点或者一个子节点或者没有子节点。</span><br><span class="line"></span><br><span class="line">在二叉树的根节点左侧的节点称为左子树，在根节点的右侧的节点称为右子树。</span><br><span class="line"></span><br><span class="line">既然已经得知TreeSet集合底层是二叉树，那么二叉树是怎样存储数据的呢？是怎样保证存储的数据唯一并有序的呢？</span><br><span class="line"></span><br><span class="line">二叉树的存储流程：</span><br><span class="line"></span><br><span class="line">当存储一个元素的时候，如果是树的第一个元素，这个元素就作为根节点。</span><br><span class="line"></span><br><span class="line">如果不是第一个元素，那么就拿要存储的元素与根节点进行比较大小：</span><br><span class="line"></span><br><span class="line">大于根元素：就将要存储的元素放到根节点的右侧，作为右叶子节点。</span><br><span class="line"></span><br><span class="line">等于根元素：丢弃。</span><br><span class="line"></span><br><span class="line">小于根元素：就将要存储的元素放到根节点的左侧，作为左叶子节点。</span><br><span class="line"></span><br><span class="line">总结：二叉树是通过比较大小来保证元素唯一和排序的。</span><br><span class="line">20  10  31  5  13  23 51</span><br><span class="line"></span><br><span class="line">http://data.biancheng.net/view/192.html</span><br></pre></td></tr></table></figure>

<blockquote>
<p>案例：</p>
<p>​		使用TreeSet存储Employee对象，比较两个属性</p>
<p>​		int age,  int weight   先按照年龄进行升序排，如果年龄相等的话，按照体重升序排</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Employee&gt;&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">int</span> weight;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">int</span> weight)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, weight=&quot;</span> + weight +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Employee o)</span> &#123;</span><br><span class="line">        <span class="comment">//先按照年两比，如果年龄相等 就比较体重</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="built_in">this</span>.age - o.age;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> o.weight - <span class="built_in">this</span>.weight;</span><br><span class="line">            <span class="keyword">return</span> num1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Set&lt;Employee&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;广坤&quot;</span>, <span class="number">35</span>, <span class="number">78</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;二贝&quot;</span>, <span class="number">26</span>, <span class="number">70</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;赵四&quot;</span>, <span class="number">35</span>, <span class="number">72</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;彩云&quot;</span>, <span class="number">35</span>, <span class="number">79</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;鸡哥&quot;</span>, <span class="number">32</span>, <span class="number">59</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;正经博&quot;</span>, <span class="number">32</span>, <span class="number">59</span>));</span><br><span class="line">        System.out.println(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>案例：</p>
<p>​		TreeSet里面存的是Dog类，	</p>
<p>​		两个属性： String  name, int  age</p>
<p>​		先按照字符串的字典顺序排，然后字符串相等的话，在按照年龄排</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Dog&gt;&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Dog o)</span> &#123;</span><br><span class="line">        <span class="comment">//先按照字典的顺序进行排，如果字符串相等再按照年龄升序排</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="built_in">this</span>.name.compareTo(o.name);</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//字符串相等的情况，又要比较年领</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="built_in">this</span>.age - o.age;</span><br><span class="line">            <span class="keyword">return</span> num1;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Set&lt;Dog&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;彩云&quot;</span>, <span class="number">5</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;旺财&quot;</span>, <span class="number">2</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;大黄&quot;</span>, <span class="number">6</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;大黄&quot;</span>, <span class="number">3</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;大黄&quot;</span>, <span class="number">4</span>));</span><br><span class="line">        System.out.println(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：使用TreeSet的时候需要类实现一个接口 Comparable这个接口去做比较排序</p>
<p>但是就只有这一种方式进行排序吗？不是的！！！还有一种比较器的写法Comparator这个接口</p>
<h3 id="2-使用比较器将数据存储到TreeSet中"><a href="#2-使用比较器将数据存储到TreeSet中" class="headerlink" title="2.使用比较器将数据存储到TreeSet中"></a>2.使用比较器将数据存储到TreeSet中</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyComparator</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Student&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> o1.age - o2.age;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//如果想要使用比较器的写法 必须再new TreeSet的时候</span></span><br><span class="line">        <span class="comment">//加上比较器对象</span></span><br><span class="line">        <span class="comment">//TreeSet 有一个有参构造，有参构造的方法是Comparwator的对象</span></span><br><span class="line">        <span class="comment">//Comparator是一个接口 不能实例化，咋办？再写一个类去实现这个接口</span></span><br><span class="line">        Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">MyComparator</span>());</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;维一&quot;</span>, <span class="number">23</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;永康&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;赵娜&quot;</span>, <span class="number">18</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;运铎&quot;</span>, <span class="number">28</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;佳祥&quot;</span>, <span class="number">36</span>));</span><br><span class="line">        System.out.println(students);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ArrayList：就是单纯的add</span><br><span class="line">LinkedList: 也是单纯的add</span><br><span class="line">HashSet: 不单纯 得重写equals 和hashCode 方法</span><br><span class="line">TreeSet：不单纯  得在类中去实现Comparable这个接口  让类具有比较排序功能</span><br><span class="line">开发中使用ArrayList</span><br></pre></td></tr></table></figure>

<h3 id="3-匿名内部类"><a href="#3-匿名内部类" class="headerlink" title="3.匿名内部类"></a>3.匿名内部类</h3><blockquote>
<p>为了减少代码量</p>
</blockquote>
<h4 id="3-1基于抽象类的匿名内部类"><a href="#3-1基于抽象类的匿名内部类" class="headerlink" title="3.1基于抽象类的匿名内部类"></a>3.1基于抽象类的匿名内部类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_anno;</span><br><span class="line"></span><br><span class="line"><span class="comment">//声明一个抽象列类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;好想逃，然后去睡觉！！！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//常规来讲，新建一个类 去继承抽象类。然后实例化继承的抽象类的类</span></span><br><span class="line"><span class="comment">//class Man extends Person &#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    public void eat() &#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;好饿，想吃肉！！！&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//匿名内部类：在实例化对抽象类同时并重写抽象方法</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;吃吃喝喝&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        person.eat();</span><br><span class="line">        person.sleep();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_anno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">call</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">call1</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Animal</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">call</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;哇哇叫！！！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">call1</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;哈哈叫&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.call();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Animal</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">call</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;哇哇叫！！！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">call1</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;哈哈叫&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.call1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-2基于接口的匿名内部类"><a href="#3-2基于接口的匿名内部类" class="headerlink" title="3.2基于接口的匿名内部类"></a>3.2基于接口的匿名内部类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_anno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testA</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        A a = new A()&#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//            @Override</span></span><br><span class="line"><span class="comment">//            public void testA() &#123;</span></span><br><span class="line"><span class="comment">//                System.out.println(&quot;嘻嘻哒&quot;);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;;</span></span><br><span class="line"><span class="comment">//        a.testA();</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">A</span>()&#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testA</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;哈哈&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.testA();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_anno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="comment">//存到TreeSet里面</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Set&lt;Student&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span>  o1.age - o2.age;</span><br><span class="line">                <span class="keyword">return</span> num;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;维一&quot;</span>, <span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;永康&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;赵娜&quot;</span>, <span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;运铎&quot;</span>, <span class="number">28</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;佳祥&quot;</span>, <span class="number">36</span>));</span><br><span class="line">        System.out.println(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>真实开发的时候，一个方法参数是一个接口对象，不用再新建一个类去实现这个接口，直接方法中去new 接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_anno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test(<span class="keyword">new</span> <span class="title class_">B</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;吃锦旗&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span> <span class="params">(B b)</span> &#123;</span><br><span class="line">        b.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-内部类"><a href="#4-内部类" class="headerlink" title="4.内部类"></a>4.内部类</h3><blockquote>
<p>从字面意思来理解：在类的内部创建一个类，这个类叫内部类</p>
</blockquote>
<h4 id="4-1成员内部类"><a href="#4-1成员内部类" class="headerlink" title="4.1成员内部类"></a>4.1成员内部类</h4><blockquote>
<p>在类的方法的外面再类中，就是成员内部类</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_inner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MemberDemo</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printf</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;打印着玩&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;<span class="comment">//就是内部类</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">        <span class="comment">//在Inner这个类中可以访问外部类的属性和方法</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span> <span class="params">()</span> &#123;</span><br><span class="line">            printf();<span class="comment">//打印着玩</span></span><br><span class="line">            System.out.println(age);<span class="comment">//20</span></span><br><span class="line">            System.out.println(name);<span class="comment">//李四</span></span><br><span class="line">            <span class="comment">//如果访问外部特定的属性的时候: 类名.this.属性</span></span><br><span class="line">            System.out.println(MemberDemo.<span class="built_in">this</span>.name);<span class="comment">//张三</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//成员内部类的创建步骤：</span></span><br><span class="line">        <span class="comment">//1.实例化外部类 类对象</span></span><br><span class="line">        <span class="type">MemberDemo</span> <span class="variable">memberDemo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MemberDemo</span>();</span><br><span class="line">        <span class="comment">//2.实例化内部类对象，但是new得改为  外部对象.new</span></span><br><span class="line">        MemberDemo.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> memberDemo.<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        inner.test();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="day19"><a href="#day19" class="headerlink" title="day19"></a>day19</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">1.匿名内部类的写法</span><br><span class="line">	针对于抽象类和接口的</span><br><span class="line">	现在直接new，但是在new  接口的时候  一定重写抽象的方法</span><br><span class="line">	new A ()&#123;</span><br><span class="line">		public void test () &#123;</span><br><span class="line">			System.out.println(&quot;测试&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;.test();</span><br><span class="line">	真实开发的时候：</span><br><span class="line">		一个接口或者抽象类会作为方法的参数。</span><br><span class="line">		在之前新建一个类去实现一个接口。但是现在学完匿名内部类之后</span><br><span class="line">		直接在方法中直接new  </span><br><span class="line">2.成员内部类的写法</span><br><span class="line">	class Person &#123;</span><br><span class="line">		</span><br><span class="line">		class Inner &#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">3.String类下面的方法</span><br><span class="line">	重要</span><br><span class="line">	</span><br><span class="line">4.List接口下面的方法</span><br><span class="line">	add</span><br><span class="line">	remove</span><br><span class="line">	get</span><br><span class="line">	size</span><br><span class="line">	set</span><br><span class="line">5.比较器在TreeSet中的使用</span><br><span class="line">Set&lt;Student&gt; set = new TreeSet&lt;&gt;(new Comparator&lt;Student&gt; () &#123;</span><br><span class="line">	public int compare (Student o1, Student o2) &#123;</span><br><span class="line">		return o1.age - o2.age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">6.八大基本数据类型所对应得包装类</span><br><span class="line">int Integer</span><br><span class="line">byte Byte</span><br><span class="line">short Short</span><br><span class="line">long Long</span><br><span class="line">float Float</span><br><span class="line">double Double</span><br><span class="line">char  Character</span><br><span class="line">boolean Boolean</span><br><span class="line">7.HashSet和TreeSet区别</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="今天的内容"><a href="#今天的内容" class="headerlink" title="今天的内容"></a>今天的内容</h3><blockquote>
<p>1.Map</p>
<p>2.File类</p>
</blockquote>
<h3 id="1-Map集合"><a href="#1-Map集合" class="headerlink" title="1.Map集合"></a>1.Map集合</h3><blockquote>
<p>地图， 通过一个点可以找到一个具体的位置 映射</p>
<p>map集合也是存数据的</p>
<p>双边队列</p>
<h5 id="Interface-Map"><a href="#Interface-Map" class="headerlink" title="Interface Map&lt;K,V&gt;"></a>Interface Map&lt;K,V&gt;</h5><p>k:  key  键</p>
<p>v: value  值</p>
<p>键值对</p>
<p>意味着咱们map集合中存的数据是键值对像&#x3D;形式的数据</p>
<p>｛0001&#x3D;家豪， 002&#x3D;志成， 003&#x3D;王腾飞｝</p>
<p>–|HashMap</p>
<p>–|TreeMap</p>
</blockquote>
<h4 id="1-1Map集合中常用的方法"><a href="#1-1Map集合中常用的方法" class="headerlink" title="1.1Map集合中常用的方法"></a>1.1Map集合中常用的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">增：</span><br><span class="line">	V put(K key, V vlaue);添加键值对的数据到map集合中</span><br><span class="line">	void putAll(Map&lt;? extends K&gt; k, Map&lt;? extends V&gt; v);将一个map集合存放到另外一个map集合中</span><br><span class="line">	</span><br><span class="line">删:</span><br><span class="line">	V remove (K key);通过键删除键值对的数据，返回值是值</span><br><span class="line">改：</span><br><span class="line">	V  put(K key V value);当键值存在的时候，会将value值覆盖掉的</span><br><span class="line">查:</span><br><span class="line">	int size(); 查看集合中元素的个数</span><br><span class="line">	boolean isEmpty();判断是否为空，如果不为空返回的是false</span><br><span class="line">	boolean containsKey();是否包含这个键</span><br><span class="line">	boolean containsValue();是否包含这个值</span><br><span class="line">	重要的方法:</span><br><span class="line">	V get(K key);通过键获取值</span><br><span class="line">	Set&lt;K&gt;  keySet();获取map集合中的键，然后存到set集合中</span><br><span class="line">	Collection&lt;V&gt; values(); 获取map集合中值，存到了Collection集合中</span><br><span class="line">	Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()；将map集合的键值对，存到了set集合</span><br><span class="line">		Map.Entry这个接口的方法</span><br><span class="line">			getKey:返回键值对的键</span><br><span class="line">			getValue:返回键值对的值</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;002&quot;</span>, <span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;001&quot;</span>, <span class="string">&quot;骚磊&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;003&quot;</span>, <span class="string">&quot;老万&quot;</span>);</span><br><span class="line">        <span class="comment">//&#123;001=老邢, 002=骚磊, 003=老万&#125;</span></span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">//键必须是唯一的，因为底层使用的hash算法的操作</span></span><br><span class="line">        <span class="comment">//value值是会被替换的，当键一样的时候</span></span><br><span class="line"></span><br><span class="line">        map.put(<span class="string">&quot;002&quot;</span>, <span class="string">&quot;二贝&quot;</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        Map&lt;String, String&gt; map1 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map1.put(<span class="string">&quot;004&quot;</span>, <span class="string">&quot;小邢&quot;</span>);</span><br><span class="line">        map1.put(<span class="string">&quot;005&quot;</span>, <span class="string">&quot;小骚磊&quot;</span>);</span><br><span class="line">        map1.put(<span class="string">&quot;006&quot;</span>, <span class="string">&quot;小老万&quot;</span>);</span><br><span class="line">        map.putAll(map1);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">//&#123;001=骚磊, 002=二贝, 003=老万, 004=小邢, 005=小骚磊, 006=小老万&#125;</span></span><br><span class="line">        System.out.println(map.remove(<span class="string">&quot;001&quot;</span>));<span class="comment">//骚磊</span></span><br><span class="line">        System.out.println(map);<span class="comment">//删除完以后，看看还有咩有这个键值对</span></span><br><span class="line">        map.put(<span class="string">&quot;006&quot;</span>, <span class="string">&quot;小小万&quot;</span>);<span class="comment">//修改</span></span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">//查询</span></span><br><span class="line">        System.out.println(map.size());<span class="comment">//5</span></span><br><span class="line">        System.out.println(map.isEmpty());<span class="comment">//false</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">&quot;002&quot;</span>));<span class="comment">//true</span></span><br><span class="line">        System.out.println(map.containsValue(<span class="string">&quot;大狗蛋&quot;</span>));<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取所有的键 存到set集合中了</span></span><br><span class="line">        Set&lt;String&gt; strings = map.keySet();</span><br><span class="line">        System.out.println(strings);</span><br><span class="line"></span><br><span class="line">        Collection&lt;String&gt; values = map.values();</span><br><span class="line">        System.out.println(values);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//entrySet</span></span><br><span class="line">        Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = map.entrySet();</span><br><span class="line">        System.out.println(entries);</span><br><span class="line">        <span class="comment">//将数据取出来</span></span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : entries) &#123;</span><br><span class="line">            System.out.println(entry);</span><br><span class="line">            System.out.println(entry.getKey());</span><br><span class="line">            System.out.println(entry.getValue());</span><br><span class="line">            System.out.println(<span class="string">&quot;--------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-2Map集合中的value-存的是对象"><a href="#1-2Map集合中的value-存的是对象" class="headerlink" title="1.2Map集合中的value 存的是对象"></a>1.2Map集合中的value 存的是对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Student&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">24</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;狗蛋&quot;</span>, <span class="number">26</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;财运&quot;</span>, <span class="number">28</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;彩云&quot;</span>, <span class="number">23</span>));</span><br><span class="line"></span><br><span class="line">        List&lt;Student&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list1.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;二贝&quot;</span>, <span class="number">24</span>));</span><br><span class="line">        list1.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;老邢&quot;</span>, <span class="number">26</span>));</span><br><span class="line">        list1.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;秦始皇&quot;</span>, <span class="number">28</span>));</span><br><span class="line">        list1.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;汉武帝&quot;</span>, <span class="number">23</span>));</span><br><span class="line">        Map&lt;String, List&lt;Student&gt;&gt; map1 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map1.put(<span class="string">&quot;001&quot;</span>, list);</span><br><span class="line">        map1.put(<span class="string">&quot;002&quot;</span>, list1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//以上在存值</span></span><br><span class="line">        <span class="comment">//取值</span></span><br><span class="line">        Collection&lt;List&lt;Student&gt;&gt; values1 = map1.values();</span><br><span class="line">        <span class="keyword">for</span> (List&lt;Student&gt; students : values1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Student student : students) &#123;</span><br><span class="line">                System.out.println(student.name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;======&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer, Student&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">24</span>));</span><br><span class="line">        map.put(<span class="number">2</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">24</span>));</span><br><span class="line">        map.put(<span class="number">3</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;狗蛋&quot;</span>, <span class="number">26</span>));</span><br><span class="line">        map.put(<span class="number">4</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">21</span>));</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">//以上存值</span></span><br><span class="line">        <span class="comment">//取值</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//取键</span></span><br><span class="line">        Set&lt;Integer&gt; key = map.keySet();</span><br><span class="line">        System.out.println(key);</span><br><span class="line">        Collection&lt;Student&gt; values = map.values();</span><br><span class="line">        System.out.println(values);</span><br><span class="line">        <span class="keyword">for</span> (Student value : values) &#123;</span><br><span class="line">            System.out.println(value.name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;=====&quot;</span>);</span><br><span class="line">        <span class="comment">//使用entrySet</span></span><br><span class="line">        Set&lt;Map.Entry&lt;Integer, Student&gt;&gt; entries = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, Student&gt; entry : entries) &#123;</span><br><span class="line">            System.out.println(entry.getValue().name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">可以自己百度先自己看一下，看看能不能看懂！！！ jdk 1.8的  HashMap源码 底层</span><br><span class="line">总结：</span><br><span class="line">	开发中用</span><br><span class="line">		List==》ArrayList</span><br><span class="line">		Map===&gt;HashMap</span><br></pre></td></tr></table></figure>

<p>下面来看一个hashset和treeset的区别</p>
<p>因为都是set的子类,Set具有元素不可重复性,所以TreeSet和hashset都不可放2个相同的元素<br>TreeSet底层是TreeMap实现的 ，很多api都是利用TreeMap来实现的<br>HashSet底层是HashMap实现的，很多api都是利用HashMap来实现的</p>
<p>TreeSet<br>TreeSet判断两个对象不相等的方式是两个对象通过equals方法返回false，或者通过CompareTo方法比较没有返回0</p>
<p>HashSet集合不能存储重复的元素，那么元素之间是否重复，HashSet是根据什么机制去判断的呢？</p>
<p>HashSet在添加一个元素时（比如此时添加的是”a”这个元素），都会将该元素与set中所遍历到的每个元素作比较，比较的过程是这样的：先用该元素的hashCode值与遍历到的每个元素的hashCode作比较，如果hashCode不相等，则直接添加；若hashCode的值一样，则继续用该元素的equals()方法比较（是被添加的equals()方法，与之比较的元素作为参数），如果equals()方法得到的值是一样的，不再添加，如果equals()的值是不一样的，就会将该对象添加到其他内存地址（重新计算出不一样的hashCode）。</p>
<h4 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h4><p>HashSet有以下特点<br> 不能保证元素的排列顺序，顺序有可能发生变化<br> 不是同步的<br> 集合元素可以是null,但只能放入一个null<br>当向HashSet集合中存入一个元素时，HashSet会调用该对象的hashCode()方法来得到该对象的hashCode值，然后根据 hashCode值来决定该对象在HashSet中存储位置。<br>简单的说，HashSet集合判断两个元素相等的标准是两个对象通过equals方法比较相等，并且两个对象的hashCode()方法返回值相 等<br>注意，如果要把一个对象放入HashSet中，重写该对象对应类的equals方法，也应该重写其hashCode()方法。其规则是如果两个对 象通过equals方法比较返回true时，其hashCode也应该相同。另外，对象中用作equals比较标准的属性，都应该用来计算 hashCode的值。</p>
<p>HashSet是基于HashMap实现的，元素的值存储在key上，value的值所有元素都一样，都是这个 private static final Object PRESENT &#x3D; new Object();</p>
<h4 id="TreeSet类"><a href="#TreeSet类" class="headerlink" title="TreeSet类"></a>TreeSet类</h4><p>TreeSet是SortedSet接口的唯一实现类，TreeSet可以确保集合元素处于排序状态。TreeSet支持两种排序方式，自然排序 和定制排序，其中自然排序为默认的排序方式。向TreeSet中加入的应该是同一个类的对象。<br>自然排序<br>自然排序使用要排序元素的CompareTo（Object obj）方法来比较元素之间大小关系，然后将元素按照升序排列。<br>Java提供了一个Comparable接口，该接口里定义了一个compareTo(Object obj)方法，该方法返回一个整数值，实现了该接口的对象就可以比较大小。<br>obj1.compareTo(obj2)方法如果返回0，则说明被比较的两个对象相等，如果返回一个正数，则表明obj1大于obj2，如果是 负数，则表明obj1小于obj2。<br>如果我们将两个对象的equals方法总是返回true，则这两个对象的compareTo方法返回应该返回0<br>定制排序<br>自然排序是根据集合元素的大小，以升序排列，如果要定制排序，应该使用Comparator接口，实现 int compare(T o1,T o2)方法。</p>
<p>最重要：</p>
<p>1、TreeSet 是二叉树实现的,Treeset中的数据是自动排好序的，不允许放入null值。</p>
<p>2、HashSet 是哈希表实现的,HashSet中的数据是无序的，可以放入null，但只能放入一个null，两者中的值都不能重复，就如数据库中唯一约束。</p>
<p>3、HashSet要求放入的对象必须实现HashCode()方法，放入的对象，是以hashcode码作为标识的，而具有相同内容的 String对象，hashcode是一样，所以放入的内容不能重复。但是同一个类的对象可以放入不同的实例</p>
<h3 id="2-File类"><a href="#2-File类" class="headerlink" title="2.File类"></a>2.File类</h3><blockquote>
<p>文件和文件夹（文件路径）的抽象表示，是专门来出来u磁盘上面的文件或者文件夹的</p>
<p>之前都是手动创建，现在可以借助Java封装好的类创建文件夹和文件。</p>
<p>路径问题：</p>
<p>​		相对路径：</p>
<p>​					得有一个参照物</p>
<p>​						.&#x2F;当前工作目录</p>
<p>​						..&#x2F;上一级路径的目录</p>
<p>​						..&#x2F;..&#x2F;上两级目录</p>
<p>​		绝对路径:</p>
<p>​					磁盘的跟路径一级一级的往下找</p>
<p>​					C:\ccc\ddd\1.png</p>
</blockquote>
<h4 id="2-1File-类的构造方法"><a href="#2-1File-类的构造方法" class="headerlink" title="2.1File 类的构造方法"></a>2.1File 类的构造方法</h4><blockquote>
<p>File(String pathname)</p>
<p>通过将给定的路径名字符串转换为抽象路径名来创建新的 <code>File</code>实例。</p>
<p>File(String parent, String child)</p>
<p>从父路径名字符串和子路径名字符串创建新的 <code>File</code>实例。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//可以将1.txt 抽象成一个Java代码的对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/1.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:\\aaa\\1.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//Java中   看系统</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1./  在windows系统和linux 都是可以的！！！</span></span><br><span class="line"><span class="comment">         * 2.\  只有在windows系统下面可以的</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * static String	separator</span></span><br><span class="line"><span class="comment">         * 与系统相关的默认名称 - 分隔符字符，以方便的方式表示为字符串。</span></span><br><span class="line"><span class="comment">         * 当你是window系统的时候 就是\</span></span><br><span class="line"><span class="comment">         * 当你的代码在linux  /</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        System.out.println(File.separator);</span><br><span class="line">        <span class="comment">//为了保证你的代码在任意的系统下面 路径的分割符是都可以使用</span></span><br><span class="line">        <span class="comment">//可以咋写代码？</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:&quot;</span> + File.separator + <span class="string">&quot;aaa&quot;</span> + File.separator + <span class="string">&quot;1.txt&quot;</span>);</span><br><span class="line">        System.out.println(file3);</span><br><span class="line">        System.out.println(<span class="string">&quot;=====&quot;</span>);</span><br><span class="line">        System.out.println(file);</span><br><span class="line">        <span class="comment">//File(String parent, String child)</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/&quot;</span>, <span class="string">&quot;1.txt&quot;</span>);</span><br><span class="line">        System.out.println(file1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-2File类下面的方法"><a href="#2-2File类下面的方法" class="headerlink" title="2.2File类下面的方法"></a>2.2File类下面的方法</h4><blockquote>
<p>boolean  createNewFile();创建一个文件 返回值是布尔类型的数据</p>
<p>​		1.如果文件路径不存在会报错</p>
<p>​		2.如果文件名字已经存在，返回false</p>
<p>​		3.磁盘坏了，创建不了</p>
<p>boolean mkdir();创建单级路径</p>
<p>boolean mkdirs();创建多级路径</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/1.txt&quot;</span>);</span><br><span class="line">        System.out.println(file.createNewFile());</span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/bbb&quot;</span>);</span><br><span class="line">        System.out.println(file1.mkdir());<span class="comment">//单级路径</span></span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/ccc/ddd&quot;</span>);</span><br><span class="line">        System.out.println(file2.mkdirs());<span class="comment">//多级路径</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>删除文件或者文件夹</p>
<p>boolean delete();立即删除文件，常用的</p>
<p>void  deleteOnExit();不会立即删除，是程序退出以后才删除的</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class Demo3 &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        File file = new File(&quot;c:/aaa/1.txt&quot;);</span><br><span class="line">        System.out.println(file.delete());</span><br><span class="line">        //删除一个非空的文件夹，是删除不了的，咋办？递归</span><br><span class="line">        File file1 = new File(&quot;c:/aaa/ccc&quot;);</span><br><span class="line">        System.out.println(file1.delete());</span><br><span class="line"></span><br><span class="line">        File file2 = new File(&quot;c:/aaa/bbb&quot;);</span><br><span class="line">        System.out.println(file2.delete());</span><br><span class="line">        File file3 = new File(&quot;c:/aaa/ccc/ddd&quot;);</span><br><span class="line">        file3.deleteOnExit();</span><br><span class="line">        //如果保证程序不退出</span><br><span class="line">        new Scanner(System.in).nextInt();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>File对象的判断方法，比较常用的</p>
<p>boolean isFile();  是否是文件【常用】</p>
<p>boolean isDirectory();是否是文件夹【常用】</p>
<p>boolean isHidden();是否是隐藏文件</p>
<p>boolean isAbsolute();是否是绝对路径</p>
<p>boolean exists();判断文件或者文件夹是否存在【重要】</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa&quot;</span>);</span><br><span class="line">        System.out.println(file.isFile());<span class="comment">//false</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/2.gif&quot;</span>);</span><br><span class="line">        System.out.println(file1.isFile());<span class="comment">//true</span></span><br><span class="line">        System.out.println(file.isDirectory());<span class="comment">//true</span></span><br><span class="line">        System.out.println(file1.isDirectory());<span class="comment">//false</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/2.txt&quot;</span>);</span><br><span class="line">        System.out.println(file2.isHidden());<span class="comment">//true</span></span><br><span class="line">        System.out.println(file1.isHidden());<span class="comment">//false</span></span><br><span class="line">        System.out.println(file.isAbsolute());<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">file3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;./&quot;</span>);</span><br><span class="line">        System.out.println(file3.isAbsolute());<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(file1.exists());<span class="comment">//true</span></span><br><span class="line">        <span class="keyword">if</span> (!file1.exists()) &#123;</span><br><span class="line">            file1.createNewFile();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>返回值是String类型的数据的</p>
<p>String getName(); 获取文件或者文件夹的名字的</p>
<p>String getPath();获取当前对象的路径的</p>
<p>String getParent();获取当前文件对象的上一级的目录</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:\\aaa\\2.gif&quot;</span>);</span><br><span class="line">        System.out.println(file.getName());<span class="comment">//2.gif</span></span><br><span class="line">        System.out.println(file.getParent());<span class="comment">//c:\aaa</span></span><br><span class="line">        System.out.println(file.getPath());<span class="comment">//c:\aaa\2.gif</span></span><br><span class="line">        System.out.println(file);</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>返回是long类型数据的</p>
<p>long lenght();返回值是文件占用的字节数</p>
<p>long lastModified();获取当前文件最后一次修改的时间</p>
<p>​		这个是毫秒，除以1000 变成秒，才是时间戳</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo6</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/8.txt&quot;</span>);</span><br><span class="line">        System.out.println(file.length());<span class="comment">//48</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1659687558179  </span></span><br><span class="line">        <span class="comment">//从1970 1月1日 0时 0分 0 秒  ~ 2022 8  5  16:19</span></span><br><span class="line">        <span class="comment">//的毫秒数</span></span><br><span class="line">        System.out.println(file.lastModified());</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>File[]   listFiles(); 获取当前文件夹下面的所有的&#x3D;文件</p>
<p>String[]  list();获取当前文件夹下面的所有文件的名字</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo7</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/&quot;</span>);</span><br><span class="line">        File[] files = file.listFiles();</span><br><span class="line">        <span class="keyword">for</span> (File file1 : files) &#123;</span><br><span class="line">            <span class="comment">//列出来的是对象 File</span></span><br><span class="line">            System.out.println(file1);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;=======&quot;</span>);</span><br><span class="line">        String[] list = file.list();</span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            <span class="comment">//文件的名字</span></span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>需求：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">删除某一个目录下面的所有的文件</span><br><span class="line">当你不知道你有多少个文件夹和文件的时候，咱们可以递归的</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo9</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/bbb&quot;</span>);</span><br><span class="line">        del(file);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">del</span> <span class="params">(File file)</span> &#123;</span><br><span class="line">        <span class="comment">//所有文件先取出来</span></span><br><span class="line">        File[] files = file.listFiles();</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * c:\aaa\bbb\1.txt</span></span><br><span class="line"><span class="comment">         * c:\aaa\bbb\ddd</span></span><br><span class="line"><span class="comment">         *  file1是ddd  是文件夹</span></span><br><span class="line"><span class="comment">         *  1.txt删除了</span></span><br><span class="line"><span class="comment">         *  再次执行del(file1) ddd文件夹</span></span><br><span class="line"><span class="comment">         *      eee</span></span><br><span class="line"><span class="comment">         *      2.txt</span></span><br><span class="line"><span class="comment">         *        再次执行del(eee) eee文件夹了</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">for</span> (File file1 : files) &#123;</span><br><span class="line">            System.out.println(file1);</span><br><span class="line">            <span class="keyword">if</span> (file1.isDirectory()) &#123;<span class="comment">//是文件夹</span></span><br><span class="line">                del(file1);<span class="comment">//递归</span></span><br><span class="line"></span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;<span class="comment">//是文件</span></span><br><span class="line">                file1.delete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="day20"><a href="#day20" class="headerlink" title="day20"></a>day20</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">1.File类下面的方法</span><br><span class="line">	createNewFile  创建一个新的文件</span><br><span class="line">	mkdir 创建一个单级的文件夹</span><br><span class="line">	mkdirs创建多级的文件夹</span><br><span class="line">	delete 删除文件或者文件夹</span><br><span class="line">	isFile 判断是否是文件</span><br><span class="line">	isDirectory 判断是否是文件夹</span><br><span class="line">	isHidden 判断是否是隐藏文件</span><br><span class="line">	isAbsolute 判断是否是绝对的路径</span><br><span class="line">	exists 判断文件是否存在（需要用的）</span><br><span class="line">	getName 获取文件或者文件夹的名字</span><br><span class="line">	getPath 获取当前file对象的路径的</span><br><span class="line">	getParent  获取当前文件的上一级目录</span><br><span class="line">	length 文件占用的字节数 byte  </span><br><span class="line">	lastModified  获取当前文件被修改的时间  除以1000等于时间戳  本身返回值是毫秒数</span><br><span class="line">	listFile 返回值是File数组 将当前的文件夹下面的所有的文件或者文件夹返回一个File数组</span><br><span class="line">	list   返回值是String数组，将当前的文件夹下面的所有的文件或者文件夹String</span><br><span class="line">2.Map下面的方法</span><br><span class="line">	Map&lt;String, String&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">	增：</span><br><span class="line">		put(K key, V value)</span><br><span class="line">		putAll();</span><br><span class="line">	删：</span><br><span class="line">		remove(K key); 通过键删除值</span><br><span class="line">	改：</span><br><span class="line">		put(K key, V value)   只要键存在的话就是会修改值</span><br><span class="line">	查：</span><br><span class="line">		size() </span><br><span class="line">		containsKey();</span><br><span class="line">		containsValue();</span><br><span class="line">		keySet() 获取集合中的键 存到set集合中</span><br><span class="line">		values() 获取集合中的值 存到Collection集合中</span><br><span class="line">		entrySet()  将一个键值对 封装一个entry  存到咱们的set集合中</span><br><span class="line">		</span><br><span class="line">3.List下面的方法</span><br><span class="line">	add</span><br><span class="line">	</span><br><span class="line">4.String下面的方法</span><br></pre></td></tr></table></figure>

<h3 id="今天的内容-1"><a href="#今天的内容-1" class="headerlink" title="今天的内容"></a>今天的内容</h3><blockquote>
<p>IO流</p>
</blockquote>
<h3 id="1-IO流"><a href="#1-IO流" class="headerlink" title="1.IO流"></a>1.IO流</h3><blockquote>
<p>以后开发中会遇到文件的上传和下载，都是需要用到IO流</p>
<p>咱们电脑上面所有的文件， 文档  音频 图片 视频  等都是可以进行读和写的。他们咋读的？</p>
<p>咋写的？ 一下子就写到咱们项目中了吗？不是，依靠流的形式进行读 和写。很抽象</p>
<p>在读取的时候，会将咱们的文件（音频 视频 等）变成流的形式  一点一点来处理的 拆解开来出来的。</p>
</blockquote>
<h4 id="1-1缓冲的概念"><a href="#1-1缓冲的概念" class="headerlink" title="1.1缓冲的概念"></a>1.1缓冲的概念</h4><blockquote>
<p>看视频有点卡？暂停一下，加载缓冲一下。</p>
<p>快递：送到物流中转站，然后分批次的发。物流中转站就是缓冲的概念。</p>
<p>IO流 的本质就是对电脑的文件进行读和写的</p>
<p>计算机通过CPU内存读取磁盘上面的文件数据，一次读取1字节。但是可以加上缓冲的概念</p>
<p>每次读取4kb。效率会高点的，咱们可以测试一下。效率是不是确实高了。</p>
</blockquote>
<h4 id="1-2IO流的分类"><a href="#1-2IO流的分类" class="headerlink" title="1.2IO流的分类"></a>1.2IO流的分类</h4><blockquote>
<p>咱们今天的学习紧紧围绕着：</p>
<p>​		1.从磁盘读取数据到内存（Java代码） 磁盘&#x3D;》代码中 输入流</p>
<p>​		2.从内存（Java代码 String str &#x3D; “狗蛋很帅”）写入数据到磁盘某一个文件    代码&#x3D;》磁盘       输出流</p>
<p>​		参照物：是内存，就是Java代码。</p>
<p>​					输入流： 从磁盘读取到内存</p>
<p>​					输出流：从内存写入到磁盘</p>
<p>I：</p>
<p>​	input:   输入   从磁盘读取数据到内存</p>
<p>​	使用input输入流的应用场景是啥：比如 磁盘上面有一个1.txt文件，将1.txt文件的内容读取到Java内存中。使用的是输入流。</p>
<p>​		输入流分为两种：</p>
<p>​			1.字节输入流   FileInputStream</p>
<p>​			2.字符输入流</p>
<p>​		输出流分为两种:</p>
<p>​			1.字节输出流	FileOutputStream</p>
<p>​			2.字符输出流</p>
</blockquote>
<h5 id="1-2-1字节输入流"><a href="#1-2-1字节输入流" class="headerlink" title="1.2.1字节输入流"></a>1.2.1字节输入流</h5><blockquote>
<p>讲一个新的知识点，你最起码先知道这个知识点能干嘛？</p>
<p>字节输入流：磁盘上面有一个1.txt文件，现在要将1.txt文件中的内容读取到内存（Java代码中）</p>
<p>Java给咱们封装好了类： FileInputStream  文件输入流（字节输入流）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_fileinputstream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将磁盘上面的c:/aaa/1.txt文件这个数据读取到内存（Java）中</span></span><br><span class="line">        <span class="comment">//加上缓冲的效果，这种很牛逼啊，将磁盘上面的东西弄到咱们Java代码中</span></span><br><span class="line">        <span class="comment">//1.创建File对象，是咱们本地磁盘文件的一个File对象</span></span><br><span class="line">        <span class="comment">//为啥要创建这个File对象？因为要读取1.txt这个文件的里面的</span></span><br><span class="line">        <span class="comment">//内容，首先先找到文件再说啊。</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/1.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2.创建文件字节输入流对象，来操作1.txt</span></span><br><span class="line">        <span class="comment">//FileInputStream(File file)</span></span><br><span class="line">        <span class="comment">//通过打开与实际文件的连接创建一个 FileInputStream ，</span></span><br><span class="line">        <span class="comment">// 该文件由文件系统中的 File对象 file命名。</span></span><br><span class="line">        <span class="comment">//将c:/aaa/1.txt文件转为字节输入流的形式，之后可以按照流的形式读取到内存中</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">        <span class="comment">//3.fileInputStream 这个流不具备缓冲的效果。</span></span><br><span class="line">        <span class="comment">//但是加上缓冲的效果！！！ 咋办？使用另外一个流</span></span><br><span class="line">        <span class="comment">//BufferedInputStream</span></span><br><span class="line">        <span class="comment">//A BufferedInputStream为另一个输入流添加了功能，即缓冲输入</span></span><br><span class="line">        <span class="comment">//咋加？将FileInputStream传给BufferedInputStream 此时</span></span><br><span class="line">        <span class="comment">//FileInputStream  就具备缓冲的功能了！！！</span></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">        <span class="comment">//使用字节缓冲流操作咱们的1.txt</span></span><br><span class="line">        <span class="comment">//当创建BufferedInputStream时，</span></span><br><span class="line">        <span class="comment">// 将创建一个内部缓冲区数组,这个数组是什么数据类型的？</span></span><br><span class="line">        <span class="comment">//5.创建一个缓冲区的数组  byte  为啥是byte类型的数组</span></span><br><span class="line">        <span class="comment">//因为是字节输入流  所以是byte  byte 就是字节</span></span><br><span class="line">        <span class="comment">//当缓冲数组是2个字节的时候，每次读取的时候存到缓冲数组中，只存2个字节</span></span><br><span class="line">        <span class="comment">//发现数据一次性读取不完？咋办？咋解决？</span></span><br><span class="line">        <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">4</span>];<span class="comment">//缓冲区4096字节</span></span><br><span class="line">        <span class="comment">//现在数组是空的</span></span><br><span class="line">        <span class="comment">//6.读取数据</span></span><br><span class="line">        <span class="comment">//public int read(byte[] b)</span></span><br><span class="line">        <span class="comment">//         throws IOException</span></span><br><span class="line">        <span class="comment">//从输入流读取一些字节数，并将它们存储到缓冲区b 。</span></span><br><span class="line">        <span class="comment">// 实际读取的字节数作为整数返回</span></span><br><span class="line">        <span class="comment">//将1.txt文件的内容 读取到缓冲数组中  buf 里面</span></span><br><span class="line">        <span class="comment">//之前buf是一个空的数组，现在通过read方法将1.txt文件中的</span></span><br><span class="line">        <span class="comment">//内容读取到了 buf空的数组中</span></span><br><span class="line"><span class="comment">//        int read = bis.read(buf);</span></span><br><span class="line"><span class="comment">//        System.out.println(read);</span></span><br><span class="line">        <span class="comment">//6.调用read方法之后，buf 数组就有值了 能不能打印一下</span></span><br><span class="line">        <span class="comment">//借助于String类来展示byte数组的内容</span></span><br><span class="line">        <span class="comment">//buf  给字符串  为了展示字节数组中的内容的</span></span><br><span class="line">        <span class="comment">//0 偏移量   buf这个数组中从哪开始取值  从下标为0 的地方取值</span></span><br><span class="line">        <span class="comment">//read  取6个</span></span><br><span class="line">        <span class="comment">//如果b的长度为零，则不会读取字节并返回0 ;</span></span><br><span class="line">        <span class="comment">// 否则，尝试读取至少一个字节。</span></span><br><span class="line">        <span class="comment">// 如果没有字节可用，因为流在文件末尾，则返回值-1</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//如果length=-1  那么就会到达流的末尾  就证明后面没哟数据</span></span><br><span class="line">        <span class="comment">//循环结束，不要再读了</span></span><br><span class="line">        <span class="keyword">while</span> ((length = bis.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">//循环4次</span></span><br><span class="line">            System.out.println(<span class="string">&quot;狗蛋&quot;</span>);</span><br><span class="line">            <span class="comment">//数组中的东西要展示出来  使用String</span></span><br><span class="line">            <span class="comment">//将磁盘上面的内容 读取到 =》 内存  buf</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buf, <span class="number">0</span>, length));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//7.流是需要关闭的</span></span><br><span class="line">        bis.close();</span><br><span class="line">        fis.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>知道字节输入流是干嘛的？可以将磁盘上面的某一个文件读取到Java代码中（内存）</p>
<p>固定的写法！！！但是你得知道每行代码是啥意思</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_fileinputstream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//1.创建File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/7.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2.创建字节输入流,将7.txt扔给  fis对象了</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">        <span class="comment">//3.创建字节缓冲流, fis又扔给 bis了  现在咱们的数据在bis里面了</span></span><br><span class="line"></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">        <span class="comment">//4.声明一个缓冲数组，将bis里面的数据读取出来 赋值给这个</span></span><br><span class="line">        <span class="comment">//缓冲数组</span></span><br><span class="line">        <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">4</span> * <span class="number">1024</span>];<span class="comment">//4096字节</span></span><br><span class="line">        <span class="comment">//5.开始使用read方法进行读取，读取的时候使用while循环</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果7.tx文件中的字节数超过了4096个字节，需要使用循环，再次的读取</span></span><br><span class="line">        <span class="type">int</span> length;</span><br><span class="line">        <span class="comment">//现在数据都在bis里面，咱们要把bis里面的数据读取buf这个数组中</span></span><br><span class="line">        <span class="keyword">while</span> ((length = bis.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">//byte数组有值以后，咱们可以打印一下看看byte数组中的数据</span></span><br><span class="line">            System.out.println(<span class="string">&quot;循环执行&quot;</span>);</span><br><span class="line">            <span class="comment">//将字节数组转为字符串，的目的是为了看一下字节数组中的数据</span></span><br><span class="line">            <span class="comment">//并没有实际的意义</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buf, <span class="number">0</span>, length));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//6.关闭流</span></span><br><span class="line">        bis.close();</span><br><span class="line">        fis.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>案例：读取你们盘符下面的一个txt文档，打印在idea控制台。写完以后，将代码直接发到扣扣群里</p>
<p>好好想想这个流程是咋走的？</p>
<p>想象咱们班门口放了一袋大米（就是磁盘的本地文件，文件的内容），现在我要求把门口给我运到我的讲台（Java的内存），不能使用袋子直接搬运？</p>
<p>你们咋解决？可以找一个杯子（就是缓冲数组）。一杯子一杯子的运。能接受不？</p>
<p>比如磁盘上面的380字节的数据，  咋把读取到内存中？ 弄一个缓冲数组，每次读取3字节</p>
<p>BufferedInputStream  其实FileInputStream其实一次读取一个字节的，但是使用BufferedInputStream  了之后，可以搞一个缓冲的数组，一次可以读取多个，那么循环次数就会减少，代码的效率就会提升。循环1000遍 和循环1遍的效率 循环1遍的效率，下午演示 加缓冲流和不加缓冲流哪个效率高。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">abcdefg</span><br><span class="line"></span><br><span class="line">每次读取<span class="number">3</span>个字节</span><br><span class="line">第一次  abc</span><br><span class="line"><span class="title function_">while</span> <span class="params">(length = <span class="number">3</span> ！= -<span class="number">1</span>)</span> &#123; <span class="literal">true</span></span><br><span class="line">	<span class="title function_">sout</span><span class="params">(abc)</span></span><br><span class="line">&#125;</span><br><span class="line">第二次 def</span><br><span class="line"><span class="title function_">while</span> <span class="params">(length = <span class="number">3</span> ！= -<span class="number">1</span>)</span> &#123;<span class="literal">true</span></span><br><span class="line">	<span class="title function_">sout</span><span class="params">(def)</span></span><br><span class="line">&#125;</span><br><span class="line">第三次 </span><br><span class="line"><span class="keyword">while</span> (（length = <span class="number">1</span>）!= -<span class="number">1</span> ) &#123;<span class="literal">true</span></span><br><span class="line">	<span class="title function_">sout</span><span class="params">(g)</span><span class="keyword">new</span> <span class="title class_">String</span>(buf, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line">当到达文件的末尾的时候， 后面没有东西了，文件的末尾了，到达流的末尾了。返回值是-<span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> ((length = -<span class="number">1</span>) ！= -<span class="number">1</span>) &#123; <span class="literal">false</span> 循环结束</span><br><span class="line">	sout(abc)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>回顾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.上午讲的是字节输入流</span><br><span class="line">	将磁盘上面的某一个文件的内容读取到内存中</span><br><span class="line">	1、实例化一个file对象   找到本地磁盘的一个文件对象</span><br><span class="line">	2、实例化一个FileInputStream  </span><br><span class="line">	3、加上缓冲流 BufferedInputStream</span><br><span class="line">	4、使用缓冲流对象 将内容读取read(buf)到内存缓冲数组中  使用while循环来读取</span><br><span class="line">	5.关闭流</span><br></pre></td></tr></table></figure>

<h5 id="1-2-2字节输出流"><a href="#1-2-2字节输出流" class="headerlink" title="1.2.2字节输出流"></a>1.2.2字节输出流</h5><blockquote>
<p>将Java中数据写入到磁盘上面</p>
<p>内存-》磁盘   输出流</p>
<p>讲什么案例？  比如Java代码中有一个字符串  String str &#x3D; “唉，愁人”;将这个字符串写入磁盘某一个文件中</p>
<p>FileOutputStream</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_fileoutstream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将Java代码中的一个字符串写入到咱们的磁盘的某一个文件中</span></span><br><span class="line">        <span class="comment">//1.创建File对象，文件路径对象  告知编译器要把数据写到哪个文件中</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/2.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2.实例化字节输出流对象</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line">        <span class="comment">//3.对FileOutputStream  加上缓冲的效果</span></span><br><span class="line">        <span class="comment">//猜测一下  FileInputStream所对应的缓冲流  BufferedInputStream</span></span><br><span class="line">        <span class="comment">//FileOutputStream  所对应的缓冲流  BufferedOutputStream</span></span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line">        <span class="comment">//4.将一个字符串写入到磁盘中</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;大家再等我一天，后天见面！！！&quot;</span>;</span><br><span class="line">        <span class="comment">//	write(byte[] b)</span></span><br><span class="line">        <span class="comment">//咱们的参数是字节数组，咋办？str是一个字符串 但是参数是一个字节数组，咋解决？</span></span><br><span class="line">        <span class="comment">//str是字符串 不能强转  将字符串转为字节数组，没有讲过！！！</span></span><br><span class="line">        <span class="comment">//将str字符串转为字节数组</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = str.getBytes();</span><br><span class="line">        bos.write(bytes);</span><br><span class="line">        <span class="comment">//5.写完以后一定要刷新流然后关闭流</span></span><br><span class="line">        bos.flush();<span class="comment">//没有实际的意义，可以不写的</span></span><br><span class="line">        <span class="comment">//6.关闭流</span></span><br><span class="line">        <span class="comment">//在输入流的时候一定是先开的后关，后开的先关</span></span><br><span class="line">        bos.close();</span><br><span class="line">        fos.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_fileoutstream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将内容写入到3.txt文件中</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/3.txt&quot;</span>);</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line">        <span class="comment">//开始写了</span></span><br><span class="line">        <span class="comment">//void write(int b);</span></span><br><span class="line">        <span class="comment">//传参是一个int类型，但是真正写入的时候是int类型所对应的字符</span></span><br><span class="line">        bos.write(<span class="number">97</span>);<span class="comment">//开发不用！！！</span></span><br><span class="line">        bos.flush();</span><br><span class="line">        bos.close();</span><br><span class="line">        fos.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_fileoutstream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        File file= <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/4.txt&quot;</span>);</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;abcdefg&quot;</span>;<span class="comment">//7个字节</span></span><br><span class="line">        <span class="comment">//write(byte[] b,int off,int len)</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = str.getBytes();</span><br><span class="line">        <span class="comment">//写一个到缓冲流  从0开始偏移  写入2个字节</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//可以借助于循环往里面写！！！</span></span><br><span class="line">        bos.write(bytes, <span class="number">0</span>, <span class="number">2</span>);<span class="comment">//ab</span></span><br><span class="line">        bos.write(bytes, <span class="number">2</span>, <span class="number">2</span>);<span class="comment">//cd</span></span><br><span class="line">        bos.write(bytes, <span class="number">4</span>, <span class="number">2</span>);<span class="comment">//ef</span></span><br><span class="line">        bos.write(bytes, <span class="number">6</span>, <span class="number">1</span>);<span class="comment">//ef</span></span><br><span class="line">        bos.flush();</span><br><span class="line">        bos.close();</span><br><span class="line">        fos.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_fileoutstream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/4.txt&quot;</span>)));</span><br><span class="line">        bos.write(<span class="string">&quot;xixida&quot;</span>.getBytes());</span><br><span class="line">        bos.flush();</span><br><span class="line">        bos.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>针对于咱们的讲的字节输入流和字节输出流来一个案例</p>
<p>将c:&#x2F;bbb文件夹下面一个视频 （源文件） 复制到c:&#x2F;aaa文件夹下面</p>
<p>思路：将bbb文件夹下面的视频先读取到内存，然后再从内存写入磁盘aaa文件夹下面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">缓冲数组  byte[] buf = new byte[4];</span><br><span class="line">视频由字节组成的 一次读取 4096字节  直到最后一次 不一定4096字节</span><br><span class="line">最后一次3456  字节   write(buf, 0, 3456)</span><br><span class="line">相当与将所有字节重新拼接了一下</span><br><span class="line">读取的时候每次读取4096个放到咱们的缓冲数组中，然后立马写入另外磁盘文件下面</span><br><span class="line">直到读取完，写入完即可</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">qwertyuiopasd  13字节</span><br><span class="line"></span><br><span class="line">//第一循环</span><br><span class="line">while ((length=bis.read(buf)) != -1) &#123;//buf 里面 有 qwer</span><br><span class="line">	bos.write(buf, 0, 4);  文本里面有  qwer</span><br><span class="line">&#125;</span><br><span class="line">第二次循环</span><br><span class="line">while ((length=bis.read(buf)) != -1) &#123;//buf 里面 有 tyui</span><br><span class="line">	bos.write(buf, 0, 4);  文本里面有  qwertyui</span><br><span class="line">&#125;</span><br><span class="line">第三次循环</span><br><span class="line">while ((length=bis.read(buf)) != -1) &#123;//buf 里面 有 opas</span><br><span class="line">	bos.write(buf, 0, 4);  文本里面有  qwertyuiopas</span><br><span class="line">&#125;</span><br><span class="line">第四次循环</span><br><span class="line">while ((length=bis.read(buf)) != -1) &#123;//buf 里面 有 d</span><br><span class="line">	bos.write(buf, 0, 1);  文本里面有  qwertyuiopasd</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        copyVideo1();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//现在咱们讲的这个是带有缓冲的，看看带有缓冲视频的复制的耗时多少 2610ms</span></span><br><span class="line">    <span class="comment">//写一个方法将bbb文件夹下面的3.map4格式的视频复制到aaa文件夹下面</span></span><br><span class="line">    <span class="comment">//用带缓冲的，效率高</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copyVideo</span> <span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//获取系统的当前的毫秒数</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">//1.创建字节缓冲输入流  将磁盘的数据读取到内存</span></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/bbb/3.mp4&quot;</span>)));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建字节缓冲输出流   从内存写入到的文件  源文件是mp4格式，写入到的也必须是mp4格式的</span></span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/goudan.mp4&quot;</span>)));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.准备一个字节数组 缓冲区数组</span></span><br><span class="line">        <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">4</span> * <span class="number">1024</span>];<span class="comment">//代码走到这一步是空的</span></span><br><span class="line">        <span class="comment">//4.从磁盘读取数据到内存</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//这个视频很大，依靠循环来读取，每次读4 * 1024字节</span></span><br><span class="line">        <span class="keyword">while</span> ((length = bis.read(buf)) != -<span class="number">1</span>) &#123;<span class="comment">//从磁盘上读取数据到buf缓冲数组中</span></span><br><span class="line">            <span class="comment">//每次循环 buf数组中有值，顺便依靠循环写入到磁盘</span></span><br><span class="line">            System.out.println(<span class="string">&quot;qwer&quot;</span>);</span><br><span class="line">            bos.write(buf, <span class="number">0</span>, length);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//5.关闭流</span></span><br><span class="line">        bos.close();</span><br><span class="line">        bis.close();</span><br><span class="line">        <span class="comment">//复制完以后再得到一个毫秒数，相减 就得到复制一个视频需要的时间</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(end - start);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//下面来=看一下不带缓冲的流的读写</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copyVideo1</span> <span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/bbb/3.mp4&quot;</span>));</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/goudan.mp4&quot;</span>));</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((length = fis.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(length);</span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(end - start);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-2-3字符输入流【非重点】"><a href="#1-2-3字符输入流【非重点】" class="headerlink" title="1.2.3字符输入流【非重点】"></a>1.2.3字符输入流【非重点】</h5><blockquote>
<p>也是输入流，将磁盘的某一个文件读取到内存</p>
<p>FileReader:</p>
<p>​	是一个阅读字符文件的便利类，是专门处理字符文件的，比如txt文件。音频视频图片</p>
<p>不能使用这个流。</p>
<p>是从字节流到字符流的桥：它读取字节，并使用指定的<code>charset</code>将其解码为<a target="_blank" rel="noopener" href="https://www.matools.com/file/manual/jdk_api_1.8_google/java/nio/charset/Charset.html">字符</a> 。 它使用的字符集可以由名称指定，也可以被明确指定，或者可以接受平台的默认字符集</p>
<p>牵涉到解码，底层是字节流，但是会解码为字符。如果解码失败就意味着咱们读取失败了</p>
<p>一般不会使用字符流操作图片 音频 视频等，因为牵涉到解码。会出问题！！！</p>
<p>开发一般使用字节流！！！</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_FileReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将c盘下面的aaa文件夹下面的1.txt文件的内容 读取到Java内存中</span></span><br><span class="line">        <span class="comment">//和字节流一模一样</span></span><br><span class="line">        <span class="comment">//1.新建一个File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/1.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2.新建FileReader  对象 字符输入流</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line">        <span class="comment">//3.FileRFeader没有缓冲的效果，可以加上缓冲的效果</span></span><br><span class="line">        <span class="comment">//杂加？BufferedReader</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">        <span class="comment">//4.字节的缓冲数组 是字节</span></span><br><span class="line">        <span class="comment">//字符的缓冲数组  是字符</span></span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>];<span class="comment">//缓冲区是4个字符</span></span><br><span class="line">        <span class="comment">//这个方法是用的！！！</span></span><br><span class="line">        <span class="comment">//5.	read(char[] cbuf) 将文件内容读取到字符数组中（缓冲区）</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> ((length = br.read(cbuf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(length);</span><br><span class="line">            <span class="comment">//6.将数组展示到控制台</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(cbuf, <span class="number">0</span>, length));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.关闭流</span></span><br><span class="line">        br.close();</span><br><span class="line">        fr.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_FileReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将c盘下面的aaa文件夹下面的1.txt文件的内容 读取到Java内存中</span></span><br><span class="line">        <span class="comment">//和字节流一模一样</span></span><br><span class="line">        <span class="comment">//1.新建一个File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/1.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2.新建FileReader  对象 字符输入流</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line">        <span class="comment">//3.FileRFeader没有缓冲的效果，可以加上缓冲的效果</span></span><br><span class="line">        <span class="comment">//杂加？BufferedReader</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//这个方法不用！！！</span></span><br><span class="line">        <span class="comment">//5.int	read() 一次读取一个字符，返回值是字符对应的assic码值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((length = br.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(length);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.关闭流</span></span><br><span class="line">        br.close();</span><br><span class="line">        fr.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_FileReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将c盘下面的aaa文件夹下面的1.txt文件的内容 读取到Java内存中</span></span><br><span class="line">        <span class="comment">//和字节流一模一样</span></span><br><span class="line">        <span class="comment">//1.新建一个File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/1.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2.新建FileReader  对象 字符输入流</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line">        <span class="comment">//3.FileRFeader没有缓冲的效果，可以加上缓冲的效果</span></span><br><span class="line">        <span class="comment">//杂加？BufferedReader</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">        <span class="comment">//4.字节的缓冲数组 是字节</span></span><br><span class="line">        <span class="comment">//字符的缓冲数组  是字符</span></span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>];<span class="comment">//缓冲区是4个字符</span></span><br><span class="line">        <span class="comment">//这个也不用！！！</span></span><br><span class="line">        <span class="comment">//5.	read(char[] cbuf, 0, length) 将文件内容读取到字符数组中（缓冲区）</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((length = br.read(cbuf, <span class="number">0</span>, <span class="number">2</span>)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(length);</span><br><span class="line">            <span class="comment">//6.将数组展示到控制台</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(cbuf, <span class="number">0</span>, length));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.关闭流</span></span><br><span class="line">        br.close();</span><br><span class="line">        fr.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_FileReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//将c盘下面的aaa文件夹下面的1.txt文件的内容 读取到Java内存中</span></span><br><span class="line">        <span class="comment">//和字节流一模一样</span></span><br><span class="line">        <span class="comment">//1.新建一个File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/1.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//2.新建FileReader  对象 字符输入流</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line">        <span class="comment">//3.FileRFeader没有缓冲的效果，可以加上缓冲的效果</span></span><br><span class="line">        <span class="comment">//杂加？BufferedReader</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">        <span class="comment">//一次读取一行数据,r如果到达行的末尾就返回就是一个null</span></span><br><span class="line"><span class="comment">//        String s = br.readLine();</span></span><br><span class="line"><span class="comment">//        System.out.println(s);</span></span><br><span class="line"><span class="comment">//        String s1 = br.readLine();</span></span><br><span class="line"><span class="comment">//        System.out.println(s1);</span></span><br><span class="line">        String str;</span><br><span class="line">        <span class="comment">//有可能会用的</span></span><br><span class="line">        <span class="keyword">while</span> ((str = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.关闭流</span></span><br><span class="line">        br.close();</span><br><span class="line">        fr.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-2-4字符输出流"><a href="#1-2-4字符输出流" class="headerlink" title="1.2.4字符输出流"></a>1.2.4字符输出流</h5><blockquote>
<p>案例：</p>
<p>​	将一个字符串类型的数据写入到磁盘中</p>
<p>FileWriter</p>
<p>写字符文件一个便利类</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_fileWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//从内存写入数据到磁盘的文件中</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/2.txt&quot;</span>);</span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(file);</span><br><span class="line">        <span class="comment">//加缓冲流</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(fw);</span><br><span class="line">        <span class="comment">//viod writer(char[] cbuf, int off, int length);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;今天的天气真的太热了&quot;</span>;</span><br><span class="line">        <span class="comment">//将字符串转为char数组</span></span><br><span class="line">        <span class="type">char</span>[] chars = str.toCharArray();</span><br><span class="line">        <span class="comment">//将chars数组中  从0 开始  取3个字符写入到缓冲流中</span></span><br><span class="line">        bw.write(chars, <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">        bw.close();</span><br><span class="line">        fw.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_fileWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//从内存写入数据到磁盘的文件中</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/2.txt&quot;</span>);</span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(file);</span><br><span class="line">        <span class="comment">//加缓冲流</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(fw);</span><br><span class="line">        <span class="comment">//viod writer(char[] cbuf);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;今天的天气真的太热了&quot;</span>;</span><br><span class="line">        <span class="comment">//将字符串转为char数组</span></span><br><span class="line">        <span class="type">char</span>[] chars = str.toCharArray();</span><br><span class="line">        <span class="comment">//将chars数组中,直接将字符数组中的所有的数据写到缓冲流中</span></span><br><span class="line">        bw.write(chars);</span><br><span class="line">        bw.close();</span><br><span class="line">        fw.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_fileWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//从内存写入数据到磁盘的文件中</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/2.txt&quot;</span>);</span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(file);</span><br><span class="line">        <span class="comment">//加缓冲流</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(fw);</span><br><span class="line">        <span class="comment">//viod writer(String str);</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;对方网络不佳！！！&quot;</span>;</span><br><span class="line">        <span class="comment">//viod writer(String str, int off, int length);</span></span><br><span class="line">       <span class="comment">//bw.write(str);</span></span><br><span class="line">       <span class="comment">//bw.write(str, 1, 4);</span></span><br><span class="line">        bw.write(<span class="string">&quot;呵呵&quot;</span>);</span><br><span class="line">        bw.newLine();<span class="comment">//写完呵呵以后换行写  功能代码 起到一个换行的作用</span></span><br><span class="line">        bw.write(<span class="string">&quot;哈哈&quot;</span>);</span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">&quot;嘻嘻&quot;</span>);</span><br><span class="line">        bw.close();</span><br><span class="line">        fw.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>综合案例：</p>
<p>​	复制一本小说到另外一个盘符下面</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_fileWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/bbb/DiBa.txt&quot;</span>)));</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/sb1.txt&quot;</span>)));</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span> * <span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((length = br.read(cbuf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            bw.write(cbuf, <span class="number">0</span>, length);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        bw.close();</span><br><span class="line">        br.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>复制一个图片到另外一个盘符不能使用字符流，因为解码，编码的时候会出问题的！！！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package com.qfedu.e_fileWriter;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">public class Demo5 &#123;</span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">        BufferedReader br = new BufferedReader(new FileReader(new File(&quot;c:/aaa/3.gif&quot;)));</span><br><span class="line">        BufferedWriter bw = new BufferedWriter(new FileWriter(new File(&quot;c:/bbb/333.gif&quot;)));</span><br><span class="line"></span><br><span class="line">        int length = -1;</span><br><span class="line">        char[] cbuf = new char[4 * 1024];</span><br><span class="line">        while ((length = br.read(cbuf)) != -1) &#123;</span><br><span class="line">            bw.write(cbuf, 0, length);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        bw.close();</span><br><span class="line">        br.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">字节流：</span><br><span class="line">	可以处理 文本  图片 音频  视频</span><br><span class="line">字符流：</span><br><span class="line">	只能处理文本 </span><br></pre></td></tr></table></figure>

<h2 id="day21"><a href="#day21" class="headerlink" title="day21"></a>day21</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">1.为什么重写equals方法必须重写hashCode方法</span><br><span class="line">	是因为判断两个对象是否相等的时候，先判断hash值是否相等，然后再比较内容</span><br><span class="line">	hash一样的对象不一定相等，但是对象相等，要求hash值必须一样的</span><br><span class="line">2.使用字符流复制一个文本文档到另外一个盘符下面</span><br><span class="line">	BufferedReader br = new BufferedReader(new FileReader(new File(&quot;路径&quot;)));</span><br><span class="line">	BuffererWriter bw = new BufferedWriter(new FileWriter(new File(&quot;被复制到哪的路径&quot;));</span><br><span class="line">	int length = -1;</span><br><span class="line">	char[] cbuf = new char[4 * 1024];</span><br><span class="line">	while ((length = br.read(cbuf))) &#123;</span><br><span class="line">		bw.write(cbuf, 0, length);</span><br><span class="line">	&#125;</span><br><span class="line">	bw.close();</span><br><span class="line">	br.close();</span><br><span class="line">3.接口和抽象类的区别</span><br><span class="line">	接口的定义: </span><br><span class="line">		interface 接口 ｛</span><br><span class="line">				抽象的方法</span><br><span class="line">			｝</span><br><span class="line">	抽象类:</span><br><span class="line">		abstract  抽象类 ｛</span><br><span class="line">			非抽象方法</span><br><span class="line">			抽象方法</span><br><span class="line">		｝</span><br><span class="line">	用一个普通类去继承（extends）抽象类</span><br><span class="line">	用一个普通类去实现（inplements）接口</span><br><span class="line">	</span><br><span class="line">4.重写和重载的区别</span><br><span class="line">	重写：</span><br><span class="line">		有继承关系，在子类中去重写父类的方法</span><br><span class="line">		方法完全一样的，方法的额名字 返回值  参数</span><br><span class="line">	重载：</span><br><span class="line">		只能在一个类中，方法名字一样，参数列表一定不同</span><br><span class="line">5.final关键字的使用</span><br><span class="line">	final修饰成员变量</span><br><span class="line">	修饰局部变量</span><br><span class="line">	修饰方法</span><br><span class="line">	修饰类</span><br><span class="line">	面试：为啥使用final修饰成员变量？这个final修饰的量不能再赋值，值不能再改变了</span><br><span class="line">		效率就会高点！！！</span><br><span class="line">6.static关键字的使用</span><br><span class="line">	static修饰成员变量</span><br><span class="line">	修饰成员方法</span><br><span class="line">	修饰代码块</span><br><span class="line">	类名.成员变量</span><br><span class="line">	类名.方法</span><br><span class="line">7.复制一个视频文件到另外一个盘符下面  使用字节流</span><br><span class="line">	BufferedInputStream bis = new BufferedInputStream(new FileInputStream(new File (&quot;文件路径&quot;)));</span><br><span class="line">	BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(new File(&quot;被复制的路径&quot;)));</span><br><span class="line">	byte[] buf = new byte[4 * 1024];</span><br><span class="line">	int length = -1;</span><br><span class="line">	while ((length = bis.read(buf))) &#123;</span><br><span class="line">		bos.write(buf, 0, length);</span><br><span class="line">	&#125;</span><br><span class="line">	bos.close()</span><br><span class="line">	bis.close();</span><br></pre></td></tr></table></figure>

<p>关于流，你只要听懂昨天讲的流，那么其他流都在不再话下，思路都是一样的！！！</p>
<p>教你们方法 方式，而不是单纯的教技术！！！ 这些东西都是可以举一反三的！！！</p>
<p>回顾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.IO流</span><br><span class="line">干嘛的？对磁盘上面的文件的内容进行 读和写的</span><br><span class="line">2.</span><br><span class="line">	输入流：</span><br><span class="line">		对磁盘上面的文件进行读取的   磁盘-》内存的</span><br><span class="line">		FileInputStream   字节输入流  想加缓冲效果 BufferedInputStream</span><br><span class="line">			这个类一个方法 read()</span><br><span class="line">		FileReader        字符输入流  想加缓冲效果 BufferedReader</span><br><span class="line">			这个类一个方法 read()</span><br><span class="line">	输出流：</span><br><span class="line">		从内存中写入到磁盘  内存-》磁盘</span><br><span class="line">		FileOutputStream  字节输出流 想加缓冲效果  BufferedOutputStream</span><br><span class="line">        	这个类一个方法  write()</span><br><span class="line">		FileWriter        字符输出流 想加缓冲效果  BufferedWriter</span><br><span class="line">			这个类一个方法  write()</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br></pre></td></tr></table></figure>

<p>之后再讲一个对象流   序列化！！！</p>
<p>我不用讲，你看着官方手册就会写了</p>
<h3 id="今天的内容-2"><a href="#今天的内容-2" class="headerlink" title="今天的内容"></a>今天的内容</h3><blockquote>
<p>常用类</p>
</blockquote>
<h3 id="1-常用类"><a href="#1-常用类" class="headerlink" title="1.常用类"></a>1.常用类</h3><h4 id="1-1StringBuffer类"><a href="#1-1StringBuffer类" class="headerlink" title="1.1StringBuffer类"></a>1.1StringBuffer类</h4><blockquote>
<p>看API官方手册</p>
<p>线程安全的，可变的字符序列</p>
<p>关于StringBuffer的代码相当简单是个人都会的，但是底层和面试问的东西比较深的所以你们下去一定看看一些东西</p>
<p>String  不可变</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stringbuffer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="comment">//构造一个没有字符的字符串缓冲区（容器），初始容量为16个字符。</span></span><br><span class="line">        <span class="comment">//在整个缓冲去放数据，放啥数据？字符串！！！</span></span><br><span class="line">        System.out.println(sb);</span><br><span class="line">        sb.append(<span class="string">&quot;xi&quot;</span>);<span class="comment">//追加</span></span><br><span class="line">        sb.append(<span class="string">&quot;he&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;ha&quot;</span>);</span><br><span class="line">        <span class="comment">//插入  这个2 就是下标索引</span></span><br><span class="line">        sb.insert(<span class="number">2</span>, <span class="string">&quot;gou&quot;</span>);</span><br><span class="line">        System.out.println(sb);<span class="comment">//xigouxihehehaha</span></span><br><span class="line">        <span class="comment">//字符串反转</span></span><br><span class="line">        System.out.println(sb.reverse());<span class="comment">//ahahehehixuogix</span></span><br><span class="line">        <span class="comment">//删除一个字符串delet(int start, int end)</span></span><br><span class="line">        <span class="comment">//不要怀疑  始终记得  要头不要尾 start包含  end 不包含</span></span><br><span class="line">        System.out.println(sb.delete(<span class="number">1</span>,<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//问题：</span></span><br><span class="line">        <span class="comment">//咱们有String了为啥还要学习StringBuffer和StringBuilder</span></span><br><span class="line">        <span class="comment">//拼接字符串的效率不一样的</span></span><br><span class="line">        <span class="comment">//字符串String 拼接的是时候，效率底   +   concat()</span></span><br><span class="line">        <span class="comment">//StringBuffer 和StringBuilder拼接字符串效率高</span></span><br><span class="line">        <span class="comment">//为啥StringBuffer和StringBuilder高，为啥String效率低</span></span><br><span class="line">        <span class="comment">//如果使用String拼接100个字符串，会出来100个对象 因为String 不可变的</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">        str += <span class="string">&quot;457&quot;</span>;</span><br><span class="line">        str += <span class="string">&quot;457&quot;</span>;</span><br><span class="line">        str += <span class="string">&quot;457&quot;</span>;</span><br><span class="line">        str += <span class="string">&quot;457&quot;</span>;</span><br><span class="line">        <span class="comment">//以上有几个对象？  6个</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>作业:自己查StringBuilder这个类，然后写方法</p>
<p>面试题:String  Stringbuffer  StringBuilder区别 下去一定好好看看</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/pf6668/article/details/108875324</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stringbuffer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//String 连接10000次消耗1127ms</span></span><br><span class="line">        <span class="comment">//StringBuffer 连接10000次消耗5ms</span></span><br><span class="line">        <span class="comment">//StringBuilder 连接10000次消耗3ms</span></span><br><span class="line">        StringTest(<span class="number">10000</span>);</span><br><span class="line">        StringBufferTest(<span class="number">10000</span>);</span><br><span class="line">        StringBuilderTest(<span class="number">10000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">StringTest</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">//获取当前系统的时间  还没有执行下面for循环的时候的时间</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">//使用for循环来拼接！！！</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            str += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取当前系统的时间  执行下面for循环的时候的时间</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;String 连接&quot;</span>+ n +<span class="string">&quot;次消耗&quot;</span>+(endTime-startTime)+<span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">StringBufferTest</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="type">Long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            str.append(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;StringBuffer 连接&quot;</span>+ n +<span class="string">&quot;次消耗&quot;</span>+(endTime-startTime)+<span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">StringBuilderTest</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">Long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            str.append(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;StringBuilder 连接&quot;</span>+ n +<span class="string">&quot;次消耗&quot;</span>+(endTime-startTime)+<span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们可以清楚的看到String的字符串的连接效率是最低的，这一点对于大量字符串的拼接可以很明显的表示出来，所以说大量字符串的拼接最好不要选择String。<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=StringBuffer&spm=1001.2101.3001.7020">StringBuffer</a>和StringBuilder对于字符串的拼接效率是大致相同的</p>
<p>为啥StringBUilder效率高？因为StringBuilder是线程不安全的，StringBuffer线程安全</p>
<p>四、总结<br>1.String为固定长度的字符串，StringBuilder和StringBuffer为变长字符串；<br>2.stringBuffer是线程安全的，StringBuilder是非线程安全的；<br>3.StringBuffer和StringBuilder的默认初始容量是16，可以提前预估好字符串的长度，进一步减少扩容带来的额外开销</p>
<h4 id="1-2枚举类（enum）"><a href="#1-2枚举类（enum）" class="headerlink" title="1.2枚举类（enum）"></a>1.2枚举类（enum）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Java 中的枚举是一个特殊的类，一般是表示一组常量  final  static int a = 30;</span><br><span class="line">比如一年有四季  一天24小时  pi  e</span><br><span class="line"></span><br><span class="line">枚举就是用来表示常量的，只不过是常量的换一种写法而已！！！</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Java中定义枚举类的时候的语法格式:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> 枚举类名 &#123;</span><br><span class="line">	<span class="comment">//下面写常量，常量之间使用逗号隔开</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_enum;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="comment">//常量,一般都是大写的  没有任何数据类型的！！！</span></span><br><span class="line">    RED, GREEN, BLUE</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>枚举类的实例用法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_enum;</span><br><span class="line"></span><br><span class="line"><span class="comment">//声明一个枚举类  是一个特殊的类</span></span><br><span class="line"> <span class="keyword">enum</span> <span class="title class_">Color2</span> &#123;</span><br><span class="line">    RED, GREEN, BLUE</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//RED这个数据  属于Color2这个类的实例的</span></span><br><span class="line">        <span class="comment">//Color2.RED  为啥可以用类名.常量  常量是static修饰的！！！</span></span><br><span class="line">        <span class="type">Color2</span> <span class="variable">red</span> <span class="operator">=</span> Color2.RED;</span><br><span class="line">        System.out.println(red);<span class="comment">//RED</span></span><br><span class="line">        <span class="type">Color2</span> <span class="variable">green</span> <span class="operator">=</span> Color2.GREEN;</span><br><span class="line">        System.out.println(green);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>swicth （表达式） ｛｝</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">表达式数据类型有哪些：</span><br><span class="line">	byte  short  int char  String 枚举</span><br></pre></td></tr></table></figure>

<p>枚举在swicth-case中如何使用【这个重要】</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_enum;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color3</span> &#123;</span><br><span class="line">    RED, GREEN, BLUE</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可以通过switch-case将咱们的常量变成咱们所数据类型</span></span><br><span class="line"><span class="comment">//RED===》红色</span></span><br><span class="line"><span class="comment">//只是一个用判断的一个东西</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Color3</span> <span class="variable">red</span> <span class="operator">=</span> Color3.RED;</span><br><span class="line">        <span class="keyword">switch</span> (red) &#123;</span><br><span class="line">            <span class="keyword">case</span> RED:</span><br><span class="line">                System.out.println(<span class="string">&quot;红色&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> GREEN:</span><br><span class="line">                System.out.println(<span class="string">&quot;绿色&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> BLUE:</span><br><span class="line">                System.out.println(<span class="string">&quot;蓝色&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>枚举类中的几个方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">values();枚举类中所有的值</span><br><span class="line">ordinal();可以找到每个枚举类中常量的索引</span><br><span class="line">valueOf();返回值的是指定字符串的枚举常量</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_enum;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color4</span> &#123;</span><br><span class="line"></span><br><span class="line">    RED, GREEN, BLUE</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//values();枚举类中所有的值</span></span><br><span class="line">        <span class="comment">//ordinal();可以找到每个枚举类中常量的索引</span></span><br><span class="line">        <span class="comment">//valueOf();返回值的是指定字符串的枚举常量</span></span><br><span class="line">        Color4[] values = Color4.values();<span class="comment">//返回是数组</span></span><br><span class="line">        <span class="comment">//遍历</span></span><br><span class="line">        <span class="keyword">for</span> (Color4 value : values) &#123;</span><br><span class="line">            System.out.println(value + <span class="string">&quot;对应的索引:&quot;</span> + value.ordinal());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//valueOf返回的是字符串的枚举常量对象</span></span><br><span class="line">        <span class="comment">//只是换了一种写法而已。</span></span><br><span class="line">        <span class="comment">//通过常量所对应的字符串获取常量的对象</span></span><br><span class="line">        <span class="type">Color4</span> <span class="variable">red</span> <span class="operator">=</span> Color4.valueOf(<span class="string">&quot;RED&quot;</span>);</span><br><span class="line">        <span class="comment">//一般开发使用Color4.RED;</span></span><br><span class="line">        <span class="type">Color4</span> <span class="variable">red1</span> <span class="operator">=</span> Color4.RED;</span><br><span class="line">        System.out.println(red);</span><br><span class="line">        System.out.println(red.hashCode());</span><br><span class="line">        System.out.println(red1);</span><br><span class="line">        System.out.println(red1.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>枚举在真实的开发中使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在很多时候我们定义一些状态量都是使用0或者1，-1这样在数据库中定义，这样的数据存放在数据库的相应字段中方便数据读取，但是只存储数字，如果定义的表很多，对应的字段也很多，设计的状态就非常多，编码很容易分辨不清楚，一方面去数据库中查看相应字段的注释非常费时间，而且容易产生差错，如果我们使用枚举类，这个问题就很好的解决了。</span><br><span class="line"></span><br><span class="line">比如当我们定义了许多状态量，比如订餐支付，未支付，订单的完结，派送，制作等有许多状态，如果不使用枚举，我们在代码层进行判断的时候总是要去思考这个状态是定义的什么呢，0还是-1呢，当项目比较大的时候，光靠我们记是不行的，干脆我们就使用枚举来简化我们的编程，而且还较少了逻辑上出错的可能。</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_enum;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">ProductEnum</span> &#123;</span><br><span class="line">    UP(<span class="number">0</span>, <span class="string">&quot;在架&quot;</span>),</span><br><span class="line">    DOWN(<span class="number">1</span>, <span class="string">&quot;下架&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    ProductEnum(Integer code, String message) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(Integer code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(ProductEnum.UP.getCode());</span><br><span class="line">        System.out.println(ProductEnum.UP.getMessage());</span><br><span class="line">        System.out.println(ProductEnum.DOWN.getCode());<span class="comment">//1</span></span><br><span class="line">        System.out.println(ProductEnum.DOWN.getMessage());<span class="comment">//&quot;下架&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-3包装类"><a href="#1-3包装类" class="headerlink" title="1.3包装类"></a>1.3包装类</h4><blockquote>
<p>Java有八大基本数据类型，都有与之对应的包装类</p>
<p>为啥会有八大基本数据类型的包装类?</p>
<p>包装类能被实例化，封装了很多方法，可以使用，这样操作八大基本数据类型就比较方便了</p>
<p>所以开发中的实体类都是写的包装类</p>
<p>int age&#x3D;&#x3D;&#x3D;&#x3D;&gt;Integer age;</p>
<p>int-&gt;Integer</p>
<p>byte-&gt;Byte</p>
<p>short-&gt;Short</p>
<p>long-&gt;Long</p>
<p>float-&gt;Float</p>
<p>double-&gt;Double</p>
<p>boolean-&gt;Boolean</p>
<p>char-&gt;Character</p>
<p>【重点】:</p>
<p>​		1.自从JDK1.5之后，有拆箱和装箱</p>
<p>​				自动装箱:将基本数据类型转为包装类</p>
<p>​				自动拆箱:将包装类转为基本数据类型</p>
<p>​	2.***Value();将包装类转为基本数据类型</p>
<p>​	3.toString();将基本数据类型转为字符串</p>
<p>​	4.parse***();将字符串类型的数据转为基本数据类型【以后开发用】</p>
<p>​	5.valueOf（）；将基本数据类型转为包装类类似手动装箱</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_baozhuang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//自1.5以后 有自动装箱和自动拆箱</span></span><br><span class="line">        <span class="comment">//自动装箱:  将int转为Integer</span></span><br><span class="line">        <span class="comment">//自动拆箱:  将Integer转为int</span></span><br><span class="line">        <span class="comment">//毫无违和感  都是自动的！！！特别方便</span></span><br><span class="line">        System.out.println(Integer.MAX_VALUE);<span class="comment">//2147483647</span></span><br><span class="line">        System.out.println(Integer.MIN_VALUE);<span class="comment">//-2147483648</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//自动装箱 45本身是int类型的数据，现在是Integer</span></span><br><span class="line">        <span class="comment">//int  变成了Integer  报错没？没有就证明可以自动的装箱</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">45</span>;</span><br><span class="line">        <span class="comment">//自动拆箱  没有报错  就证明自动的在拆箱</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> i1;</span><br><span class="line">        System.out.println(i1);</span><br><span class="line">        System.out.println(i2);</span><br><span class="line">        <span class="comment">//除了自动装箱和拆箱外，Java还给咱们提供了方法。让咱们装箱和拆箱</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="literal">true</span>;<span class="comment">//b1 是包装类</span></span><br><span class="line">        <span class="comment">//***Value();将包装类转为基本数据类型</span></span><br><span class="line">        <span class="comment">//intValue()  booleanValue()  floatValue() doubleValue()</span></span><br><span class="line">        <span class="comment">//b是基本数据类型</span></span><br><span class="line">        <span class="comment">//有自动拆箱，还有必要使用***Value吗？没有！！！</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> b1.booleanValue();</span><br><span class="line">        System.out.println(b);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//toString();将基本数据类型转为字符串【重要】</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">45</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Integer.toString(i3);</span><br><span class="line">        System.out.println(s);<span class="comment">//&quot;45&quot;</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> Double.toString(<span class="number">67.8</span>);</span><br><span class="line">        System.out.println(s1);<span class="comment">//&quot;67.8&quot;</span></span><br><span class="line">        <span class="comment">//以后做银行项目的时候，double 和float 有可能数据丢失</span></span><br><span class="line">        <span class="comment">//可以转为字符串操作！！！绝对不会</span></span><br><span class="line">        <span class="comment">//parse***();将字符串类型的数据转为基本数据类型【以后开发用】</span></span><br><span class="line">        <span class="comment">//parsetInt(); parseDouble(); parseFloat();parseByte()</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> Integer.parseInt(<span class="string">&quot;250&quot;</span>);</span><br><span class="line">        System.out.println(i);<span class="comment">//250</span></span><br><span class="line">        <span class="comment">//开发中  分页  前段URL传一个字符串值过来 pageNo=2 这个2传</span></span><br><span class="line">        <span class="comment">//到Java代码中，是字符串类型的数据，将字符串转为int类型的数据</span></span><br><span class="line">        <span class="comment">//然后操作数据库</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//valueOf（）；将基本数据类型转为包装类类似手动装箱</span></span><br><span class="line">        <span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="number">34</span>;<span class="comment">//b2 基本数据类型</span></span><br><span class="line">        <span class="type">Byte</span> <span class="variable">aByte</span> <span class="operator">=</span> Byte.valueOf(b2);</span><br><span class="line">        System.out.println(aByte);<span class="comment">//aByte 就是包装类</span></span><br><span class="line">        <span class="comment">//有没有必要写这个方法？没有  因为会自动装箱</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>面试题：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Integer i1 = 10;</span><br><span class="line">Integer i2 = 10;</span><br><span class="line">sout(i1 == i2);</span><br><span class="line">Integer i3 = 1000;</span><br><span class="line">Integer i4 = 1000;</span><br><span class="line">sout(i3 == i4);</span><br></pre></td></tr></table></figure>

<h5 id="关于Integer和int类型数据的内存分析"><a href="#关于Integer和int类型数据的内存分析" class="headerlink" title="关于Integer和int类型数据的内存分析"></a>关于Integer和int类型数据的内存分析</h5><p>只有看内存分析才能明白一些底层的东西</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">IntegerCache</span> &#123;</span><br><span class="line">       <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">low</span> <span class="operator">=</span> -<span class="number">128</span>;</span><br><span class="line">       <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> high;</span><br><span class="line">       <span class="keyword">static</span> <span class="keyword">final</span> Integer cache[];<span class="comment">//缓存数组  -128~127</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">static</span> &#123;</span><br><span class="line">           <span class="comment">// high value may be configured by property</span></span><br><span class="line">           <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line">           <span class="type">String</span> <span class="variable">integerCacheHighPropValue</span> <span class="operator">=</span></span><br><span class="line">               sun.misc.VM.getSavedProperty(<span class="string">&quot;java.lang.Integer.IntegerCache.high&quot;</span>);</span><br><span class="line">           <span class="keyword">if</span> (integerCacheHighPropValue != <span class="literal">null</span>) &#123;</span><br><span class="line">               <span class="keyword">try</span> &#123;</span><br><span class="line">                   <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> parseInt(integerCacheHighPropValue);</span><br><span class="line">                   i = Math.max(i, <span class="number">127</span>);</span><br><span class="line">                   <span class="comment">// Maximum array size is Integer.MAX_VALUE</span></span><br><span class="line">                   h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="number">1</span>);</span><br><span class="line">               &#125; <span class="keyword">catch</span>( NumberFormatException nfe) &#123;</span><br><span class="line">                   <span class="comment">// If the property cannot be parsed into an int, ignore it.</span></span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           high = h;</span><br><span class="line"></span><br><span class="line">           cache = <span class="keyword">new</span> <span class="title class_">Integer</span>[(high - low) + <span class="number">1</span>];</span><br><span class="line">           <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> low;</span><br><span class="line">           <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; cache.length; k++)</span><br><span class="line">               cache[k] = <span class="keyword">new</span> <span class="title class_">Integer</span>(j++);</span><br><span class="line"></span><br><span class="line">           <span class="comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span></span><br><span class="line">           <span class="keyword">assert</span> IntegerCache.high &gt;= <span class="number">127</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">private</span> <span class="title function_">IntegerCache</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Returns an &#123;<span class="doctag">@code</span> Integer&#125; instance representing the specified</span></span><br><span class="line"><span class="comment">    * &#123;<span class="doctag">@code</span> int&#125; value.  If a new &#123;<span class="doctag">@code</span> Integer&#125; instance is not</span></span><br><span class="line"><span class="comment">    * required, this method should generally be used in preference to</span></span><br><span class="line"><span class="comment">    * the constructor &#123;<span class="doctag">@link</span> #Integer(int)&#125;, as this method is likely</span></span><br><span class="line"><span class="comment">    * to yield significantly better space and time performance by</span></span><br><span class="line"><span class="comment">    * caching frequently requested values.</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * This method will always cache values in the range -128 to 127,</span></span><br><span class="line"><span class="comment">    * inclusive, and may cache other values outside of this range.</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span>  i an &#123;<span class="doctag">@code</span> int&#125; value.</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> an &#123;<span class="doctag">@code</span> Integer&#125; instance representing &#123;<span class="doctag">@code</span> i&#125;.</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@since</span>  1.5</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">           <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_baozhuang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">10</span>;<span class="comment">//没有new 直接从常量池中取的</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">10</span>;<span class="comment">//没有new  直接从常量池中取的</span></span><br><span class="line">        System.out.println(i1 == i2);<span class="comment">//true</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">1000</span>;<span class="comment">//new对象了</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i4</span> <span class="operator">=</span> <span class="number">1000</span>;<span class="comment">//new对象了</span></span><br><span class="line">        System.out.println(i3 == i4);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//考察了Integer类加载的时候，</span></span><br><span class="line">        <span class="comment">// 它就创建了自己的静态空间（常量池），</span></span><br><span class="line">        <span class="comment">// 立即加载了Integer类型的数组， static final Integer cache[];</span></span><br><span class="line">        <span class="comment">// 数组内存储了256个Integer类型的对象-128 - 127，</span></span><br><span class="line">        <span class="comment">// 如果我们用的对象范围在这之内，是final修饰的，就意味着不会改变地址</span></span><br><span class="line">        <span class="comment">//i1 没有超过-128 ~127这个范围的时候，不会改变地址的，就意味着内存地址是一样的</span></span><br><span class="line">        <span class="comment">//使用==的时候，比较内存地址，所以相等！！！</span></span><br><span class="line">        <span class="comment">// 如Ingeger i1 = 10；JVM就会直接从静态区的Integer类型的缓冲数组中直接找对应的对象，</span></span><br><span class="line">        <span class="comment">// 如果我们用的对象范围超出了这个-128~127，例如Integer i1 = 1000；</span></span><br><span class="line">        <span class="comment">// JVM就会帮我们在堆内存中创建一个新的Integer对象。那么内存地址不一样的</span></span><br><span class="line">        <span class="comment">//  使用==比较的就是一个false</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308031550907.png" alt="1"></p>
<p>京东面试题：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Integer i1 = 10;</span><br><span class="line">Intger i2 = 10;</span><br><span class="line">sout(i1 == i2);//true  不会创建新的对象，直接从常量池</span><br><span class="line">Integer i3 = 1000;</span><br><span class="line">Integer i4 = 1000;</span><br><span class="line">sout(i3 == i4);//false 已经超过缓存数组的容量了-128~127 ,就要在堆区去创建新的对象了</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：</p>
<p>int类型赋值：不管值的大小，都在常量池中！！！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int a=  128;  int a = 8999;   都在常量池中！！！</span><br></pre></td></tr></table></figure>

<p>Integer类型赋值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Integer i1 = 10;//不会在堆区创建对象</span><br><span class="line">Integer i2 = 1000;//堆区会创建对象，值会指向常量池中的那个值！！！</span><br><span class="line">若值的范围在-128~127之间，在常量池中！！！</span><br><span class="line">如值的范围不在-128~127之间，在堆区创建对象，进行赋值了</span><br></pre></td></tr></table></figure>

<p>实例化Integer对象:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer i1 = new Integer(12);</span><br><span class="line">只要是new的Integer  使用== 都是false</span><br></pre></td></tr></table></figure>

<p>今天这些东西其实是你自己要私下搞的！！！</p>
<p>因为那么类，包装类特别多每个都要讲？需要咱们后期慢慢的消化的东西！！！</p>
<p>面了那么家只有京东问到了，出现的概率小，但是咱们很有必要去了解的！！！</p>
<p>自己去百度一下，你就知道了</p>
<h4 id="1-4Math"><a href="#1-4Math" class="headerlink" title="1.4Math"></a>1.4Math</h4><blockquote>
<p><code>Math</code>类包含执行基本数字运算的方法，如基本指数，对数，平方根和三角函数。</p>
<p>专门处理数学运算的一个类</p>
<p>绝对值 abs()</p>
<p>最大值 max()</p>
<p>最小值 min()</p>
<p>向上取整 ceil()</p>
<p>向下取整floor()</p>
<p>四舍五入round()</p>
<p>随机数random()</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_math;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(Math.PI);</span><br><span class="line">        System.out.println(Math.E);</span><br><span class="line">        <span class="comment">//以上是两个常量</span></span><br><span class="line">        System.out.println(Math.abs(-<span class="number">89</span>));<span class="comment">//绝对值 89</span></span><br><span class="line">        System.out.println(Math.max(<span class="number">34</span>, <span class="number">56</span>));<span class="comment">//最大值 56</span></span><br><span class="line">        <span class="comment">//求三个数的最大值？咋办？</span></span><br><span class="line">        System.out.println(Math.max(<span class="number">23</span>, Math.max(<span class="number">45</span>,<span class="number">12</span>)));<span class="comment">//45</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//最小值</span></span><br><span class="line">        System.out.println(Math.min(<span class="number">34</span>, <span class="number">12</span>));<span class="comment">//12</span></span><br><span class="line">        <span class="comment">//向上取整</span></span><br><span class="line">        System.out.println(Math.ceil(<span class="number">45.2</span>));<span class="comment">//46.0</span></span><br><span class="line">        <span class="comment">//向下取整</span></span><br><span class="line">        System.out.println(Math.floor(<span class="number">89.8</span>));<span class="comment">//89.0</span></span><br><span class="line">        <span class="comment">//四舍五入</span></span><br><span class="line">        System.out.println(Math.round(<span class="number">45.5</span>));<span class="comment">//46</span></span><br><span class="line">        <span class="comment">//随机数大于等于 0.0 ，小于 1.0   double</span></span><br><span class="line">        System.out.println(Math.random());</span><br><span class="line">        <span class="comment">//随机1-100之间的整数int 0.45 * 100=45 int</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> (<span class="type">int</span>)(Math.random() * <span class="number">100</span>);</span><br><span class="line">        System.out.println(i1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-5Random类"><a href="#1-5Random类" class="headerlink" title="1.5Random类"></a>1.5Random类</h4><blockquote>
<p>专门处理随机数的类</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        System.out.println(random.nextInt());</span><br><span class="line">        System.out.println(random.nextInt(<span class="number">100</span>));<span class="comment">//[0,100);</span></span><br><span class="line">        System.out.println(random.nextFloat());</span><br><span class="line">        System.out.println(random.nextDouble());</span><br><span class="line">        System.out.println(random.nextBoolean());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>作业：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1.题目要求:</span><br><span class="line"></span><br><span class="line">根据int变量n的值，来获取随机数字，范围是[1 , n]，可以取到1也可以取到n。</span><br><span class="line">2.题目:</span><br><span class="line"></span><br><span class="line">用代码模拟猜数字的小游戏。</span><br><span class="line"></span><br><span class="line">思路:</span><br><span class="line"></span><br><span class="line">1．首先需要产生一个随机数字，并且一旦产生不再变化。用Random的nextInt方法</span><br><span class="line"></span><br><span class="line">2．需要键盘输八，所以用到了Scanner</span><br><span class="line"></span><br><span class="line">3．获取键盘输入的数字,用scanner当中的nextInt方法</span><br><span class="line"></span><br><span class="line">4．已经得到了两个数字，判断(if)一下:</span><br><span class="line"></span><br><span class="line">如果太大了，提示太大，并且重试;</span><br><span class="line"></span><br><span class="line">如果太小了，提示太小，并且重试;</span><br><span class="line"></span><br><span class="line">如果猜中了，游戏结束。</span><br><span class="line"></span><br><span class="line">5．重试就是再来一次,循环次数不确定，用while(true)。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-6System类"><a href="#1-6System类" class="headerlink" title="1.6System类"></a>1.6System类</h4><blockquote>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.f_system;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">PrintStream</span> <span class="variable">out</span> <span class="operator">=</span> System.out;<span class="comment">//是一个流 PrintStream 打印流</span></span><br><span class="line">        out.println(<span class="string">&quot;goudan&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;goudan&quot;</span>);<span class="comment">//标准输出流打印的东西</span></span><br><span class="line">        System.err.println(<span class="string">&quot;xixi&quot;</span>);<span class="comment">//错误输出流打印的东西</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);<span class="comment">//输入流</span></span><br><span class="line">        <span class="comment">//你把控制台想象成一个磁盘。就是输入流和输出流</span></span><br><span class="line">        <span class="comment">//用的很多</span></span><br><span class="line">        <span class="comment">// 在1970年1月1日UTC之间的当前时间和午夜之间的差异，以毫秒为单位</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">l</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">//2022年到1970年 是不是52</span></span><br><span class="line">        System.out.println(l/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span>/<span class="number">24</span>/<span class="number">365</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取系统的东西  System 英文单词就是系统的意思</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> System.getProperties();</span><br><span class="line">        <span class="comment">//os.name 系统的名字</span></span><br><span class="line">        System.out.println(properties.get(<span class="string">&quot;os.name&quot;</span>));</span><br><span class="line">        System.out.println(properties.get(<span class="string">&quot;os.version&quot;</span>));</span><br><span class="line">        System.out.println(properties.get(<span class="string">&quot;user.name&quot;</span>));</span><br><span class="line">        System.out.println(properties.get(<span class="string">&quot;user.dir&quot;</span>));</span><br><span class="line">        System.out.println(properties.get(<span class="string">&quot;java.version&quot;</span>));</span><br><span class="line"><span class="comment">//Windows 10</span></span><br><span class="line"><span class="comment">//10.0</span></span><br><span class="line"><span class="comment">//bowang</span></span><br><span class="line"><span class="comment">//C:\Users\bowang\IdeaProjects\day21_wb</span></span><br><span class="line"><span class="comment">//1.8.0_241</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-7Runtime【不重要】"><a href="#1-7Runtime【不重要】" class="headerlink" title="1.7Runtime【不重要】"></a>1.7Runtime【不重要】</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.g_runtime;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//1.获取runtime对象</span></span><br><span class="line">        <span class="type">Runtime</span> <span class="variable">runtime</span> <span class="operator">=</span> Runtime.getRuntime();</span><br><span class="line">        <span class="comment">//runtime对象可以启动咱们电脑上面任意的一个软件</span></span><br><span class="line">        <span class="comment">//使用代码启动软件</span></span><br><span class="line">        runtime.exec(<span class="string">&quot;C:\\Program Files (x86)\\Notepad++\\notepad++.exe&quot;</span>);</span><br><span class="line">        <span class="comment">//返回Java虚拟机将尝试使用的最大内存量。字节数</span></span><br><span class="line">        System.out.println(runtime.maxMemory() / <span class="number">1024</span> / <span class="number">1024</span>);<span class="comment">//MB</span></span><br><span class="line">        <span class="comment">//返回Java虚拟机中的可用内存量 字节数</span></span><br><span class="line">        System.out.println(runtime.freeMemory()/<span class="number">1024</span>/<span class="number">1024</span>);</span><br><span class="line">        <span class="comment">//返回Java虚拟机中的内存总量 字节数</span></span><br><span class="line">        System.out.println(runtime.totalMemory()/<span class="number">1024</span>/<span class="number">1024</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-8Date类"><a href="#1-8Date类" class="headerlink" title="1.8Date类"></a>1.8Date类</h4><blockquote>
<p>专门处理日期的一个类，不过好多方法已经过期了</p>
<p>在类的所有方法<code>Date</code>接受或返回年，月，日，小时，分钟和秒值，以下表述中使用：</p>
<ul>
<li><em>y</em>年代表整数<em>y</em> <code>- 1900</code> 。</li>
<li>一个月由0到11的整数表示; 0是1月，1是2月，等等; 11月12日。</li>
<li>日期（月的一天）以通常的方式从1到31的整数表示。</li>
<li>一小时由0到23之间的整数表示。因此，从午夜到凌晨1点的时间是小时0，从中午到下午1点的小时是12小时。</li>
<li>一般以0〜59的整数表示。</li>
<li>第二个由0到61的整数表示; 值60和61仅发生在闰秒上，甚至仅在实际上正确跟踪闰秒的Java实现中发生。 由于目前引入闰秒的方式，在同一分钟内不会发生两个闰秒，但是本规范遵循ISO C的日期和时间约定。</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.h_date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="comment">//Tue Aug 09 16:11:11 IRKT 2022</span></span><br><span class="line">        System.out.println(date);</span><br><span class="line">        <span class="comment">//获取年份 这个年份是减去1900以后的值，所以得加上1900</span></span><br><span class="line">        System.out.println(date.getYear() + <span class="number">1900</span>);</span><br><span class="line">        <span class="comment">//7</span></span><br><span class="line">        <span class="comment">//2</span></span><br><span class="line">        <span class="comment">//16</span></span><br><span class="line">        <span class="comment">//15</span></span><br><span class="line">        <span class="comment">//42</span></span><br><span class="line">        <span class="comment">//获取月份</span></span><br><span class="line">        System.out.println(date.getMonth() + <span class="number">1</span>);<span class="comment">//7</span></span><br><span class="line">        <span class="comment">//这个日期的星期几。</span></span><br><span class="line">        System.out.println(date.getDay());<span class="comment">//2</span></span><br><span class="line">        System.out.println(date.getHours());<span class="comment">//16</span></span><br><span class="line">        System.out.println(date.getMinutes());<span class="comment">//15</span></span><br><span class="line">        System.out.println(date.getSeconds());<span class="comment">//42</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-9Calendar"><a href="#1-9Calendar" class="headerlink" title="1.9Calendar"></a>1.9Calendar</h4><blockquote>
<p>现在国际通用的是Calendar类</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.h_date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        <span class="comment">//获取当前的年份</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> calendar.get(Calendar.YEAR);</span><br><span class="line">        System.out.println(i);<span class="comment">//2022</span></span><br><span class="line">        <span class="comment">//获取月份  需要加1的</span></span><br><span class="line">        System.out.println(calendar.get(Calendar.MONTH) + <span class="number">1</span>);<span class="comment">//8</span></span><br><span class="line">        <span class="comment">//获取当月的第几天</span></span><br><span class="line">        System.out.println(calendar.get(Calendar.DAY_OF_MONTH));<span class="comment">//9</span></span><br><span class="line">        <span class="comment">//获取这周的第几天  漂亮国的周日是第1天</span></span><br><span class="line">        System.out.println(calendar.get(Calendar.DAY_OF_WEEK));<span class="comment">//3</span></span><br><span class="line">        <span class="comment">//获取这一年的第几天</span></span><br><span class="line">        System.out.println(calendar.get(Calendar.DAY_OF_YEAR));<span class="comment">//221</span></span><br><span class="line">        <span class="comment">//获取时</span></span><br><span class="line">        System.out.println(calendar.get(Calendar.HOUR));<span class="comment">//4</span></span><br><span class="line">        System.out.println(calendar.get(Calendar.MINUTE));<span class="comment">//39</span></span><br><span class="line">        System.out.println(calendar.get(Calendar.SECOND));<span class="comment">//3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//重要的方法  获取当前的时间的 返回值是Date类型的数据</span></span><br><span class="line">        <span class="comment">//可以转为Date类型的数据</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">time</span> <span class="operator">=</span> calendar.getTime();</span><br><span class="line">        System.out.println(time);</span><br><span class="line">        <span class="comment">//Tue Aug 09 16:40:21 IRKT 2022</span></span><br><span class="line">        <span class="comment">//这上面时间 对程序员相当不友好！！！</span></span><br><span class="line">        <span class="comment">//通过一个类将日期格式转换一下</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy—MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="comment">//yyyy-MM-dd HH:mm:ss</span></span><br><span class="line">        <span class="comment">//年-月-天 时:分:秒</span></span><br><span class="line">        <span class="comment">//2022-08-09  16:43:32</span></span><br><span class="line">        <span class="comment">//将这个格式Tue Aug 09 16:40:21 IRKT 2022</span></span><br><span class="line">        <span class="comment">//转换为2022-08-09  16:43:32</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> sdf.format(time);</span><br><span class="line">        System.out.println(format);</span><br><span class="line">        <span class="comment">//yyyy-MM-dd HH:mm:ss</span></span><br><span class="line">        <span class="comment">//以上能不能胡乱写？不能</span></span><br><span class="line">        <span class="comment">//以后开发中要用的！！</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输入两个日期计算出两个日期相差多少天</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.h_date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//输入两个日期计算出两个日期相差多少天</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">        <span class="comment">//将一个字符串类型的数据变成一个Date类型的数据</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">strat</span> <span class="operator">=</span> sdf.parse(<span class="string">&quot;2012-08-01&quot;</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">end</span> <span class="operator">=</span> sdf.parse(<span class="string">&quot;2022-08-09&quot;</span>);</span><br><span class="line">        <span class="comment">//一定要将字符串转为Date类型 才能按照日期来算</span></span><br><span class="line">        <span class="comment">//将Date类型的数据转为时间戳了，</span></span><br><span class="line">        <span class="comment">//为啥转为时间戳？因为时间戳是一个long类型数据可以想减！！！</span></span><br><span class="line">        <span class="comment">//算两个时间的间隔，相减。转为int或者long才能转</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> strat.getTime();</span><br><span class="line">        <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> end.getTime();<span class="comment">//毫秒数</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> endTime - startTime;</span><br><span class="line">        System.out.println(num/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span>/<span class="number">24</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>作业:</p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">1.输入两个日期计算出两个日期相差多少天</span><br><span class="line">2.一个你的生日，计算出来你几岁了</span><br><span class="line">3.新闻类：标题 内容  时间</span><br><span class="line">	有10条新闻  ，按照时间降序进行排列  打印！！！</span><br><span class="line"></span><br><span class="line">4.学生类：学号  姓名  出生日期</span><br><span class="line">	把学生类放到集合中，</span><br><span class="line">	找出来比张三年龄大的学生</span><br><span class="line">5.题目要求:</span><br><span class="line"></span><br><span class="line">根据int变量n的值，来获取随机数字，范围是[1 , n]，可以取到1也可以取到n。</span><br><span class="line">6.题目:</span><br><span class="line"></span><br><span class="line">用代码模拟猜数字的小游戏。</span><br><span class="line"></span><br><span class="line"> 思路:</span><br><span class="line"></span><br><span class="line"> 1．首先需要产生一个随机数字，并且一旦产生不再变化。用Random的nextInt方法</span><br><span class="line"></span><br><span class="line"> 2．需要键盘输八，所以用到了Scanner</span><br><span class="line"></span><br><span class="line"> 3．获取键盘输入的数字,用scanner当中的nextInt方法</span><br><span class="line"></span><br><span class="line"> 4．已经得到了两个数字，判断(if)一下:</span><br><span class="line"></span><br><span class="line"> 如果太大了，提示太大，并且重试;</span><br><span class="line"></span><br><span class="line"> 如果太小了，提示太小，并且重试;</span><br><span class="line"></span><br><span class="line"> 如果猜中了，游戏结束。</span><br><span class="line"></span><br><span class="line">	5．重试就是再来一次,循环次数不确定，用while(true)。</span><br><span class="line">7.自己去百度一下Calendar这个类详解。</span><br><span class="line">因为以后开发中日期在项目中是必用的！！！啥时候下的单子，超过15分钟没有支付。都要考虑的！！！日期很重要的！！！</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="day22"><a href="#day22" class="headerlink" title="day22"></a>day22</h2><h3 id="今天的内容【重要！！！】"><a href="#今天的内容【重要！！！】" class="headerlink" title="今天的内容【重要！！！】"></a>今天的内容【重要！！！】</h3><blockquote>
<p>1.进程</p>
<p>2.线程【重点】</p>
</blockquote>
<h3 id="1-什么是进程"><a href="#1-什么是进程" class="headerlink" title="1.什么是进程"></a>1.什么是进程</h3><blockquote>
<p>是独立的运行程序</p>
<p>​	比如咱们电脑软件，你启动起来以后，他就是一个进程。qq   idea</p>
<p>进程需要windows系统的分配。可以获取当前的系统的网卡，内存，显卡等</p>
<p>​		1.独立性</p>
<p>​					各个进程之间是相互的独立的互不影响 的。录屏软件和idea没有关系的</p>
<p>​		2.互斥性</p>
<p>​				每个软件系统都会分配一个独立端口号，如果启动一个软件以后他的端口号97。</p>
<p>​				如果再启动另外一个软件，另外一个软件如果端口也是97，这个程序就启动不了，端口被占用的</p>
</blockquote>
<p>脑海里面知道开启的软件就是一个进程 即可！！！</p>
<h3 id="2-什么是线程"><a href="#2-什么是线程" class="headerlink" title="2.什么是线程"></a>2.什么是线程</h3><blockquote>
<p>进程是由多个或者一个线程组成的。每个进程至少得有一个线程的支撑。</p>
<p>脑海里面这样来想，一个进程（qq）,qq里面很多个线程在执行。线程的执行</p>
<p>支撑起来了进程的执行。</p>
<p>把一个人比作一个进程，那么你身体里面的细胞就是线程。如果没有细胞。这个人还存在吗？不存在的！！！</p>
<p>进程包含了线程，线程是组成进程的最小基本单位</p>
<p>​		特性:</p>
<p>​			1.抢占式运行的【重要】</p>
<p>​				CPU在执行的时候，按照时间片来执行的，单位的时间片是抢占是执行</p>
<p>​				比如  idea  qq   抢占CPU的，比如qq的线程抢到cpu，idea线程等待</p>
<p>​				我是一个cpu。你们问我问题。75个线程。同时来问我问题吗？不是</p>
<p>​				抢着问。一个问。然后其他人等待。这个人甚至还没有问完，其他的某一个人</p>
<p>​			抢到我了，他问我。大概就是效果</p>
<p>​			2.资源共享性</p>
<p>​				一个线程可以共享当前CPU， 网卡等</p>
<p>Java程序:</p>
<p>​		一个Java程序就是一个进程  Demo1 就是一个应用程序  就是一个进程</p>
<p>​		一个Java程序Demo1里面至少 几个线程？</p>
<p>​				两个：</p>
<p>​						main主函数线程</p>
<p>​						JVM垃圾回收器线程</p>
</blockquote>
<h3 id="3-线程和进程的区别【面试题】"><a href="#3-线程和进程的区别【面试题】" class="headerlink" title="3.线程和进程的区别【面试题】"></a>3.线程和进程的区别【面试题】</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">进程是一个应用程序，是独立的</span><br><span class="line">线程是进程中最小的基本单位。</span><br><span class="line">把进程比作生产车间，每个流水线就是一个线程</span><br><span class="line">进程有独立性和互斥性</span><br><span class="line">线程有抢占式资源共享特性</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-并发和并行"><a href="#4-并发和并行" class="headerlink" title="4.并发和并行"></a>4.并发和并行</h3><blockquote>
<p>并发:同时发生，轮流交替执行</p>
<p>并行:真正意义的同时执行</p>
<p>比如：</p>
<p>​		你去饭店点了两个菜，生活中拿个筷子轮流夹菜哦这就是并发场景</p>
<p>​		端起盘子，同时倒到嘴里面，这就是并行场景</p>
</blockquote>
<h3 id="5-创建线程的两种方式【重点】"><a href="#5-创建线程的两种方式【重点】" class="headerlink" title="5.创建线程的两种方式【重点】"></a>5.创建线程的两种方式【重点】</h3><blockquote>
<p>创建线程的两种方式</p>
<ol>
<li>一个是将一个类声明为<code>Thread</code>的子类。 这个子类应该重写<code>run</code>方法 。 然后可以分配并启动子类的实例。</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个是将一个类声明为Thread的子类。</span></span><br><span class="line"><span class="comment">// 这个子类应该重写run类的方法Thread 。</span></span><br><span class="line"><span class="comment">// 然后可以分配并启动子类的实例。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread1</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">500</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我是myThread1线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread2</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;<span class="comment">//run方法中写功能代码  就是一个线程中执行的一个功能</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">500</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我是mythread2线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//官方手册中说，要去实例化Thread的子类，并启动线程</span></span><br><span class="line">        <span class="type">MyThread1</span> <span class="variable">myThread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread1</span>();</span><br><span class="line">        <span class="comment">//启动线程 使用start方法  在主线程中开启子线程</span></span><br><span class="line">        myThread1.start();</span><br><span class="line">        <span class="type">MyThread2</span> <span class="variable">myThread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread2</span>();</span><br><span class="line">        myThread2.start();</span><br><span class="line">        <span class="comment">//现在有几个线程?  3个</span></span><br><span class="line">        <span class="comment">//一个是MyThread1线程  一个是主线程（main）  一个垃圾回收机制线程</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">500</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;主函数线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//发现先执行了主线程，然后再执行子线程，然后又执行主线程</span></span><br><span class="line">        <span class="comment">//这就线程的抢占式的运行</span></span><br><span class="line">        <span class="comment">//三个线程：</span></span><br><span class="line">        <span class="comment">//你自己吃三盘菜，咋吃？</span></span><br><span class="line">        <span class="comment">//一盘菜代表一个线程，一盘菜夹一下，随机的吧。</span></span><br><span class="line">        <span class="comment">//开启一个线程，就是在执行一个任务。</span></span><br><span class="line">        <span class="comment">//上面这个代码，你们执行结果和我执行的结果一样吗？绝对不一样的</span></span><br><span class="line">        <span class="comment">//抢占式的，随机执行线程的！！！</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">练习:</span><br><span class="line">            main主线程 打印<span class="number">100</span>遍的吃大盘鸡</span><br><span class="line">            子线程<span class="number">1</span> 打印<span class="number">100</span>遍的吃水煮肉片</span><br><span class="line">            子线程<span class="number">2</span> 打印<span class="number">100</span>遍的吃毛血旺</span><br><span class="line">            一定要注意打印的结果，多执行几遍，看看每次执行的结果是否一样！！！</span><br></pre></td></tr></table></figure>

<blockquote>
<p>另一种方法来创建一个线程是声明实现类<code>Runnable</code>接口。 那个类然后实现了<code>run</code>方法。 然后可以分配类的实例，在创建<code>Thread</code>时作为参数传递，并启动。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">//另一种方法来创建一个线程是声明实现类Runnable接口。</span></span><br><span class="line"><span class="comment">// 那个类然后实现了run方法。 </span></span><br><span class="line"><span class="comment">// 然后可以分配类的实例(创建类的对象)，在创建Thread实例时作为参数传递，并启动。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread3</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread3:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyaThread4</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread4:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread3</span> <span class="variable">myThread3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread3</span>();</span><br><span class="line">        <span class="comment">//Thread(Runnable target)  参数是Runnable这个接口对象</span></span><br><span class="line">        <span class="comment">//分配一个新的 Thread对象。</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(myThread3);</span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="type">MyaThread4</span> <span class="variable">myaThread4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyaThread4</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(myaThread4);</span><br><span class="line">        thread1.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;main主线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//有几个线程做任务的线程  3个 一个是main主线程  一个是MyThread3</span></span><br><span class="line">        <span class="comment">//一个MyThread4这个线程</span></span><br><span class="line">        <span class="comment">//可以发现运行的结果是随机执行的！！！</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="6-线程下面的几个方法"><a href="#6-线程下面的几个方法" class="headerlink" title="6.线程下面的几个方法"></a>6.线程下面的几个方法</h3><blockquote>
<p>构造方法</p>
<table>
<thead>
<tr>
<th><code>Thread()</code>分配一个新的 <code>Thread</code>对象。  无参构造方法</th>
</tr>
</thead>
<tbody><tr>
<td><code>Thread(Runnable target)</code>分配一个新的 <code>Thread</code>对象。 有参构造</td>
</tr>
<tr>
<td><code>Thread(Runnable target, String name)</code>分配一个新的 <code>Thread</code>对象。并起名字</td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>线程方法：</p>
<table>
<thead>
<tr>
<th><code>static Thread</code></th>
<th><code>currentThread()</code>返回对当前正在执行的线程对象的引用</th>
</tr>
</thead>
<tbody><tr>
<td><code>String</code></td>
<td><code>getName()</code>返回此线程的名称。</td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setName(String name)</code>将此线程的名称更改为等于参数 <code>name</code> 。</td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>getPriority()</code>返回此线程的优先级。</td>
</tr>
<tr>
<td><code>void</code></td>
<td><code>setPriority(int newPriority)</code>更改此线程的优先级。</td>
</tr>
<tr>
<td></td>
<td>设置优先并不一定优先，只是增加了执行的概率。最小值是1，最大值是10，默认的是5</td>
</tr>
<tr>
<td><code>static void</code></td>
<td><code>sleep(long millis)</code>使当前正在执行的线程以指定的毫秒数暂停（暂时停止执行），具体取决于系统定时器和调度程序的精度和准确性。</td>
</tr>
</tbody></table>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_threadfun;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="comment">//此时这个thread对象是MyThread1这个线程</span></span><br><span class="line">        <span class="comment">//对子线程设置名字</span></span><br><span class="line">        thread.setName(<span class="string">&quot;mythread1子线程&quot;</span>);</span><br><span class="line">        System.out.println(thread.getName());<span class="comment">//Thread-0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        System.out.println(thread.getName());<span class="comment">//狗蛋</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//currentThread() 获取当前线程对象</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="comment">//现在thread  这个对象是哪个线程？主线程</span></span><br><span class="line">        <span class="comment">//为啥是main主线程</span></span><br><span class="line">        <span class="comment">//给main主线程设置名字</span></span><br><span class="line">        thread.setName(<span class="string">&quot;主线程&quot;</span>);</span><br><span class="line">        <span class="comment">//获取的是main主线程的名字，Jvm会给主线程还有其他线程一个默认的名字</span></span><br><span class="line"></span><br><span class="line">        System.out.println(thread.getName());<span class="comment">//main</span></span><br><span class="line"><span class="comment">//        MyThread1 myThread1 = new MyThread1();</span></span><br><span class="line"><span class="comment">//        Thread thread1 = new Thread( myThread1);</span></span><br><span class="line"><span class="comment">//        thread1.start();</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread1</span>()).start();</span><br><span class="line">        <span class="comment">//Java中默认的主线程叫main  子线程叫Thread-0  Thread-1....</span></span><br><span class="line">        <span class="comment">//默认的有名字，咱们能不能对线程自定义名字？能</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//我在启动MyThread2的这个线程的时候顺便起名字</span></span><br><span class="line">        <span class="type">MyThread2</span> <span class="variable">myThread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread2</span>();</span><br><span class="line">        <span class="comment">//myThread2线程的名字就叫狗蛋，是在创建线程的时候就已经起好名字了</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(myThread2, <span class="string">&quot;狗蛋&quot;</span>);</span><br><span class="line">        thread1.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_threadfun;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread3</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//想看一下MyThread3这个线程的优先级是几</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        thread.setPriority(<span class="number">10</span>);</span><br><span class="line">        System.out.println(thread.getPriority());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread3线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread4</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//想看一下MyThread3这个线程的优先级是几</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        thread.setPriority(<span class="number">1</span>);</span><br><span class="line">        System.out.println(thread.getPriority());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread4线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//默认的优先级都是5，能不能手动去修改某一个线程的优先级？</span></span><br><span class="line">        <span class="comment">//可以</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="comment">//主线程的优先级设置1</span></span><br><span class="line">        <span class="comment">//thread.setPriority(1);</span></span><br><span class="line">        <span class="comment">//获取主线程的优先级</span></span><br><span class="line">        System.out.println(thread.getPriority());<span class="comment">//5</span></span><br><span class="line">        <span class="comment">//优先级  1 ~10  1的优先级最低  10的优先级最高</span></span><br><span class="line">        <span class="comment">//jvm默认线程的优先级是5</span></span><br><span class="line"><span class="comment">//        for (int i = 0; i &lt; 100; i++) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;主线程:&quot; + i);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread3</span>()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread4</span>()).start();</span><br><span class="line">        <span class="comment">//所以优先级不要用啦！！！并不一定真正的优先！！！</span></span><br><span class="line">        <span class="comment">//线程执行的结果不可控！！！很尴尬！！！</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_threadfun;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread5</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//发现 Thread.sleep 有一个运行时异常，</span></span><br><span class="line">            <span class="comment">//但是发现没有抛出，只有try-catch 为啥?</span></span><br><span class="line">            <span class="comment">//sleep方法写在了run方法中了，因为</span></span><br><span class="line">            <span class="comment">//run方法是重写的， 父类的 public abstract void run();</span></span><br><span class="line">            <span class="comment">//父类有抛出吗？没有抛出，重写是比较严格的</span></span><br><span class="line">            <span class="comment">//父类没有抛出，子类也同样不能抛出</span></span><br><span class="line">            Thread.sleep(<span class="number">10000</span>);<span class="comment">//10秒</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">500</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread5：&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread6</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">500</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MyThread6：&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread5</span>()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread6</span>()).start();</span><br><span class="line">        <span class="comment">//发现运行的结果是不可控的，是随机的抢占式的</span></span><br><span class="line">        <span class="comment">//咱们接下来学习一个东西叫sleep  让某一个线程睡一会儿</span></span><br><span class="line">        <span class="comment">//这个线程在睡觉的期间不会去抢占cpu  不执行</span></span><br><span class="line">        <span class="comment">//现在我让MyTread5睡了一会儿。就意味着绝对MyThread6线程先执行</span></span><br><span class="line">        <span class="comment">//实现可控的效果</span></span><br><span class="line">        <span class="comment">//思考：sleep方法再开发的时候敢用不敢用？</span></span><br><span class="line">        <span class="comment">//不敢用。睡多久你知道吗？睡多久合适？不能确定</span></span><br><span class="line">        <span class="comment">//cpu最大利用化。不可能让cpu闲置</span></span><br><span class="line">        <span class="comment">//如果sleep睡眠时间少的话，还是抢占</span></span><br><span class="line">        <span class="comment">//如果sleep睡眠你时间太长的话，就会cpu就会闲置</span></span><br><span class="line">        <span class="comment">//没有办法把控的！！！ 接下来要学习锁！！！</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>下午提问方法</p>
<p>上午的内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.新建线程的两种方式</span><br><span class="line">	1.继承Thread</span><br><span class="line">	2.实现Runnable接口【开发要用的】</span><br><span class="line">	代码要自己学会写的！！！</span><br><span class="line">2.线程的方法</span><br><span class="line">	Thread.currentThread();获取当前线程对象</span><br><span class="line">	setPriority();设置优先级的</span><br><span class="line">	getPriority(); 获取当前线程的优先级</span><br><span class="line">	getName()；得到线程的名字</span><br><span class="line">	setName();设置线程的名字</span><br><span class="line">	sleep();线程的休眠</span><br><span class="line">	</span><br></pre></td></tr></table></figure>



<h3 id="7-线程的同步和锁【重要】"><a href="#7-线程的同步和锁【重要】" class="headerlink" title="7.线程的同步和锁【重要】"></a>7.线程的同步和锁【重要】</h3><blockquote>
<p>为什么要进行线程的同步？</p>
<p>Java是允许多线程（多个线程），当多个线程操作同一个资源（咋操作）的时候，会导致得到或者打印的数据不准确。从而发生冲突。咋解决？加同步锁。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308031702126.png" alt="1"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">美团</span><br><span class="line">淘票票</span><br><span class="line">这个两个线程，都去麦同一场次的票</span><br><span class="line">结果美团卖出去一张1排1列的票</span><br><span class="line">结果淘票票也卖出去了1排1列的票  你感觉合适吗？</span><br><span class="line">就是上面的这种结果！！！不合适的，分享同一个资源的时候，要保证分享资源的数据，合法性！！！</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">分析结果:</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_sync;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最理想的状态！！！</span></span><br><span class="line"><span class="comment">//先线程1进入到ticket=50,循环 循环结束以后 此时</span></span><br><span class="line"><span class="comment">//tiket=49了</span></span><br><span class="line"><span class="comment">//循环第二次的时候 线程2抢到资源了 此时ticket=49</span></span><br><span class="line"><span class="comment">//循环 打印49 tiket-- ticket=48了</span></span><br><span class="line"><span class="comment">//循环第三次的时候 线程2 抢到资源了， 此时ticket=48</span></span><br><span class="line"><span class="comment">//打印卖第48张票。ticket--  tiket=47</span></span><br><span class="line"><span class="comment">//线程1又抢到循环</span></span><br><span class="line"><span class="comment">//现在的情况是：有可能两个线程同时进入到while循环</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySync</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;<span class="comment">//死循环</span></span><br><span class="line">            <span class="comment">//两个线程都进入到了循环了</span></span><br><span class="line">            <span class="comment">//此时两个线程所持有的ticket 都是50</span></span><br><span class="line">            <span class="comment">//但是两个线程都要往下执行</span></span><br><span class="line">            <span class="comment">//有可能线程1 先执行了sout(50)  线程2在等待哦！！！</span></span><br><span class="line">            <span class="comment">//线程1执行了--操作并出了循环 线程1ticket = 49</span></span><br><span class="line">            <span class="comment">//线程1又抢到循环了 sout(49) tiket--</span></span><br><span class="line">            <span class="comment">//再进入倒这个循环，有可能线程2抢到这个执行权</span></span><br><span class="line">            <span class="comment">//线程2要往下执行输出语句  ticket=50 打印50</span></span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//线程具有抢占式的运行</span></span><br><span class="line">                <span class="comment">//咱们有没有可能，线程3进入到if语句</span></span><br><span class="line">                <span class="comment">//此时线程1也进入到if语句了</span></span><br><span class="line">                <span class="comment">//线程3去打印 卖出了50张票</span></span><br><span class="line">                <span class="comment">//在线程1里面  ticket=50</span></span><br><span class="line">                <span class="comment">//线程3又抢到ticket-- 又进入到循环了  ticket = 49</span></span><br><span class="line">                <span class="comment">//线程3又抢到了ticket-- 又进入倒循环 ticket=48</span></span><br><span class="line">                <span class="comment">//线程1又抢到资源要执行，执行输出语句  tiekct=50</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;卖出了第&quot;</span> + ticket + <span class="string">&quot;票&quot;</span>);</span><br><span class="line">                ticket--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;买完了&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;<span class="comment">//终止循环！！！</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MySync</span> <span class="variable">mySync</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MySync</span>();</span><br><span class="line">        <span class="comment">//这三个线程</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程1&quot;</span>);</span><br><span class="line">        thread1.start();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程2&quot;</span>);</span><br><span class="line">        thread2.start();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程3&quot;</span>);</span><br><span class="line">        thread3.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>解决方案：</p>
<p>​		1.同步方法:使用一个关键字synchronized修饰方法。因为Java对象都有一个内置的锁对象。当使用这个关键字的时候，修饰方法的时候，这个方法就会被锁保护起来被锁锁住</p>
<p>当一个线程进来以后，会立马锁住当前的方法。意味着只有一个线程进来，其他线程都在外面等着。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span>  <span class="keyword">void</span> <span class="title function_">run</span> <span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_sync;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最理想的状态！！！</span></span><br><span class="line"><span class="comment">//先线程1进入到ticket=50,循环 循环结束以后 此时</span></span><br><span class="line"><span class="comment">//tiket=49了</span></span><br><span class="line"><span class="comment">//循环第二次的时候 线程2抢到资源了 此时ticket=49</span></span><br><span class="line"><span class="comment">//循环 打印49 tiket-- ticket=48了</span></span><br><span class="line"><span class="comment">//循环第三次的时候 线程2 抢到资源了， 此时ticket=48</span></span><br><span class="line"><span class="comment">//打印卖第48张票。ticket--  tiket=47</span></span><br><span class="line"><span class="comment">//线程1又抢到循环</span></span><br><span class="line"><span class="comment">//现在的情况是：有可能两个线程同时进入到while循环</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySync1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">    <span class="comment">//对这个run方法加了锁 就意味着只有一个线程进入到run方法中</span></span><br><span class="line">    <span class="comment">//其他线程都在run方法外面等待</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;<span class="comment">//死循环</span></span><br><span class="line">            <span class="comment">//两个线程都进入到了循环了</span></span><br><span class="line">            <span class="comment">//此时两个线程所持有的ticket 都是50</span></span><br><span class="line">            <span class="comment">//但是两个线程都要往下执行</span></span><br><span class="line">            <span class="comment">//有可能线程1 先执行了sout(50)  线程2在等待哦！！！</span></span><br><span class="line">            <span class="comment">//线程1执行了--操作并出了循环 线程1ticket = 49</span></span><br><span class="line">            <span class="comment">//线程1又抢到循环了 sout(49) tiket--</span></span><br><span class="line">            <span class="comment">//再进入倒这个循环，有可能线程2抢到这个执行权</span></span><br><span class="line">            <span class="comment">//线程2要往下执行输出语句  ticket=50 打印50</span></span><br><span class="line">            <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//线程具有抢占式的运行</span></span><br><span class="line">                <span class="comment">//咱们有没有可能，线程3进入到if语句</span></span><br><span class="line">                <span class="comment">//此时线程1也进入到if语句了</span></span><br><span class="line">                <span class="comment">//线程3去打印 卖出了50张票</span></span><br><span class="line">                <span class="comment">//在线程1里面  ticket=50</span></span><br><span class="line">                <span class="comment">//线程3又抢到ticket-- 又进入到循环了  ticket = 49</span></span><br><span class="line">                <span class="comment">//线程3又抢到了ticket-- 又进入倒循环 ticket=48</span></span><br><span class="line">                <span class="comment">//线程1又抢到资源要执行，执行输出语句  tiekct=50</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;卖出了第&quot;</span> + ticket + <span class="string">&quot;票&quot;</span>);</span><br><span class="line">                ticket--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;买完了&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;<span class="comment">//终止循环！！！</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MySync1</span> <span class="variable">mySync</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MySync1</span>();</span><br><span class="line">        <span class="comment">//这三个线程</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程1&quot;</span>);</span><br><span class="line">        thread1.start();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程2&quot;</span>);</span><br><span class="line">        thread2.start();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程3&quot;</span>);</span><br><span class="line">        thread3.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为啥都是线程1卖出去的票？</span></span><br><span class="line">        <span class="comment">//很巧  线程1抢到执行权了，进入到run方法中</span></span><br><span class="line">        <span class="comment">//线程2和线程3在外面等着。</span></span><br><span class="line">        <span class="comment">//一个循环进来以后，把循环全部执行完！！！</span></span><br><span class="line">        <span class="comment">//会出现一家独大的情况！！！也是不符合咱们生活场景的！！！</span></span><br><span class="line">        <span class="comment">//咋解决？咱们 不能方法中加锁，在其他地方加锁</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>换另外一种解决方法:</p>
<p>​		同步代码块:就是拥有了synchronized  关键字修饰一个语句块。被修饰的语句块会被加锁。从而实现同步。</p>
<p>语法格式:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>  (<span class="built_in">this</span>) &#123;</span><br><span class="line">	被加锁的代码块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_sync;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最理想的状态！！！</span></span><br><span class="line"><span class="comment">//先线程1进入到ticket=50,循环 循环结束以后 此时</span></span><br><span class="line"><span class="comment">//tiket=49了</span></span><br><span class="line"><span class="comment">//循环第二次的时候 线程2抢到资源了 此时ticket=49</span></span><br><span class="line"><span class="comment">//循环 打印49 tiket-- ticket=48了</span></span><br><span class="line"><span class="comment">//循环第三次的时候 线程2 抢到资源了， 此时ticket=48</span></span><br><span class="line"><span class="comment">//打印卖第48张票。ticket--  tiket=47</span></span><br><span class="line"><span class="comment">//线程1又抢到循环</span></span><br><span class="line"><span class="comment">//现在的情况是：有可能两个线程同时进入到while循环</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySync2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">500</span>;</span><br><span class="line">    <span class="comment">//对这个run方法加了锁 就意味着只有一个线程进入到run方法中</span></span><br><span class="line">    <span class="comment">//其他线程都在run方法外面等待</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//能不能对循环加锁？不能 因为循环加锁以后，还是一个线程循环完，没有任何意义</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;<span class="comment">//死循环</span></span><br><span class="line">            <span class="comment">//if语句加了锁以后</span></span><br><span class="line">            <span class="comment">//就意味着只有一个线程进入到if语句</span></span><br><span class="line">            <span class="comment">//假如线程1进入if语句了，线程2和线程3就会等待</span></span><br><span class="line">            <span class="comment">//线程1打印50 并--  ticket变量为49</span></span><br><span class="line">            <span class="comment">//线程2抢到了49 sout(49) tiket--  48</span></span><br><span class="line">            <span class="comment">//其他线程再抢！！！</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//核心业务 加了锁，只让一个线程进入，操作完以后。锁释放掉</span></span><br><span class="line">            <span class="comment">//然后这三个线程再抢。还只能进一个，再操作核心业务</span></span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;<span class="comment">//只能让一个线程进入操作，其他线程在外面等待排队</span></span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="comment">//线程具有抢占式的运行</span></span><br><span class="line">                    <span class="comment">//咱们有没有可能，线程3进入到if语句</span></span><br><span class="line">                    <span class="comment">//此时线程1也进入到if语句了</span></span><br><span class="line">                    <span class="comment">//线程3去打印 卖出了50张票</span></span><br><span class="line">                    <span class="comment">//在线程1里面  ticket=50</span></span><br><span class="line">                    <span class="comment">//线程3又抢到ticket-- 又进入到循环了  ticket = 49</span></span><br><span class="line">                    <span class="comment">//线程3又抢到了ticket-- 又进入倒循环 ticket=48</span></span><br><span class="line">                    <span class="comment">//线程1又抢到资源要执行，执行输出语句  tiekct=50</span></span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;卖出了第&quot;</span> + ticket + <span class="string">&quot;票&quot;</span>);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;买完了&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;<span class="comment">//终止循环！！！</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MySync2</span> <span class="variable">mySync</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MySync2</span>();</span><br><span class="line">        <span class="comment">//这三个线程</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程1&quot;</span>);</span><br><span class="line">        thread1.start();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程2&quot;</span>);</span><br><span class="line">        thread2.start();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(mySync, <span class="string">&quot;线程3&quot;</span>);</span><br><span class="line">        thread3.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//为啥都是线程1卖出去的票？</span></span><br><span class="line">        <span class="comment">//很巧  线程1抢到执行权了，进入到run方法中</span></span><br><span class="line">        <span class="comment">//线程2和线程3在外面等着。</span></span><br><span class="line">        <span class="comment">//一个循环进来以后，把循环全部执行完！！！</span></span><br><span class="line">        <span class="comment">//会出现一家独大的情况！！！也是不符合咱们生活场景的！！！</span></span><br><span class="line">        <span class="comment">//咋解决？咱们 不能方法中加锁，在其他地方加锁</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>针对于同步代码块举个例子：</p>
<p>​		上厕所的时候，有坑位，这个坑位就是资源。</p>
<p>​		三个人去抢这个资源，如果不加锁的话，会出现问题的?是的。加上锁以后就会保证数据准确性。</p>
</blockquote>
<p>案例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">加锁的目的为了保证数据的准确性。</span><br><span class="line">卖电影票：</span><br><span class="line">	三个线程:</span><br><span class="line">		淘票票</span><br><span class="line">		美团</span><br><span class="line">		猫眼</span><br><span class="line">		100张票</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_sync;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SaleTicket</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//声明一个变量票</span></span><br><span class="line">    <span class="comment">//静态的变量和对象没有关系了</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//美团</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">//美团  猫眼  淘票票</span></span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="comment">//淘票票  和猫眼同时进入到if语句，但是都没有执行ticket--这个操作</span></span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;卖出了第&quot;</span> + ticket + <span class="string">&quot;票&quot;</span>);</span><br><span class="line">                    <span class="comment">//所以会打印 淘票票 100   猫眼100</span></span><br><span class="line"></span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;卖完了&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SaleTicket</span> <span class="variable">saleTicket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SaleTicket</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(saleTicket, <span class="string">&quot;淘票票&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(saleTicket, <span class="string">&quot;美团&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(saleTicket, <span class="string">&quot;猫眼&quot;</span>).start();</span><br><span class="line">        <span class="comment">//淘票票卖出了第100票</span></span><br><span class="line">        <span class="comment">//猫眼卖出了第100票</span></span><br><span class="line">        <span class="comment">//淘票票卖出了第99票</span></span><br><span class="line">        <span class="comment">//淘票票卖出了第97票</span></span><br><span class="line">        <span class="comment">//淘票票卖出了第96票</span></span><br><span class="line">        <span class="comment">//淘票票卖出了第100票</span></span><br><span class="line">        <span class="comment">//淘票票卖出了第99票</span></span><br><span class="line">        <span class="comment">//猫眼卖出了第98票</span></span><br><span class="line">        <span class="comment">//猫眼卖出了第97票</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>线程就是这样，不可控制，但是可以加锁。让他可控制。</p>
<h2 id="day23"><a href="#day23" class="headerlink" title="day23"></a>day23</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.创建线程地两种方式</span><br><span class="line">	1.</span><br><span class="line">		继承Thread类</span><br><span class="line">		在main主函数中  实例化Thread的子类，然后调用方法start方法启动线程</span><br><span class="line">	2.</span><br><span class="line">		实现Runnable接口</span><br><span class="line">		实例化Thread类，实现Runnable接口对象的作为Thread的参数，然后调用start方法</span><br><span class="line">2.线程下面地方法</span><br><span class="line">	Thread.currentThread 获取当前线程对象的</span><br><span class="line">	setName  设置线程名字</span><br><span class="line">	getName  获取线程的名字</span><br><span class="line">	Thread.sleep  让线程进行休眠的 </span><br><span class="line">	</span><br><span class="line">3.File类下面地方法</span><br><span class="line">4.String类下面地方法</span><br></pre></td></tr></table></figure>



<h3 id="今天的内容-3"><a href="#今天的内容-3" class="headerlink" title="今天的内容"></a>今天的内容</h3><blockquote>
<p>1.守护线程</p>
<p>2.死锁</p>
<p>3.线程的生命周期</p>
<p>4.关于Object类下面的方法和线程有关</p>
<p>5.生产者消费者模式【难点】</p>
</blockquote>
<h3 id="1-守护线程"><a href="#1-守护线程" class="headerlink" title="1.守护线程"></a>1.守护线程</h3><blockquote>
<p>守护线程是用来守护非守护线程的。</p>
<p>非守护线程：就是平常写的线程</p>
<p>一个应用程序中必须至少一个非守护线程</p>
<p>非守护线程一旦结束，守护线程就会自动消亡</p>
<p>古代皇帝（非守护线程），古代皇帝的妃子（守护线程）</p>
<p>一旦皇帝死了，妃子要陪葬！！！</p>
<p>守护线程依附非守护线程，如果非守护线程消亡，那么守护线程随之消亡。</p>
<p>main 主函数是非守护线程</p>
<p>真实开发的时候：</p>
<p>​	后台记录操作日志，监控内存，垃圾回收等 都可以使用守护线程</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_daemon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;子线程正在执行&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;<span class="comment">//在非守护线程中执行的</span></span><br><span class="line">        <span class="comment">//启动线程</span></span><br><span class="line">        <span class="type">MyThread1</span> <span class="variable">myThread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread1</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(myThread1);</span><br><span class="line">        <span class="comment">//可以将myThread1设置为守护线程。</span></span><br><span class="line">        <span class="comment">//就会在非守护线程结束De一瞬间，守护线程也会停止执行</span></span><br><span class="line">        thread.setDaemon(<span class="literal">true</span>);<span class="comment">//变成了守护线程了</span></span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">200</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;主线程正在执行&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//在jvm中  main主线程， 还有一个线程 垃圾回收线程</span></span><br><span class="line">        <span class="comment">//等到main主线程和垃圾回收线程 都结束De时候才守护线程才消亡！！！</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-死锁"><a href="#2-死锁" class="headerlink" title="2.死锁"></a>2.死锁</h3><blockquote>
<p><em>死锁</em>是指两个或两个以上的线程在执行过程中，由于竞争资源或者由于彼此通信而造成的一种阻塞的现象，若无外力作用，它们都将无法推进下去。此时称系统处于<em>死锁</em>状态或系统产生了<em>死锁</em>，这些永远在互相等待的进程称为<em>死锁</em>线程。</p>
<p>你的钥匙丢完了。进不了门？咋办？找开锁公司。</p>
<p>开锁公司说你得给我提供你的身份证原件。我才能给你开锁。</p>
<p>你说你得先开门，我的身份证原件在屋里锁着呢。</p>
<p>结果你们两个僵持不下，导致开门这个事推进不了</p>
<p>开发中禁止使用死锁。</p>
<p>面试会问：</p>
<p>应用场景：并发场景，多线程。线程之间互不相让。得借助锁。</p>
<p>加锁的目的是为了线程安全，但是物极必反。尤其是加了锁以后。</p>
<p>死锁是一种状态，当两个线程互相持有对方的资源的时候，却又不主动释放这个资源的时候。会导致死锁。这两个线程就会僵持住。代码就无法继续执行。</p>
<p>线程1  有锁1</p>
<p>线程2  锁2</p>
<p>线程1会等待锁2 的释放</p>
<p>线程2会等待锁1的释放</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308031730698.png" alt="1"></p>
<p>面试题：</p>
<p>​	手写一个死锁！！！</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_deadThread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DeadLock</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> flag;<span class="comment">//标记属性</span></span><br><span class="line">    <span class="keyword">private</span> Object obj1;<span class="comment">//锁住的对象</span></span><br><span class="line">    <span class="keyword">private</span> Object obj2;<span class="comment">//锁住的对象</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeadLock</span><span class="params">(<span class="type">boolean</span> flag, Object obj1, Object obj2)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.flag = flag;</span><br><span class="line">        <span class="built_in">this</span>.obj1 = obj1;</span><br><span class="line">        <span class="built_in">this</span>.obj2 = obj2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//true</span></span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;<span class="comment">//如果设置为true,就让线程1进入到if语句中</span></span><br><span class="line">            <span class="keyword">synchronized</span> (obj1) &#123;<span class="comment">//锁住的是obj1对象</span></span><br><span class="line">                <span class="comment">//线程1持有obj1锁</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;拿到了锁1&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;等待锁2的释......&quot;</span>);</span><br><span class="line">                <span class="comment">//我想在线程1中去使用线程2中的那个锁2 obj2</span></span><br><span class="line">                <span class="comment">//线程1里面想用obj2锁对象</span></span><br><span class="line">                <span class="comment">//也走不下去了</span></span><br><span class="line">                <span class="comment">//线程1也没有释放obj1</span></span><br><span class="line">                <span class="keyword">synchronized</span> (obj2) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;拿到了锁1&quot;</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag) &#123;<span class="comment">//如果设置为false，就让线程2进入到if语句中</span></span><br><span class="line">            <span class="keyword">synchronized</span> (obj2) &#123;<span class="comment">//锁住的是obj2对象</span></span><br><span class="line">                <span class="comment">//线程2持有obj2这个锁</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;拿到了锁2&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;等待锁1的释......&quot;</span>);</span><br><span class="line">                <span class="comment">//只有obj1释放掉以后，才能在线程2中对obj1加锁</span></span><br><span class="line">                <span class="comment">//想一个问题，如果obj1锁对象没有被释放，那么下面这个代码</span></span><br><span class="line">                <span class="comment">//线程2中去锁obj1</span></span><br><span class="line">                <span class="comment">//在这等着呢 往下走不下去了 线程2没有释放obj2对象</span></span><br><span class="line">                <span class="keyword">synchronized</span> (obj1) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;拿到了锁1&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">        <span class="comment">//线程1可以进入到run方法中 if (flag)</span></span><br><span class="line">        <span class="type">DeadLock</span> <span class="variable">deadLock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DeadLock</span>(<span class="literal">true</span>, obj1, obj2);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(deadLock, <span class="string">&quot;线程1&quot;</span>).start();</span><br><span class="line">        <span class="comment">//线程2 可以进入倒run方法中if(!flag)</span></span><br><span class="line">        <span class="type">DeadLock</span> <span class="variable">deadLock1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DeadLock</span>(<span class="literal">false</span>, obj1, obj2);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(deadLock1, <span class="string">&quot;线程2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-线程生命周期【面试】"><a href="#3-线程生命周期【面试】" class="headerlink" title="3.线程生命周期【面试】"></a>3.线程生命周期【面试】</h3><blockquote>
<p>1）新建：当一个Thread类或其子类的对象被声明并创建时。新生的线程对象属于新建状态。</p>
<p>（2）就绪（可运行状态）：处于新建状态的线程执行start()方法后，进入线程队列等待CPU时间片，该状态具备了运行的状态，只是没有分配到CPU资源。</p>
<p>（3）运行：当就绪的线程分配到CPU资源便进入运行状态，run()方法定义了线程的操作。</p>
<p>（4）阻塞：在某种特殊情况下，被人为挂起或执行输入输出操作时，让出CPU并临时终止自己的的执行，进入阻塞状态。</p>
<p>（5）死亡：当线程执行完自己的操作或提前被强制性的终止或出现异常导致结束，会进入死亡状态。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308031730701.png" alt="2"></p>
<h3 id="4-和线程相关的Object类下面的方法"><a href="#4-和线程相关的Object类下面的方法" class="headerlink" title="4.和线程相关的Object类下面的方法"></a>4.和线程相关的Object类下面的方法</h3><blockquote>
<p>Object类下面的方法:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public final void wait()</span><br><span class="line">          throws InterruptedException</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><code>void</code></th>
<th><code>notify()</code>唤醒正在等待对象监视器的单个线程。</th>
</tr>
</thead>
<tbody><tr>
<td><code>void</code></td>
<td><code>notifyAll()</code>唤醒正在等待对象监视器的所有线程。</td>
</tr>
</tbody></table>
<p>、导致当前线程等待，直到另一个线程调用该对象的<a target="_blank" rel="noopener" href="https://www.matools.com/file/manual/jdk_api_1.8_google/java/lang/Object.html#notify--"><code>notify()</code></a>方法或<a target="_blank" rel="noopener" href="https://www.matools.com/file/manual/jdk_api_1.8_google/java/lang/Object.html#notifyAll--"><code>notifyAll()</code></a>方法。 换句话说，这个方法的行为就好像简单地执行呼叫<code>wait(0)</code> 。</p>
<p>总结：至少两个线程，其中一个线程中使用对象.wait()  那么这个线程就会阻塞，代码不会往下执行了。如何想让这个线程往下执行呢？再开另外一个线程，使用对象.notify()去唤醒另外那个等待线程。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308031730705.png" alt="3"></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_wait;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建这个类的目的，就是实例化出来对象，然后拿这个对象</span></span><br><span class="line"><span class="comment">//调用wait方法和notify方法</span></span><br><span class="line"><span class="comment">//wait方法和notify方法是object对象的方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Message</span><span class="params">(String message)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Message&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;message=&#x27;&quot;</span> + message + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//导致当前线程等待，直到另一个线程调用该对象的[`notify()`</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WaiterThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//想一个问题？WaiterThread  使用message对象调用</span></span><br><span class="line">    <span class="comment">//wait() 咋解决？</span></span><br><span class="line">    <span class="keyword">private</span> Message msg;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WaiterThread</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//先获取当前线程名字</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        System.out.println(name + <span class="string">&quot;等待唤醒时间:&quot;</span> +System.currentTimeMillis());</span><br><span class="line">        <span class="comment">//让等待线程去阻塞，去等待  这个线程执行不下去了</span></span><br><span class="line">        <span class="comment">//锁的是msg对象</span></span><br><span class="line">        <span class="keyword">synchronized</span> (msg) &#123;<span class="comment">//为啥是哟个wait的时候要加锁？等会将</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                msg.wait();<span class="comment">//代码走到这，当前这个线程阻塞，不往下走了</span></span><br><span class="line">                <span class="comment">//咱们得想办法让这个等待线程继续执行下去，咋办？</span></span><br><span class="line">                <span class="comment">//在另外一个线程中去调用notify方法那么等待线程就会执行下去</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">            System.out.println(name + <span class="string">&quot;被唤醒的时间:&quot;</span> + System.currentTimeMillis());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//唤醒线程</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NotifyThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//也要用同一个对象是WaiterThread线程中同一个对象调用notify()方法</span></span><br><span class="line">    <span class="keyword">private</span> Message msg;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NotifyThread</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//我的想法是不能先让唤醒线程执行</span></span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        System.out.println(name + <span class="string">&quot;开始唤醒等待线程&quot;</span>);</span><br><span class="line">        <span class="keyword">synchronized</span> (msg) &#123;</span><br><span class="line">            msg.setMessage(<span class="string">&quot;我是修改之后的message值&quot;</span>);</span><br><span class="line">            <span class="comment">//msg.notify();</span></span><br><span class="line">            msg.notifyAll();<span class="comment">//唤醒所有线程</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Message</span>(<span class="string">&quot;我是message属性&quot;</span>);</span><br><span class="line">        <span class="type">WaiterThread</span> <span class="variable">waiterThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WaiterThread</span>(message);</span><br><span class="line">        <span class="type">NotifyThread</span> <span class="variable">notifyThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NotifyThread</span>(message);</span><br><span class="line">        <span class="comment">//如果等待线程好几个 咋办呢？</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(waiterThread, <span class="string">&quot;等待线程1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(waiterThread, <span class="string">&quot;等待线程2&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(waiterThread, <span class="string">&quot;等待线程3&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(notifyThread, <span class="string">&quot;唤醒线程&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//等待线程等待唤醒时间:1660187660718   等待线程</span></span><br><span class="line">        <span class="comment">//唤醒线程开始唤醒等待线程        唤醒线程</span></span><br><span class="line">        <span class="comment">//123  等待线程</span></span><br><span class="line">        <span class="comment">//等待线程被唤醒的时间:1660187661740  等待线程</span></span><br><span class="line">        <span class="comment">//这叫线程之间的通信问题！！！</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">新建两个线程：</span><br><span class="line">	一个是等待线程</span><br><span class="line">		线程里面的代码从上往下执行的，但是使用object.wait(),就这个方法一用，你的线程就</span><br><span class="line">		阻塞了，就处于等待状态。意味着当前的代码到了wait方法以后的代码暂时不执行了</span><br><span class="line">	另外一个是唤醒线程。</span><br><span class="line">		唤醒线程中使用object.notify()方法，这个方法是专门唤醒刚才那个等待线程。让等待线程继续执行</span><br></pre></td></tr></table></figure>

<p>思考：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在使用wait和notify的时候都加了锁 为啥？</span><br><span class="line">因为我要知道对那个对象进行唤醒的！！！</span><br><span class="line">再举个生活中的例子：</span><br><span class="line">	大学的时候在楼底下等过自己的女朋友。</span><br><span class="line">	你就是等待线程</span><br><span class="line">	你女朋友就是唤醒线程</span><br><span class="line">	你在楼底下等的时候  就是在wait。</span><br><span class="line">	你女朋友下楼之后，唤醒你  咱们走吧。</span><br><span class="line">	但是你女朋友 去唤醒别人的男朋友？这就扯犊子了，所有加锁de保证是同一个对象的</span><br><span class="line">	</span><br><span class="line">wait需要持有锁的原因是,你肯定需要知道在哪个对象上进行等待,如果不持有锁,将无法做到对象变更时进行实时感知通知的作用。与此同时,为了让其他线程可以操作该值的变化,它必须要先释放掉锁,然后在该节点上进行等待。不持有锁而进行wait,可能会导致长眠不起。而且,如果不持有锁,则当wait之后的操作,都可能是错的,因为可能这个数据已经过时,其实也叫线程不安全了。总之,一切为了安全,单独的wait做不成这事。</span><br></pre></td></tr></table></figure>

<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Thread类join方法</span><br><span class="line">join()方法，因为join()方法底层是就是通过wait()方法实现的。</span><br><span class="line">让&quot;主线程&quot;等待（WAITING状态），一直等到其他线程不再活动为止,然后&quot;主线程&quot;再执行</span><br><span class="line">join在英语中是“加入”的意思，join()方法要做的事就是，当有新的线程加入时，主线程会进入等待状态，一直到调用join()方法的线程执行结束为止。</span><br><span class="line">面试题:</span><br><span class="line">	如何先让所有的子线程执行，最后再执行主线程，咋解决?</span><br><span class="line">		join!!!</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_wait;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//join方法的作用是阻塞，即等待线程结束，才继续执行。</span></span><br><span class="line">        <span class="comment">//如果使用了Thread.currentThread().join()之后</span></span><br><span class="line">        <span class="comment">//一直阻塞，无法终止</span></span><br><span class="line"><span class="comment">//        Thread thread = Thread.currentThread();</span></span><br><span class="line"><span class="comment">//        try &#123;</span></span><br><span class="line"><span class="comment">//            thread.join();</span></span><br><span class="line"><span class="comment">//        &#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//            e.printStackTrace();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;:&quot;</span>+ i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//main是主线程！！！</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread1</span>(), <span class="string">&quot;MyThread1&quot;</span>);</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread1.join();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread2</span>(), <span class="string">&quot;MyThread2&quot;</span>);</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        thread2.join();</span><br><span class="line">        <span class="comment">//让&quot;主线程&quot;等待（WAITING状态），一直等到其他线程不再活动为止,然后&quot;主线程&quot;再执行</span></span><br><span class="line">        <span class="comment">//所以这次打印的结果都是主线程在最下面！！！</span></span><br><span class="line">        <span class="comment">//加join的目的是可以让主线程和子线程可控</span></span><br><span class="line">        <span class="comment">//如果不加join的话，主线程和子线程随机交叉打印！！！</span></span><br><span class="line">        <span class="comment">//2204班有个面试题:</span></span><br><span class="line">        <span class="comment">//   先让所有的子线程执行，最后再执行主线程，咋出来?join!!!</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;主线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_wait;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//son是一个线程  Father是一个线程</span></span><br><span class="line">        <span class="comment">//但是Father 线程的run方法里面调用了Son线程</span></span><br><span class="line">        <span class="comment">//在main主函数中，只需要启动Father线程，在Father线程</span></span><br><span class="line">        <span class="comment">//又执行了Son线程，所以可堪看成Father 是Son的父线程（主线程）</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(son);</span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//加了join之后，thread 是son线程，son线程对应的主线程（Father）</span></span><br><span class="line">            <span class="comment">//会等待，等待子线程执行完以后才执行的</span></span><br><span class="line">            thread.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Father线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;son线程:&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Father</span> <span class="variable">father</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Father</span>();</span><br><span class="line">       <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">Thread</span>(father);</span><br><span class="line">       thread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="5-生产者消费者模式【重点难点】"><a href="#5-生产者消费者模式【重点难点】" class="headerlink" title="5.生产者消费者模式【重点难点】"></a>5.生产者消费者模式【重点难点】</h3><blockquote>
<p>生活中例子：</p>
<p>​		卖家:BYD汽车厂商</p>
<p>​		买家: 咱们75名学生</p>
<p>​		学虎想买一辆 比亚迪汉   ， 告知汽车厂商我要买车。这个学虎会进入到等待状态</p>
<p>​		等到比亚迪厂家造完车以后，再通知学虎来提车。如果比亚迪厂家有现车，学虎就直接提车。</p>
<p>​		如果产品需要生产的话，消费者进入到阻塞状态 wait</p>
<p>​		如果产品不需要生产的话，消费者直接购买</p>
</blockquote>
<p>这些会牵涉到咱们刚讲过的wait和notify方法！！！</p>
<p>只不过业务逻辑又复杂了啊</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_procus;</span><br><span class="line"></span><br><span class="line"><span class="comment">//为啥要新建这类Goods？</span></span><br><span class="line"><span class="comment">//还记得上午讲的Message类</span></span><br><span class="line"><span class="comment">//因为两个线程要通信。这个Goods就是通信的桥梁！！！</span></span><br><span class="line"><span class="comment">//goods.wait()  消费者等待</span></span><br><span class="line"><span class="comment">//goods.notoify()  生产者唤醒消费者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Goods</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;<span class="comment">//商品名字</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;<span class="comment">//商品价格</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> isProduct;<span class="comment">//</span></span><br><span class="line">    <span class="comment">//isProduct是否有这个商品， true  没有这个产品需要生产</span></span><br><span class="line">    <span class="comment">//false  有这个产品，不需要生产</span></span><br><span class="line">    <span class="comment">//有参构造</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Goods</span><span class="params">(String name, <span class="type">double</span> price, <span class="type">boolean</span> isProduct)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.isProduct = isProduct;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> isProduct;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setProduct</span><span class="params">(<span class="type">boolean</span> product)</span> &#123;</span><br><span class="line">        isProduct = product;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Goods&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, price=&quot;</span> + price +</span><br><span class="line">                <span class="string">&quot;, isProduct=&quot;</span> + isProduct +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接下来搞两个线程？一个消费者线程  一个是生产者线程</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//为啥要定义这个goods变量? 因为两个线程要共享同一个资源！！！</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Goods goods;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(Goods goods)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.goods = goods;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//写业务逻辑，业务比较麻烦</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;<span class="comment">//一直消费</span></span><br><span class="line">            <span class="keyword">synchronized</span> (goods) &#123;</span><br><span class="line">                <span class="comment">//goods.isProduct  true 需要生产，没有商品  false 不需要生产</span></span><br><span class="line">                <span class="keyword">if</span> (!goods.isProduct()) &#123;</span><br><span class="line">                    <span class="comment">//不需要生产的，消费者直接购买</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;消费者购买了:&quot;</span> + goods.getName() + <span class="string">&quot;,价格为:&quot;</span> + goods.getPrice());</span><br><span class="line">                    <span class="comment">//购买完以后 商品没有了 将isProduct这个变量修改为true</span></span><br><span class="line">                    goods.setProduct(<span class="literal">true</span>);</span><br><span class="line">                    <span class="comment">//大家有没有想过这个问题?消费者在购买的时候，生产者等待</span></span><br><span class="line">                    <span class="comment">//唤醒生产者去生产车了</span></span><br><span class="line">                    goods.notify();<span class="comment">//可以先防一下，等会再看！！！</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//需要生产的！！！，没商品（咋办）</span></span><br><span class="line">                    <span class="comment">//消费者进入到阻塞状态！！！</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        goods.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producter</span> <span class="keyword">implements</span>  <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//为啥要定义这个goods变量?</span></span><br><span class="line">    <span class="keyword">private</span> Goods goods;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producter</span><span class="params">(Goods goods)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.goods = goods;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//生产者，业务逻辑比较麻烦</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;<span class="comment">//你一直消费，我一直生产</span></span><br><span class="line">            <span class="keyword">synchronized</span> (goods) &#123;</span><br><span class="line">                <span class="keyword">if</span> (goods.isProduct()) &#123;<span class="comment">//true  需要生产的！！</span></span><br><span class="line">                    <span class="comment">//造车，就是赋值 对goods对象进行赋值</span></span><br><span class="line">                    <span class="comment">//奇数造一种车， 偶数造另外一种车</span></span><br><span class="line">                    <span class="keyword">if</span> (count % <span class="number">2</span> == <span class="number">0</span>) &#123;<span class="comment">//偶数</span></span><br><span class="line">                        goods.setName(<span class="string">&quot;奥迪A8&quot;</span>);</span><br><span class="line">                        goods.setPrice(<span class="number">78.9</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;<span class="comment">//奇数</span></span><br><span class="line">                        goods.setName(<span class="string">&quot;五菱大光&quot;</span>);</span><br><span class="line">                        goods.setPrice(<span class="number">12.9</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//生产一辆车，一定要记得有车了</span></span><br><span class="line">                    <span class="comment">//标记就改为 false  就证明不需要再生产了</span></span><br><span class="line">                    goods.setProduct(<span class="literal">false</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;生产者生产了:&quot;</span> + goods.getName() + <span class="string">&quot;,价格为:&quot;</span> + goods.getPrice());</span><br><span class="line"></span><br><span class="line">                    count++;</span><br><span class="line">                    <span class="comment">//生产完以后，唤醒消费者。让消费者去提车</span></span><br><span class="line">                    goods.notify();</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//不需要生产</span></span><br><span class="line">                    <span class="comment">//不需要生产 有货，生产着歇着，阻塞</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        goods.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Goods</span> <span class="variable">goods</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;东风41&quot;</span>, <span class="number">67.8</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="type">Producter</span> <span class="variable">producter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producter</span>(goods);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(producter).start();</span><br><span class="line"></span><br><span class="line">        <span class="type">Customer</span> <span class="variable">customer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(goods);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(customer).start();</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 谁先抢到线程？消费者？还是生产者?</span></span><br><span class="line"><span class="comment">         * //如果是消费者抢到执行权，不用说！！！直接打印消费者购买了东风</span></span><br><span class="line"><span class="comment">         * //如果生产者抢到执行权，生产者wait,那就意味着必须去执行消费者线程</span></span><br><span class="line"><span class="comment">         * 消费者购买了:东风41,价格为:67.8</span></span><br><span class="line"><span class="comment">         * //此时isProduct是true 需要时生产</span></span><br><span class="line"><span class="comment">         * 还是消费者和生产者抢这个执行权</span></span><br><span class="line"><span class="comment">         * //假如生产者抢到了  就会打印生产者生产了啥。</span></span><br><span class="line"><span class="comment">         * //假如消费者抢到了执行权，消费者进入倒阻塞状态！！！</span></span><br><span class="line"><span class="comment">         * //消费者进入倒阻塞，那么肯定生产者得执行了</span></span><br><span class="line"><span class="comment">         * 生产者生产了:奥迪A8,价格为:78.9</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         * 还是两个线程抢这个执行权</span></span><br><span class="line"><span class="comment">         * 消费者购买了:奥迪A8,价格为:78.9</span></span><br><span class="line"><span class="comment">         * 生产者生产了:五菱大光,价格为:12.9</span></span><br><span class="line"><span class="comment">         * 消费者购买了:五菱大光,价格为:12.9</span></span><br><span class="line"><span class="comment">         * 生产者生产了:奥迪A8,价格为:78.9</span></span><br><span class="line"><span class="comment">         * 消费者购买了:奥迪A8,价格为:78.9</span></span><br><span class="line"><span class="comment">         * 生产者生产了:五菱大光,价格为:12.9</span></span><br><span class="line"><span class="comment">         * 消费者购买了:五菱大光,价格为:12.9</span></span><br><span class="line"><span class="comment">         * 生产者生产了:奥迪A8,价格为:78.9</span></span><br><span class="line"><span class="comment">         * 消费者购买了:奥迪A8,价格为:78.9</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个东西你是需要沉淀！！！，你一定要紧紧围绕者线程抢占式执行的，然后分析结果！！！</p>
<h3 id="6-线程池Pool"><a href="#6-线程池Pool" class="headerlink" title="6.线程池Pool"></a>6.线程池Pool</h3><p>线程池一个容纳了多个线程的容器，其中的线程可以反复的使用。省去了频繁创建线程的对象的操作，无需反复创建线程而消耗更多的资源</p>
<p>工作原理：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308031731390.png" alt="1"></p>
<blockquote>
<p>在 Java 语言中，并发编程都是通过创建线程池来实现的，而线程池的创建方式也有很多种，每种线程池的创建方式都对应了不同的使用场景，总体来说线程池的创建可以分为以下两类：</p>
<p>通过 ThreadPoolExecutor 手动创建线程池。</p>
<p>通过 Executors 执行器自动创建线程池。</p>
</blockquote>
<p>而以上两类创建线程池的方式，又有 7 种具体实现方法，这 7 种实现方法分别是：</p>
<p>1.Executors.newCachedThreadPool：创建一个可缓存的线程池，若线程数超过处理所需，缓存一段时间后会回收，若线程数不够，则新建线程。</p>
<p>2.Executors.newSingleThreadExecutor：创建单个线程数的线程池，它可以保证先进先出的执行顺序。</p>
<p>3.Executors.newScheduledThreadPool：创建一个可以执行延迟任务的线程池。</p>
<p>4.Executors.newSingleThreadScheduledExecutor：创建一个单线程的可以执行延迟任务的线程池。</p>
<p>5.Executors.newWorkStealingPool：创建一个抢占式执行的线程池（任务执行顺序不确定）【JDK 1.8 添加】。</p>
<p>6.ThreadPoolExecutor：手动创建线程池的方式，它创建时最多可以设置 7 个参数。</p>
<p>接下来我们分别来看这 7 种线程池的具体使用。</p>
<h4 id="1-1FixedThreadPool"><a href="#1-1FixedThreadPool" class="headerlink" title="1.1FixedThreadPool"></a>1.1FixedThreadPool</h4><p>中文翻译固定的线程池</p>
<p>创建一个固定大小的线程池，可控制并发线程数。使用 FixedThreadPool 创建 2 个固定大小的线程池，具体实现代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        fixedThreadPool();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fixedThreadPool</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 创建 2 个线程的线程池</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建任务</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">runnable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;任务被执行,线程:&quot;</span> + Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 线程池执行任务(一次添加 4 个任务)</span></span><br><span class="line">        <span class="comment">// 执行任务的方法有两种:submit 和 execute</span></span><br><span class="line">        threadPool.submit(runnable);  <span class="comment">// 执行方式 1:submit</span></span><br><span class="line">        threadPool.execute(runnable); <span class="comment">// 执行方式 2:execute</span></span><br><span class="line">        threadPool.execute(runnable);</span><br><span class="line">        threadPool.execute(runnable);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_threadpool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.创建线程池 创建了两个线程</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.任务</span></span><br><span class="line">       <span class="type">Runnable</span> <span class="variable">run1</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;晚上吃饭。线程为:&quot;</span> + Thread.currentThread().getName());</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">run2</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;晚上睡觉。线程为:&quot;</span> + Thread.currentThread().getName());</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">run3</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">//run方法中写的是需求！！</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;晚上敲代码不睡觉。线程为:&quot;</span> + Thread.currentThread().getName());</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//3.执行上上面的三个任务</span></span><br><span class="line">        threadPool.submit(run1);</span><br><span class="line">        threadPool.execute(run2);</span><br><span class="line">        threadPool.execute(run3);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="2-CachedThreadPool"><a href="#2-CachedThreadPool" class="headerlink" title="2.CachedThreadPool"></a>2.CachedThreadPool</h4><p>可以缓存的线程池</p>
<p>创建一个可缓存的线程池，若线程数超过任务所需，那么多余的线程会被缓存一段时间后才被回收，若线程数不够，则会新建线程。CachedThreadPool 使用示例如下：</p>
<p>线程数超过了任务数。有四个线程  但是任务有两个  只需要两个线程就可以了，其他两个线程回收</p>
<p>线程数低于任务数，新建线程！！！自动新建</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        cachedThreadPool();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">cachedThreadPool</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 创建线程池</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newCachedThreadPool();</span><br><span class="line">        <span class="comment">// 执行任务</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            threadPool.execute(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;任务被执行,线程:&quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>线程池创建了 10 个线程来执行相应的任务。</p>
<p>使用场景</p>
<p>CachedThreadPool 是根据短时间的任务量来决定创建的线程数量的，所以它适合短时间内有突发大量任务的处理场景。</p>
<h4 id="3-SingleThreadExecutor"><a href="#3-SingleThreadExecutor" class="headerlink" title="3.SingleThreadExecutor"></a>3.SingleThreadExecutor</h4><p>创建单个线程的线程池，它可以保证先进先出（队列）的执行顺序。SingleThreadExecutor 使用示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        singleThreadExecutor();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">singleThreadExecutor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 创建线程池</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newSingleThreadExecutor();</span><br><span class="line">        <span class="comment">// 执行任务</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> i;</span><br><span class="line">            threadPool.execute(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                    System.out.println(index + <span class="string">&quot;:任务被执行&quot;</span>);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>单个线程的线程池有什么意义？</p>
<p>单个线程的线程池相比于线程来说，它的优点有以下 2 个：</p>
<ul>
<li>可以复用线程：即使是单个线程池，也可以复用线程。</li>
<li>提供了任务管理功能：单个线程池也拥有任务队列，在任务队列可以存储多个任务，这是线程无法实现的，并且当任务队列满了之后，可以执行拒绝策略，这些都是线程不具备的。</li>
</ul>
<h4 id="4-ScheduledThreadPool"><a href="#4-ScheduledThreadPool" class="headerlink" title="4.ScheduledThreadPool"></a>4.ScheduledThreadPool</h4><p>创建一个可以执行延迟任务的线程池。使用示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ScheduledExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        scheduledThreadPool();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">scheduledThreadPool</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 创建线程池</span></span><br><span class="line">        <span class="type">ScheduledExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newScheduledThreadPool(<span class="number">5</span>);</span><br><span class="line">        <span class="comment">// 添加定时执行任务(1s 后执行)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;添加任务,时间:&quot;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        threadPool.schedule(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">                                <span class="meta">@Override</span></span><br><span class="line">                                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                                    System.out.println(<span class="string">&quot;任务被执行,时间:&quot;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">                                    <span class="keyword">try</span> &#123;</span><br><span class="line">                                        TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">                                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                , <span class="number">3</span>, TimeUnit.SECONDS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>上述结果可以看出，任务在 3 秒之后被执行了，实现了延迟 3s 再执行任务</p>
<h4 id="5-SingleThreadScheduledExecutor"><a href="#5-SingleThreadScheduledExecutor" class="headerlink" title="5.SingleThreadScheduledExecutor"></a>5.SingleThreadScheduledExecutor</h4><p>创建一个单线程的可以执行延迟任务的线程池，此线程池可以看作是 ScheduledThreadPool 的单线程池版本。它的使用示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ublic <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">SingleThreadScheduledExecutor</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 创建线程池</span></span><br><span class="line">    <span class="type">ScheduledExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newSingleThreadScheduledExecutor();</span><br><span class="line">    <span class="comment">// 添加定时执行任务(2s 后执行)</span></span><br><span class="line">    System.out.println(<span class="string">&quot;添加任务,时间:&quot;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    threadPool.schedule(() -&gt; &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;任务被执行,时间:&quot;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">2</span>, TimeUnit.SECONDS);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述结果可以看出，任务在 2 秒之后被执行了</p>
<h4 id="6-newWorkStealingPool"><a href="#6-newWorkStealingPool" class="headerlink" title="6.newWorkStealingPool"></a>6.newWorkStealingPool</h4><p>创建一个抢占式执行的线程池（任务执行顺序不确定），此方法是 JDK 1.8 版本新增的，因此只有在 JDK 1.8 以上的程序中才能使用。newWorkStealingPool 使用示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_object;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ScheduledExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        workStealingPool();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">workStealingPool</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 创建线程池</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newWorkStealingPool();</span><br><span class="line">        <span class="comment">// 执行任务</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> i;</span><br><span class="line">            threadPool.execute(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                    System.out.println(index + <span class="string">&quot; 被执行,线程名:&quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 确保任务执行完成</span></span><br><span class="line">        <span class="keyword">while</span> (!threadPool.isTerminated()) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>从上述结果可以看出，任务的执行顺序是不确定的，因为它是抢占式执行的。</p>
<p>以上都不用！！！</p>
<h4 id="7-ThreadPoolExecutor【以后开发要用的】"><a href="#7-ThreadPoolExecutor【以后开发要用的】" class="headerlink" title="7.ThreadPoolExecutor【以后开发要用的】"></a>7.ThreadPoolExecutor【以后开发要用的】</h4><p><strong>ThreadPoolExecutor 是最原始、也是最推荐的手动创建线程池的方式</strong>，它在创建时最多提供 7 个参数可供设置。这7个参数面试问！！！ 很哈皮！！！</p>
<p>ThreadPoolExecutor 使用示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_threadpool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ThreadPoolExecutor;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//这个是必须要会理解的！！！</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建线程池</span></span><br><span class="line">        <span class="comment">//public ThreadPoolExecutor(int corePoolSize,</span></span><br><span class="line">        <span class="comment">//                              int maximumPoolSize,</span></span><br><span class="line">        <span class="comment">//                              long keepAliveTime,</span></span><br><span class="line">        <span class="comment">//                              TimeUnit unit,</span></span><br><span class="line">        <span class="comment">//                              BlockingQueue&lt;Runnable&gt; workQueue,</span></span><br><span class="line">        <span class="comment">//                              ThreadFactory threadFactory,</span></span><br><span class="line">        <span class="comment">//                              RejectedExecutionHandler handler)</span></span><br><span class="line">        <span class="comment">//corePoolSize ：核心线程数  5个  一个公司最大容量10人 核心只有5个人 只有这5个人干活</span></span><br><span class="line">        <span class="comment">//maximumPoolSize：线程池最多可以运行线程数 设置为10  约 5个亿左右</span></span><br><span class="line">        <span class="comment">//keepAliveTime:存活时间，空闲下来的线程得回收。按照秒来计算。活动状态，比较活跃 不回收</span></span><br><span class="line">        <span class="comment">//如果你不干活超过100秒，我就会回收掉这个线程！！！</span></span><br><span class="line">        <span class="comment">//unit  是keepAliveTime 单位 可以是秒  小时 天  毫秒， 纳秒！！！</span></span><br><span class="line">        <span class="comment">//workQueue 阻塞队列</span></span><br><span class="line">        <span class="type">ThreadPoolExecutor</span> <span class="variable">threadPool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">5</span>, <span class="number">10</span>, <span class="number">100</span>, TimeUnit.SECONDS, <span class="keyword">new</span> <span class="title class_">LinkedBlockingDeque</span>&lt;&gt;(<span class="number">10</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//执行任务</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span>i;</span><br><span class="line">            threadPool.execute(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                    System.out.println(index +<span class="string">&quot;被执行线程名:&quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public ThreadPoolExecutor(int corePoolSize,</span><br><span class="line">                              int maximumPoolSize,</span><br><span class="line">                              long keepAliveTime,</span><br><span class="line">                              TimeUnit unit,</span><br><span class="line">                              BlockingQueue&lt;Runnable&gt; workQueue,</span><br><span class="line">                              ThreadFactory threadFactory,</span><br><span class="line">                              RejectedExecutionHandler handler) </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">尝试去看懂这个东西，看不懂的话，就再等等，只要找工作前能理解透就可以</span><br><span class="line">ThreadPoolExecutor的创建主要参数有7个，接下来将进行一一介绍。</span><br><span class="line"></span><br><span class="line">最大线程数(MaximumPoolSize)和核心线程数(CorePoolSize)</span><br><span class="line"></span><br><span class="line">最大线程数(MaximumPoolSize)：线程池运行的最大线程数量，受属性CAPACITY的限制，最大为(2^29)-1(约5亿)</span><br><span class="line">核心线程数(CorePoolSize)：线程池中保持最小活动数的线程数量，并且不允许超时，除非调用allowCoreThreadTimeOut方法，这个时候最小值是0。</span><br><span class="line">当线程池线程数量小于核心线程数时，一个新的任务请求被提交上来时，不管其他线程是否处于空闲状态，都会新建一个线程来处理这个请求。</span><br><span class="line">如果在运行的线程数数量超过核心线程数但是小于最大线程数，并且工作队列已满，将创建一个线程处理这个请求。</span><br><span class="line">默认情况下，当一个任务请求时，核心线程数才会被创建和启动，但是也可以通过prestartCoreThread启动一个核心线程或者prestartAllCoreThread启动所有核心线程。</span><br><span class="line"></span><br><span class="line">创建新的线程(ThreadFactory)</span><br><span class="line"></span><br><span class="line">ThreadFactory用来创建线程。如果没有指定ThreadFactory的话，默认会使用Executors#defaultThreadFactory 来创建线程，并且这些线程都是在同一个ThreadGroup并且都是非守护线程状态(non-daemon status)并且拥有相同的优先级(NORM_PRIORITY)。 如果指定了ThreadFactory 可以修改ThreadGroup和线程的名称、守护状态、优先级等。</span><br><span class="line">ThreadFactory如果调用newThread(Runnable r)方法返回null则创建线程失败，线程池会继续运行但可能不会执行任何任务。</span><br><span class="line">线程应该拥有&quot;modifyThread&quot;权限，如果工作线程或者其他线程没有拥有这个权限，服务可能会降级，配置更改可能不会及时生效，关闭线程池可能保持在可能终止但未完成的状态。</span><br><span class="line"></span><br><span class="line">存活时间(Keep-alive times)</span><br><span class="line"></span><br><span class="line">存活时间(Keep-alive times)：空闲线程等待工作的超时时间（以纳秒为单位）</span><br><span class="line">如果当前线程池中的线程数超过了核心线程数，超出的部分线程如果空闲的时长大于存活时长，那么他们将会被终止运行。当线程池不被频繁使用的时候，这提供了一种减少资源消耗的方法。存活时间可以通过setKeepAliveTime(long, TimeUnit)进行修改，使用 setKeepAliveTime(Long.MAX_VALUE, NANOSECONDS)有效地禁止空闲线程在关闭之前终止。默认情况下，存活策略只适用于当前线程数超过核心线程数的情况下。</span><br><span class="line">但是使用方法allowCoreThreadTimeOut(boolean)也可以将这个超时策略应用到核心线程，只要keepAliveTime值不为零。</span><br><span class="line"></span><br><span class="line">时间单位(TimeUnit)</span><br><span class="line"></span><br><span class="line">TimeUnit 是存活时间的单位。</span><br><span class="line"></span><br><span class="line">阻塞队列(BlockingQueue)</span><br><span class="line"></span><br><span class="line">任何实现了BlockingQueue接口的实现类都可以用来传输和保存提交的任务，阻塞队列的使用和线程池大小相关：</span><br><span class="line"></span><br><span class="line">如果运行的线程少于核心线程数, Executor总是倾向于添加一个新线程而不是排队</span><br><span class="line">如果核心线程数（5个）或更多线程正在运行(不超过最大线程数)（10个），Executor总是倾向于排队请求（从5个核心线程中去拿线程排队拿），而不是添加一个新线程</span><br><span class="line">如果没有达到最大线程数并且队列未满，将创建新的线程执行任务，如果线程数大于最大线程数，任务将会被拒绝</span><br><span class="line">三种排队策略</span><br><span class="line"></span><br><span class="line">直接传递</span><br><span class="line">工作队列的一个很好的默认选择是 SynchronousQueue，它将任务交给线程而不用其他方式持有它们。一个新的任务尝试排队时，如果没有可供使用的线程运行它时将会创建一个新的线程。该策略避免了锁定处理可能具有内部依赖关系的请求集，直接传递通常需要无界的最大线程池来避免新的任务提交。这反过来又承认了当命令的平均到达速度快于它们的处理速度时，线程无限增长的可能性。</span><br><span class="line"></span><br><span class="line">无界队列</span><br><span class="line">无界队列是一个没有预定义容量的队列，使用无界队列例如LinkedBlockingQueue将导致新任务一直在等待，当核心线程数（5个）的线程处于工作状态时。因此，不会有超过核心线程数的线程被创建（），也就是说最大线程数是不起作用的。当任务之间互相独立，互不影响的时候这个选择可能是挺合适的。例如，在web服务器中，这种队列在消除短暂的高并发方面很有作用，它允许无界队列增长的平均速度比处理的平均速度快。</span><br><span class="line"></span><br><span class="line">有界队列</span><br><span class="line">无界队列例如ArrayBlockingQueue，它能在有限的最大线程数内防止资源耗尽，但是它也更难调整和控制。</span><br><span class="line">队列的大小和最大线程数可以互相替换：使用更大的队列数量和小的线程池数量能够最小化CPU的使用、系统资源和上下文切换的开销，但也人为的导致了低吞吐量。如果一个任务频繁的阻塞，例如频繁I/O，系统更多的时间是在频繁的调度而不是运行任务。使用小的队列通常需要大的线程池数量，这会让CPU更能充分利用，但是也会遇到不可接受的调度开销，也会降低吞吐量。</span><br><span class="line"></span><br><span class="line">拒绝任务</span><br><span class="line"></span><br><span class="line">在调用execute(Runnable)提交任务时，在Executor已经关闭或者有界队列的最大线程数和队列满的情况下任务会被拒绝。不论在什么情况下，execute方法调用RejectedExecutionHandler#rejectedExecution(Runnable, ThreadPoolExecutor)任务都会根据拒绝策略被拒绝。</span><br><span class="line"></span><br><span class="line">四种拒绝策略</span><br><span class="line"></span><br><span class="line">ThreadPoolExecutor预定义了四种拒绝策略：</span><br><span class="line"></span><br><span class="line">ThreadPoolExecutor.AbortPolicy，默认的拒绝策略，简单粗暴，拒绝的时候直接抛RejectedExecutionException异常</span><br><span class="line">ThreadPoolExecutor.CallerRunsPolicy，由调用者执行自身execute方法来运行提交进来的任务，从名字CallerRuns(调用者运行)中就可以看出。它会提供一个简单的反馈控制机制，这种策略将降低新任务被提交上来的速度。</span><br><span class="line">ThreadPoolExecutor.DiscardPolicy，也很简单粗暴，直接丢弃任务，不抛异常。</span><br><span class="line">ThreadPoolExecutor.DiscardOldestPolicy，DiscardOldest丢弃最早的任务，在队列头部也就是最新进入队列的任务会被丢弃，然后尝试提交新任务，如果提交失败会继续重复以上步骤。</span><br><span class="line">也可以自己实现RejectedExecutionHandler接口，并重写rejectedExecution方法来自定义拒绝策略。</span><br><span class="line"></span><br><span class="line">通俗解释</span><br><span class="line"></span><br><span class="line">关于上面的参数我试着通俗的说一下，希望我说的能让你明白。</span><br><span class="line">假如现在有一家外包公司(ThreadPoolExecutor)，公司的核心开发(corePoolSize)有5个人，公司最多容纳(maximumPoolSize)10个开发，现在公司接了一个项目，核心开发还忙的过来，就将这个项目给其中一个核心开发做，慢慢的销售人员接的项目越来越多，5个核心开发都在做项目没时间再做新的项目，公司为了节省开支新来的项目只能先接过来暂时积压(BlockingQueue)起来，但是一直积压也不是个事情，客户也会一直催，公司顶住最多只能积压5个，积压到5个之后公司也还能容纳5个开发，不得不再招人（创建新的线程）处理新的项目。当公司发展的越来越好，接的项目也越来越多这10个开发也忙不过来了，有新的项目再进来就只能通过各种方式拒绝(RejectedExecutionHandler)了。再后来因为疫情原因，公司能接到的项目也越来越少了，开发人员很多(Thread)已经没事儿可做了，大概过了两周时间(keepAliveTime)，公司又为了节省开支就把这些空闲下来的非核心开发给开了。当然，核心开发也不是说一定不能动也是可以开的(allowCoreThreadTimeOut(true))，只不过肯定是优先考虑非核心人员。</span><br><span class="line">有人说了，项目多的时候为啥不扩大公司规模呢？</span><br><span class="line">首先，公司老板最多也就有养这几个员工的的能力，养的多了老板也吃不消，多招一个人可能也不会使工作效率提高，反而可能拖累其他开发的进度，能养几个员工也是经过老板深思熟虑加以往的经验总结得出的结果。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>ThreadPoolExecutor 相比于其他创建线程池的优势在于，它可以通过参数来控制最大任务数和拒绝策略，让线程池的执行更加透明和可控</strong>，所以在阿里巴巴《Java开发手册》是这样规定的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">【强制要求】线程池不允许使用 Executors 去创建，而是通过 ThreadPoolExecutor 的方式，这样的处理方式让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。内存溢出的错误</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">说明：Executors 返回的线程池对象的弊端如下：</span><br><span class="line"></span><br><span class="line">1） FixedThreadPool 和 SingleThreadPool：允许的请求队列长度为 Integer.MAX_VALUE，可能会堆积大量的请求，从而导致 OOM。</span><br><span class="line"></span><br><span class="line">2）CachedThreadPool：允许的创建线程数量为 Integer.MAX_VALUE，可能会创建大量的线程，从而导致 OOM。</span><br></pre></td></tr></table></figure>

<p>总结</p>
<p>线程池的创建方式总共有以下 7 种：</p>
<ol>
<li>Executors.newFixedThreadPool：创建一个固定大小的线程池，可控制并发的线程数，超出的线程会在队列中等待。</li>
<li>Executors.newCachedThreadPool：创建一个可缓存的线程池，若线程数超过处理所需，缓存一段时间后会回收，若线程数不够，则新建线程。</li>
<li>Executors.newSingleThreadExecutor：创建单个线程数的线程池，它可以保证先进先出的执行顺序。</li>
<li>Executors.newScheduledThreadPool：创建一个可以执行延迟任务的线程池。</li>
<li>Executors.newSingleThreadScheduledExecutor：创建一个单线程的可以执行延迟任务的线程池。</li>
<li>Executors.newWorkStealingPool：创建一个抢占式执行的线程池（任务执行顺序不确定）【JDK 1.8 添加】。</li>
<li>ThreadPoolExecutor：手动创建线程池的方式，它创建时最多可以设置 7 个参数。</li>
</ol>
<p>而<strong>线程池的创建推荐使用最后一种 ThreadPoolExecutor 的方式来创建，因为使用它可以明确线程池的运行规则，规避资源耗尽的风险</strong>。</p>
<h2 id="day24"><a href="#day24" class="headerlink" title="day24"></a>day24</h2><blockquote>
<p>1.基于接口和抽象类的匿名内部类的写法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">abstract class Person &#123;</span><br><span class="line">	public abstract void eat();</span><br><span class="line">&#125;</span><br><span class="line">public static void main (String[] args) &#123;</span><br><span class="line">	Person person = new Person () &#123;</span><br><span class="line">		public void eat () &#123;</span><br><span class="line">			sout();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	person.eat();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.接口和抽象类的区别</p>
<p>3.throw和throws区别<br>4.final和finally的区别<br>5.书写单例模式<br>6.序列化和反序列化的概念</p>
</blockquote>
<h3 id="今天的内容-4"><a href="#今天的内容-4" class="headerlink" title="今天的内容"></a>今天的内容</h3><blockquote>
<p>1.Stream流</p>
<p>2.水果管理系统</p>
</blockquote>
<h3 id="1-Stream【难点】"><a href="#1-Stream【难点】" class="headerlink" title="1.Stream【难点】"></a>1.Stream【难点】</h3><blockquote>
<p>Stream解决集合类库现有的弊端</p>
<p>先在有一个需求：</p>
<p>​	将list集合中姓张的名字元素过滤到新的集合中</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Predicate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//将list集合中姓张的名字元素过滤到新的集合中</span></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;张小三&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;张大山&quot;</span>);</span><br><span class="line">        <span class="comment">//新建一个新的集合用来存姓张的元素</span></span><br><span class="line">        List&lt;String&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.startsWith(<span class="string">&quot;张&quot;</span>)) &#123;</span><br><span class="line">                list1.add(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list1);</span><br><span class="line">        System.out.println(<span class="string">&quot;=======&quot;</span>);</span><br><span class="line">        <span class="comment">//如果使用sytream流操作</span></span><br><span class="line">        <span class="comment">//将集合对象转换成流对象</span></span><br><span class="line">        list.stream().filter(s -&gt; s.startsWith(<span class="string">&quot;张&quot;</span>)).forEach(s -&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">        list.stream().filter(<span class="keyword">new</span> <span class="title class_">Predicate</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(String s)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> s.startsWith(<span class="string">&quot;张&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).forEach(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-1获取流的对象"><a href="#1-1获取流的对象" class="headerlink" title="1.1获取流的对象"></a>1.1获取流的对象</h4><blockquote>
<p>根据集合获取流，将集合中的数据变成流的形式</p>
<p>Collection接口下面的方法 streram();</p>
<p>1.根据List获取流对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    strings.add(<span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">    strings.add(<span class="string">&quot;老邢xiao&quot;</span>);</span><br><span class="line">    strings.add(<span class="string">&quot;xiao邢&quot;</span>);</span><br><span class="line">    strings.add(<span class="string">&quot;xiao老邢&quot;</span>);</span><br><span class="line">    <span class="comment">//获取流对象</span></span><br><span class="line">     Stream&lt;String&gt; stream = strings.stream();</span><br><span class="line">     System.out.println(stream);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.set也可以获取stream对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">     set.add(<span class="string">&quot;嘻嘻&quot;</span>);</span><br><span class="line">     set.add(<span class="string">&quot;哈哈&quot;</span>);</span><br><span class="line">     Stream&lt;String&gt; stream = set.stream();</span><br><span class="line">     System.out.println(stream);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.根据map集合获取流对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     Map&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">     map.put(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;狗蛋&quot;</span>);</span><br><span class="line">     map.put(<span class="string">&quot;2&quot;</span>, <span class="string">&quot;腾飞&quot;</span>);</span><br><span class="line">     <span class="comment">//先获取键</span></span><br><span class="line">     Set&lt;String&gt; strings = map.keySet();</span><br><span class="line">     Stream&lt;String&gt; stream = strings.stream();</span><br><span class="line">     <span class="comment">//获取值</span></span><br><span class="line">     Collection&lt;String&gt; values = map.values();</span><br><span class="line">     Stream&lt;String&gt; stream1 = values.stream();</span><br><span class="line">     <span class="comment">//</span></span><br><span class="line">     Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = map.entrySet();</span><br><span class="line"></span><br><span class="line">     Stream&lt;Map.Entry&lt;String, String&gt;&gt; stream2 = entries.stream();</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="1-2Stream流对象下面"><a href="#1-2Stream流对象下面" class="headerlink" title="1.2Stream流对象下面"></a>1.2Stream流对象下面</h4><blockquote>
<p>流就是集合中的数据，方法对集合中进行操作的</p>
</blockquote>
<table>
<thead>
<tr>
<th>方法的名称</th>
<th>方法的作用</th>
<th>方法种类</th>
<th>是否支持链式操作</th>
</tr>
</thead>
<tbody><tr>
<td>count</td>
<td>统计个数</td>
<td>终结方法</td>
<td>否</td>
</tr>
<tr>
<td>forEach</td>
<td>逐个处理数据</td>
<td>终结方法</td>
<td>否</td>
</tr>
<tr>
<td>filter</td>
<td>过滤数据</td>
<td>函数的拼接</td>
<td>是</td>
</tr>
<tr>
<td>limit</td>
<td>取前几个</td>
<td>函数的拼接</td>
<td>是</td>
</tr>
<tr>
<td>skip</td>
<td>跳过前几个</td>
<td>函数的拼接</td>
<td>是</td>
</tr>
<tr>
<td>map</td>
<td>映射</td>
<td>函数的拼接</td>
<td>是</td>
</tr>
<tr>
<td>concat</td>
<td>拼接</td>
<td>函数的拼接</td>
<td>是</td>
</tr>
</tbody></table>
<p>方法种类：</p>
<p>​		终结方法:对流操作的时候，链式操作的时候一定是写在最后的</p>
<p>​		函数拼接:方法还可以接着写方法</p>
<p>工厂的流水线:先造手机电池-》再造手机的主板-》造手机端额外壳-》一个成品</p>
<h5 id="1-2-1count和forEach"><a href="#1-2-1count和forEach" class="headerlink" title="1.2.1count和forEach"></a>1.2.1count和forEach</h5><blockquote>
<p>count：统计流中的元素的个数</p>
<p>forEach:遍历数据的</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strings.add(<span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;老邢xiao&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao老邢&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> strings.stream().count();</span><br><span class="line">        System.out.println(count);<span class="comment">//4</span></span><br><span class="line">        strings.stream().forEach(s-&gt;System.out.println(s));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-2-2filter方法"><a href="#1-2-2filter方法" class="headerlink" title="1.2.2filter方法"></a>1.2.2filter方法</h5><blockquote>
<table>
<thead>
<tr>
<th><code>Stream&lt;T&gt;</code></th>
<th><code>filter(Predicate&lt;? super T&gt; predicate)</code>返回由与此给定谓词匹配的此流的元素组成的流。</th>
</tr>
</thead>
<tbody><tr>
<td>Predicate</td>
<td>是一个判断接口，咱们可以写一写返回值是boolean类型</td>
</tr>
</tbody></table>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo6</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strings.add(<span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;老邢xiao&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao老邢&quot;</span>);</span><br><span class="line">        <span class="comment">//filter 看数据流，如果返回的是一个true 就把它留到流中。如果是一个false就把从流中踢出去</span></span><br><span class="line">        strings.stream().filter(s-&gt;s.endsWith(<span class="string">&quot;邢&quot;</span>)).forEach(s-&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-2-3limit"><a href="#1-2-3limit" class="headerlink" title="1.2.3limit"></a>1.2.3limit</h5><blockquote>
<p>限制，取集合中前几个值</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo7</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strings.add(<span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;老邢xiao&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;骚磊&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;大骚磊&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;小骚磊&quot;</span>);</span><br><span class="line">        <span class="comment">//找出前4个元素带有老的元素</span></span><br><span class="line">        <span class="comment">//strings.stream().limit(4).forEach(s-&gt; System.out.println(s));</span></span><br><span class="line">        strings.stream().limit(<span class="number">4</span>).filter(s-&gt;s.contains(<span class="string">&quot;老&quot;</span>)).forEach(s-&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-2-4map方法"><a href="#1-2-4map方法" class="headerlink" title="1.2.4map方法"></a>1.2.4map方法</h5><blockquote>
<p>用来映射关系</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo8</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;11&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;12&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;13&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;14&quot;</span>);</span><br><span class="line">        <span class="comment">//将集合中集合中字符串转为int类型的数据打印</span></span><br><span class="line"><span class="comment">//        for (String s : list) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(Integer.parseInt(s));</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        list.stream().map(s -&gt; Integer.parseInt(s)).forEach(s-&gt; System.out.println(s));</span><br><span class="line">        list.stream().map(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;String, Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(String s)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.parseInt(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).forEach(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(Integer s)</span> &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-2-5skip"><a href="#1-2-5skip" class="headerlink" title="1.2.5skip"></a>1.2.5skip</h5><blockquote>
<p>跳过前几个，取m面的数据</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo9</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strings.add(<span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;老邢xiao&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;骚磊&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;大骚磊&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;xiao老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;小骚磊&quot;</span>);</span><br><span class="line">        strings.stream().skip(<span class="number">3</span>).forEach(s-&gt; System.out.println(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-2-6concat"><a href="#1-2-6concat" class="headerlink" title="1.2.6concat"></a>1.2.6concat</h5><blockquote>
<p>合并两个流</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo10</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strings.add(<span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;老邢xiao&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;骚磊&quot;</span>);</span><br><span class="line">        List&lt;String&gt; strings1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strings1.add(<span class="string">&quot;大骚磊&quot;</span>);</span><br><span class="line">        strings1.add(<span class="string">&quot;xiao邢&quot;</span>);</span><br><span class="line">        strings1.add(<span class="string">&quot;xiao老邢&quot;</span>);</span><br><span class="line">        strings1.add(<span class="string">&quot;小骚磊&quot;</span>);</span><br><span class="line">        <span class="comment">//先变成流，然后再合并</span></span><br><span class="line">        Stream&lt;String&gt; stream = strings.stream();</span><br><span class="line">        Stream&lt;String&gt; stream1 = strings1.stream();</span><br><span class="line">        Stream&lt;String&gt; concat = Stream.concat(stream, stream1);</span><br><span class="line">        concat.forEach(s-&gt; System.out.println(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-3收集流"><a href="#1-3收集流" class="headerlink" title="1.3收集流"></a>1.3收集流</h4><blockquote>
<p>将流转为集合</p>
<p>toList();将流转为list集合</p>
<p>toSet();将流转为set集合</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo11</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; strings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        strings.add(<span class="string">&quot;老邢&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;老邢xiao&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;骚磊&quot;</span>);</span><br><span class="line">        strings.add(<span class="string">&quot;骚磊&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; stream = strings.stream();</span><br><span class="line">       List&lt;String&gt; collect = stream.collect(Collectors.toList());</span><br><span class="line">        <span class="comment">//Set&lt;String&gt; collect1 = stream.collect(Collectors.toSet());</span></span><br><span class="line">        System.out.println(collect);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="今天的内容-5"><a href="#今天的内容-5" class="headerlink" title="今天的内容"></a>今天的内容</h3><blockquote>
<p>1.反射【重点】</p>
</blockquote>
<h3 id="1-反射"><a href="#1-反射" class="headerlink" title="1.反射"></a>1.反射</h3><blockquote>
<p>反射很重要，咱们以后进行封装的时候都有必要书写反射，让咱们的代码具有更强普适性</p>
<p>Java反射是在动态的获取类， 类属性， 类方法， 类构造方法等内部一些类的信息。</p>
<p>反射本质就是反着来。</p>
<p>平常获取类    new 一个对象，现在可以通过反射来获取。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">//想创建一个对象，直接new</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        <span class="comment">//今天再学一种方式 使用反射的方式获取一个类的对象</span></span><br><span class="line">        <span class="comment">//java执行原理：先编译 后执行</span></span><br><span class="line">        <span class="comment">//编译之后的文件叫 Person.class  编</span></span><br><span class="line">        <span class="comment">// 译之后所有东西（类的属性，类的构造方法，类的成年成员方法）</span></span><br><span class="line">        <span class="comment">//都在person.class文件中，这个文件变成了一个类对象了</span></span><br><span class="line">        <span class="comment">//personClasss里卖弄有类的所有的信息</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person.class;</span><br><span class="line">        <span class="comment">//getConstructor获得无参构造方法</span></span><br><span class="line">        <span class="comment">//Constructor  把无参构造方法封装给以一个对象</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor = personClass.getConstructor(<span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//要无参构造干嘛？可以通过构造方法创建对象！！！</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person1</span> <span class="operator">=</span> constructor.newInstance(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Person p)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Class cls)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">从数据库里面查数据,但是查出来的数据要赋值一个类</span><br><span class="line">new admin ();</span><br><span class="line">new goods();</span><br><span class="line">new order();</span><br><span class="line">三个类对应这数据库里面这三张表</span><br><span class="line">admin表：</span><br><span class="line">	name   pwd</span><br><span class="line">	狗蛋	  123</span><br><span class="line">goods表:</span><br><span class="line">	name   price</span><br><span class="line">	汽车    78.9</span><br><span class="line">order：</span><br><span class="line">	name   status</span><br><span class="line">	汽车    已付款</span><br><span class="line">class BasweDao &#123;</span><br><span class="line">public List&lt;T&gt;  query (Class cls) &#123;</span><br><span class="line">	获取了name pwd  price   status</span><br><span class="line">	值已经获取出来</span><br><span class="line">	//得把这些值赋值给实体类</span><br><span class="line">	//Admin admin = new Admin();</span><br><span class="line">	//只能对admin赋值了，其他类不能赋值，这就不叫封装了，封装的目的是具有普适性</span><br><span class="line">	Constructor&lt;T&gt; cst = cls.getConstructor(null);</span><br><span class="line">	T t = cst.newInstance(null);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Admin.class</span><br><span class="line">query(Admin.class);</span><br><span class="line">query(Goods.class);</span><br><span class="line">query(Order.class);</span><br></pre></td></tr></table></figure>



<h4 id="1-1获取Class对象"><a href="#1-1获取Class对象" class="headerlink" title="1.1获取Class对象"></a>1.1获取Class对象</h4><blockquote>
<p>为啥要获取Class对象？因为有了class对象才能找关于类的属性，方法 ， 构造方法</p>
<p>Java可以将.java文件编译成.class文件，这个.calss文件中包含了原始文件中的所有的信息</p>
<p>.class文件会被类加载器加载到虚拟机中，可以通过.class文件获取原始类中的所有的信息</p>
<p>随之产生一个Class类对象。将Person.class变成了一个Class对象了</p>
<p>获取一个类的Class对象有三种方式:</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_class;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.qfedu.a_reflect.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="comment">//第一种获取class对象方式</span></span><br><span class="line">        <span class="comment">//com.qfedu.a_reflect.Person 类全限定名</span></span><br><span class="line">        Class&lt;?&gt; aClass = Class.forName(<span class="string">&quot;com.qfedu.a_reflect.Person&quot;</span>);</span><br><span class="line">        System.out.println(aClass);</span><br><span class="line">        <span class="comment">//第二种方式</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person.class;</span><br><span class="line">        System.out.println(personClass);</span><br><span class="line">        <span class="comment">//第三种方式</span></span><br><span class="line">        Class&lt;? <span class="keyword">extends</span> <span class="title class_">Person</span>&gt; aClass1 = <span class="keyword">new</span> <span class="title class_">Person</span>().getClass();</span><br><span class="line">        System.out.println(aClass1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>为啥要获取一个类的字节码文件对象，因为我要获取字节码文件下面的 构造方法  方法  属性 等信息</p>
<h4 id="1-2获取Constructor对象"><a href="#1-2获取Constructor对象" class="headerlink" title="1.2获取Constructor对象"></a>1.2获取Constructor对象</h4><blockquote>
<p>和一个类中的构造方法有关系。构造方法类对象</p>
<table>
<thead>
<tr>
<th><code>Constructor&lt;?&gt;[]</code></th>
<th><code>getConstructors()</code>返回包含一个数组 <code>Constructor</code>对象反射由此表示Class的所有公共构造 方法对象。</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
<tr>
<td><code>Constructor&lt;?&gt;[]</code></td>
<td><code>getDeclaredConstructors()</code>返回一个反映 <code>Constructor</code>对象表示的类声明的所有 <code>Constructor</code>对象的数组 <code>类</code> 。</td>
</tr>
<tr>
<td><code>Constructor&lt;T&gt;</code></td>
<td><code>getConstructor(Class&lt;?&gt;... parameterTypes)</code>返回一个 <code>Constructor</code>对象，该对象反映 <code>Constructor</code>对象表示的类</td>
</tr>
<tr>
<td><code>Constructor&lt;T&gt;</code></td>
<td><code>getDeclaredConstructor(类&lt;?&gt;... parameterTypes)</code>返回一个 <code>Constructor</code>对象，该对象反映 <code>Constructor</code>对象表示的类或接口的指定 构造方法对象</td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>以上的方法都是Class对象调用的</p>
<p>下面这个方法是Construct对象调用的</p>
<table>
<thead>
<tr>
<th><code>T</code></th>
<th><code>newInstance(Object... initargs)</code>使用此 <code>Constructor</code>对象表示的构造函数，使用指定的初始化参数来创建和初始化构造函数的声明类的新实例。</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.qfedu.a_reflect.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">//1.获取一个类对应的class对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person.class;</span><br><span class="line">        <span class="comment">//2.再拿class对象获取构造方法对象</span></span><br><span class="line">        Constructor&lt;?&gt;[] constructors = personClass.getConstructors();</span><br><span class="line">        System.out.println(constructors);<span class="comment">//内存地址</span></span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; constructor : constructors) &#123;</span><br><span class="line">            System.out.println(constructor);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-========&quot;</span>);</span><br><span class="line">        <span class="comment">//3.获取一个类所有的构造方法对象</span></span><br><span class="line">        Constructor&lt;?&gt;[] declaredConstructors = personClass.getDeclaredConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; declaredConstructor : declaredConstructors) &#123;</span><br><span class="line">            System.out.println(declaredConstructor);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4.获取单个的constructor对象</span></span><br><span class="line">        <span class="comment">//参数是个null  就证明获取的是无参的</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor = personClass.getConstructor(<span class="literal">null</span>);</span><br><span class="line">        System.out.println(constructor);<span class="comment">//Person();</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----------&quot;</span>);</span><br><span class="line">        <span class="comment">//5获取带有字符串类型的有参构造方法</span></span><br><span class="line">        <span class="comment">//参数Class 对象 怎么将String转为Class对象</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor1 = personClass.getConstructor(String.class);</span><br><span class="line">        System.out.println(constructor1);<span class="comment">//Person(String name)</span></span><br><span class="line">        Constructor&lt;Person&gt; constructor2 = personClass.getConstructor(String.class, <span class="type">int</span>.class);</span><br><span class="line">        System.out.println(constructor2);<span class="comment">//Person(String name)</span></span><br><span class="line">        <span class="comment">//不能的！！！</span></span><br><span class="line"><span class="comment">//        Constructor&lt;Person&gt; constructor3 = personClass.getConstructor(int.class);</span></span><br><span class="line"><span class="comment">//        System.out.println(constructor3);//Person(int name)</span></span><br><span class="line">        <span class="comment">//6.获取私有化的构造方法</span></span><br><span class="line">        Constructor&lt;Person&gt; declaredConstructor = personClass.getDeclaredConstructor(<span class="type">int</span>.class);</span><br><span class="line">        System.out.println(declaredConstructor);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//newInstance(Object... parameter)  是Constructor对象调用的</span></span><br><span class="line">        <span class="comment">//不是calss对象调用的  通过构造方法对象实例化一个对象出来</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> constructor.newInstance(<span class="literal">null</span>);</span><br><span class="line">        System.out.println(person);</span><br><span class="line">        <span class="comment">//如果有参的构造方法 有参构造方法可以传值</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person1</span> <span class="operator">=</span> constructor1.newInstance(<span class="string">&quot;狗蛋&quot;</span>);</span><br><span class="line">        System.out.println(person1);</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person2</span> <span class="operator">=</span> constructor2.newInstance(<span class="string">&quot;老邢&quot;</span>, <span class="number">18</span>);</span><br><span class="line">        System.out.println(person2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>只用getConstructor(Class…parameterType);</p>
<p>newInstance(Object… initargs);</p>
<p>一个类下面有构造方法   方法  属性</p>
<h4 id="1-3获取Method对象"><a href="#1-3获取Method对象" class="headerlink" title="1.3获取Method对象"></a>1.3获取Method对象</h4><blockquote>
<table>
<thead>
<tr>
<th>Method[]</th>
<th>getMethods()获取当前类或者父类的公开的所有的方法</th>
</tr>
</thead>
<tbody><tr>
<td><code>Method[]</code></td>
<td><code>getDeclaredMethods()</code>获取当前类所有的方法，但是不能获取父类的方案</td>
</tr>
<tr>
<td>Method</td>
<td><code>getMethod(String name, 类&lt;?&gt;... parameterTypes)</code>返回一个 <code>方法</code>对象，它反映此表示的类或接口的指定公共成</td>
</tr>
<tr>
<td>Method</td>
<td><code>getDeclaredMethod(String name, 类&lt;?&gt;... parameterTypes)</code>返回一个 <code>方法</code>对象，它反映此表示的类或接口的指定声明的方法 <code>类</code>对象。</td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>学一个Method下面的方法</p>
<table>
<thead>
<tr>
<th><code>Object</code></th>
<th>invoke(Object obj, Object… args)在具有指定参数的 <code>方法</code>对象上调用此 <code>方法</code>对象</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.d_method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.qfedu.a_reflect.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InstantiationException, IllegalAccessException, InvocationTargetException &#123;</span><br><span class="line">        Class&lt;Person&gt; personClass = Person.class;</span><br><span class="line">        <span class="comment">//通过class对象获取一个类下面方法对象Method</span></span><br><span class="line">        <span class="comment">//打印的本类公开的方法和父类的方法</span></span><br><span class="line">        Method[] methods = personClass.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            System.out.println(method);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;==========&quot;</span>);</span><br><span class="line">        <span class="comment">//获取本类的所有的方法</span></span><br><span class="line">        Method[] declaredMethods = personClass.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method declaredMethod : declaredMethods) &#123;</span><br><span class="line"></span><br><span class="line">            System.out.println(declaredMethod);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取一个方法  第一个参数  String方法的名字，第二个参数 方法的参数的数据类型</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">eat</span> <span class="operator">=</span> personClass.getMethod(<span class="string">&quot;eat&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(eat);<span class="comment">//无参的eat方法</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">eat1</span> <span class="operator">=</span> personClass.getMethod(<span class="string">&quot;eat&quot;</span>, String.class);</span><br><span class="line">        System.out.println(eat1);<span class="comment">//有参的eat方法 参数string类型的数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//私有话的方法getDeclaredMethod</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">sleep</span> <span class="operator">=</span> personClass.getDeclaredMethod(<span class="string">&quot;sleep&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(sleep);</span><br><span class="line">        <span class="comment">//方法对象获取以后干嘛？</span></span><br><span class="line">        <span class="comment">//方法要被调用  使用Method对象调用invoke这个方法</span></span><br><span class="line">        <span class="comment">//第一个Object 是你得告诉我在那个对象下面调用</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Object... args  是方法的参数的实参！！！</span></span><br><span class="line">        <span class="comment">//invoke(Object obj, Object... args)在具有指定参数的 `方法`对象上调用此 `方法`对象</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> personClass.newInstance();</span><br><span class="line">        <span class="comment">//方法对象自己执行方法</span></span><br><span class="line">        eat.invoke(person, <span class="literal">null</span>);</span><br><span class="line">        eat1.invoke(person, <span class="string">&quot;狗子&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//证明权限不够！！！咋办 接近不了</span></span><br><span class="line">        <span class="comment">//can not access a member</span></span><br><span class="line">        <span class="comment">//咋办，让它接近就可以啦。 暴力反射</span></span><br><span class="line">        sleep.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        sleep.invoke(person, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">getMethod(string name, class&lt;?&gt; ... parameterType)；</span><br><span class="line">调用</span><br><span class="line">invoke(Object obj, Object....paramter)</span><br></pre></td></tr></table></figure>

<p>上午的内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.获取三种方式</span><br><span class="line">	Class.forName(&quot;包名+ 类名&quot;);</span><br><span class="line">	类.class</span><br><span class="line">	对象.getClass()</span><br><span class="line">2.获取构造方法对象</span><br><span class="line">	class对象.getConstructor();</span><br><span class="line">	construct对象.newInstance();根据构造方法实例化对象</span><br><span class="line">3.获取方法对象</span><br><span class="line">	class对象.getMethod(String name, Class&lt;?&gt; ...parameterType);</span><br><span class="line">	method对象.invoke(Object obj, Object... initargs);</span><br></pre></td></tr></table></figure>

<p>类下面还有成员变量</p>
<p>Field</p>
<h4 id="1-4获取Field对象"><a href="#1-4获取Field对象" class="headerlink" title="1.4获取Field对象"></a>1.4获取Field对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.e_field;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.qfedu.a_reflect.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchFieldException, InstantiationException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">//属性是在一个类下面，也要Class对象获取属性对象</span></span><br><span class="line">        Class&lt;Person&gt; personClass = Person.class;</span><br><span class="line">        <span class="comment">//getFields获取公开的属性</span></span><br><span class="line">        Field[] fields = personClass.getFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            System.out.println(field);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;===========&quot;</span>);</span><br><span class="line">        Field[] declaredFields = personClass.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field declaredField : declaredFields) &#123;</span><br><span class="line"></span><br><span class="line">            System.out.println(declaredField);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取一个属性对象 参数是属性的名字</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">name</span> <span class="operator">=</span> personClass.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        <span class="comment">//能不能使用getField方法获取私有的属性或者默认的属性？不能！！</span></span><br><span class="line"><span class="comment">//        Field age = personClass.getField(&quot;age&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(age);</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">age</span> <span class="operator">=</span> personClass.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        System.out.println(age);</span><br><span class="line">        <span class="type">Field</span> <span class="variable">sex</span> <span class="operator">=</span> personClass.getDeclaredField(<span class="string">&quot;sex&quot;</span>);</span><br><span class="line">        System.out.println(sex);</span><br><span class="line">        <span class="comment">//属性对象可以获取的，获取以后干嘛？属性是用来赋值的</span></span><br><span class="line">        <span class="comment">//对象属性进行赋值  set方法</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> personClass.newInstance();</span><br><span class="line">        name.set(person, <span class="string">&quot;狗子&quot;</span>);</span><br><span class="line">        System.out.println(person);</span><br><span class="line">        <span class="comment">//暴力反射</span></span><br><span class="line">        age.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        age.set(person, <span class="number">12</span>);</span><br><span class="line">        System.out.println(person);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1.三种创建Class对象的形式</span><br><span class="line">	Class.forName(&quot;&quot;)</span><br><span class="line">	类.class</span><br><span class="line">	对象.getCalss()</span><br><span class="line">	字节文件.class对象</span><br><span class="line">2.Class下面获取构造方法对象的方法</span><br><span class="line">	getConstructors();</span><br><span class="line">	getDeclaredConstructors();</span><br><span class="line">	getConstructor(Class  ..... parameterType);</span><br><span class="line">	getDeclaredConstructor(Class  ..... parameterType);</span><br><span class="line">3.Class下面获取方法对象的方法</span><br><span class="line">	getMethods();</span><br><span class="line">	getDeclaredMethods();</span><br><span class="line">	getMethod(String name, Class .... parameterType);</span><br><span class="line">	getDeclaredMethod(String name, Class .... parameterType);</span><br><span class="line">4.Class下面获取属性对象的方法</span><br><span class="line">	getFields();</span><br><span class="line">	getDeclaredFields();</span><br><span class="line">	getField(String name);</span><br><span class="line">	getDeclaredField(String name);</span><br><span class="line">5.Constructor对象下面的方法</span><br><span class="line">	newInstance(); 通过构造方法创建了实例对象</span><br><span class="line">	setAccessible(true);</span><br><span class="line">6.Method对象下面的方法</span><br><span class="line">	setAccessible(true);</span><br><span class="line">	invoke(Object  obj, Object ... param);</span><br><span class="line">7.Field对象下面的方法</span><br><span class="line">	setAccessible(true);</span><br><span class="line">	set(Object obj, Object value);</span><br><span class="line">8.简单聊聊对反射的理解</span><br></pre></td></tr></table></figure>

<h3 id="今天的内容-6"><a href="#今天的内容-6" class="headerlink" title="今天的内容"></a>今天的内容</h3><blockquote>
<p>1.单例模式</p>
<p>2.序列化操作（ＩＯ流）</p>
<p>以下两个是jdk的新特性:</p>
<p>​	</p>
<p>3.lambda表达式</p>
<p>4.Stream流</p>
</blockquote>
<h3 id="1-单例模式"><a href="#1-单例模式" class="headerlink" title="1.单例模式"></a>1.单例模式</h3><blockquote>
<p>Java提供了二十多种设计模式，在咱们教学过程中抽重要的学习，开发中用的</p>
<p>模式并不是一朝一夕学会的东西，工厂模式， 代理模式  策略模式等</p>
<p>设计模式是全球公认的。为了让咱们的代码变得更加简洁，效率更高，产生出来的模式</p>
<p>修改的时候更加方便</p>
<p>单例模式:</p>
<p>​		要求在整个程序运行过程中，只出现一个实例对象。减少内存的消耗</p>
<p>​		如何判断两个对象或者多个对象是否是单例，看内存地址。如果内存地址相等的话，绝对是同一个对象。</p>
<p>想一些问题:</p>
<p>​		创建对象  通过关键字 new 来创建，但是new一次  再new一次对象的内存地址绝对不一样的。就意味着你必须将一个类的构造方法私有化</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.f_singleinstance;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingDog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">SingDog</span> <span class="variable">singDog</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingDog</span> <span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">static</span> SingDog <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">synchronized</span> (SingDog.class) &#123;</span><br><span class="line">            <span class="keyword">if</span> (singDog == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">//</span></span><br><span class="line">                singDog = <span class="keyword">new</span> <span class="title class_">SingDog</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> singDog;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">SingDog</span> <span class="variable">instance</span> <span class="operator">=</span> SingDog.getInstance();</span><br><span class="line">        System.out.println(instance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">SingDog</span> <span class="variable">instance</span> <span class="operator">=</span> SingDog.getInstance();</span><br><span class="line">        System.out.println(instance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//以上两个对象是两个不同的对象。单例模式的目的</span></span><br><span class="line">        <span class="comment">//是只能有一个对象，不能有多个对象，就意味着不能再new</span></span><br><span class="line">        <span class="comment">//为啥？new一个就是对象。不能new 在类里面咋写？</span></span><br><span class="line">        <span class="comment">//解决方案: 私有话构造方法</span></span><br><span class="line">        <span class="comment">//不能new  想得到对象？ 在类中定义一个静态方法</span></span><br><span class="line">        <span class="comment">//为啥是静态方法  只能用来调用</span></span><br><span class="line"><span class="comment">//        SingDog singdog = SingDog.getInstance();</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        System.out.println(singdog);</span></span><br><span class="line"><span class="comment">//        SingDog singdog1 = SingDog.getInstance();</span></span><br><span class="line"><span class="comment">//        System.out.println(singdog1);</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread1</span>()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyThread2</span>()).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>懒汉式的写法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_single;</span><br><span class="line"></span><br><span class="line"><span class="comment">//懒汉式写法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Person person;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Person</span> <span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Person <span class="title function_">getInstance</span> <span class="params">()</span>  &#123;</span><br><span class="line">        <span class="keyword">if</span>  (person == <span class="literal">null</span>) &#123;</span><br><span class="line">            person = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> person;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>饿汉式写法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.a_single;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Cat</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Cat <span class="title function_">getIntance</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cat;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">intance</span> <span class="operator">=</span> Cat.getIntance();</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">intance1</span> <span class="operator">=</span> Cat.getIntance();</span><br><span class="line">        System.out.println(intance);</span><br><span class="line">        System.out.println(intance1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>懒汉式:线程不安全</p>
<p>饿汉式:线程安全的</p>
<p>效率来说:  饿汉式效率高，因为不用加锁</p>
<p>性能来说:  饿汉式类一加载就实力出来对象。但是懒汉式调用方法的时候才进行创建对象</p>
<p>懒汉式的内存消耗是小于饿汉式的</p>
<h3 id="2-序列化"><a href="#2-序列化" class="headerlink" title="2.序列化"></a>2.序列化</h3><blockquote>
<p>和IO流有关</p>
<p>类 ObjectInputStream（反序列化） 和 ObjectOutputStream（序列化） 是高层次的数据流，它们包含反序列化和序列化对象的方法。</p>
<p>ObjectOutputStream 类包含很多写方法来写各种数据类型，但是一个特别的方法例外：</p>
<p>public final void writeObject(Object x) throws IOException</p>
<p>上面的方法序列化一个对象，并将它发送到输出流。相似的 ObjectInputStream 类包含如下反序列化一个对象的方法：</p>
<p>public final Object readObject() throws IOException,                                  ClassNotFoundException</p>
<p>该方法从流中取出下一个对象，并将对象反序列化。它的返回值为Object，因此，你需要将它转换成合适的数据类型。</p>
<p>总结：序列化能干嘛?  将一个类对象信息（构造方法，属性，方法）可以写到本地一个文件中。这叫序列化。从文件中读取一个对象的信息，这叫反序列化。</p>
<p>序列化注意事项:</p>
<p>​	1.被序列化的实体类必须实现一个接口 Serializable，不然不能被序列化</p>
<p>序列化案例:</p>
<p>将一个对象赋值完以后写到到本地。ObjectOutputStream</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_serialize;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//序列化：将对象存到一个文件中</span></span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">        employee.name = <span class="string">&quot;骚磊&quot;</span>;</span><br><span class="line">        employee.address = <span class="string">&quot;月球&quot;</span>;</span><br><span class="line">        employee.number = <span class="number">100</span>;</span><br><span class="line">        employee.mailCheck();</span><br><span class="line">        <span class="comment">//将employee对象进行序列化 存到一个文件中  序列化的文件的后缀都是.ser</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/emp.ser&quot;</span>));</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">objectOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(fos);</span><br><span class="line">        objectOutputStream.writeObject(employee);</span><br><span class="line">        objectOutputStream.close();</span><br><span class="line">        fos.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;写入成功&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>反序列化</p>
<blockquote>
<p>将本地的文件信息（被序列化过的）写到一个对象中</p>
<p>ObjectInputStream</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.b_serialize;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//进行反序列化</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;c:/aaa/emp1.ser&quot;</span>));</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(fis);</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> (Employee)ois.readObject();</span><br><span class="line">        System.out.println(emp.name);</span><br><span class="line">        System.out.println(emp.number);</span><br><span class="line">        System.out.println(emp.address);</span><br><span class="line">        System.out.println(emp.sb);</span><br><span class="line">        emp.mailCheck();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：序列化将对象的值存到本地磁盘的文件中以作备份。反序列化可以将本次磁盘序列化过的文件读取到实体类的对象中。</p>
<h3 id="3-Lambda表达式"><a href="#3-Lambda表达式" class="headerlink" title="3.Lambda表达式"></a>3.Lambda表达式</h3><blockquote>
<p>Lambda表达式被称称为闭包。他是推动了Java8新特性的重要的一步。</p>
<p>Lambda表达式运行函数式编程。就是简化代码的。变得更加简洁，但是可读性特别差</p>
</blockquote>
<h4 id="3-1入门案例"><a href="#3-1入门案例" class="headerlink" title="3.1入门案例"></a>3.1入门案例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_lambda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//新建一个线程</span></span><br><span class="line">        <span class="comment">//第一种的创建方式</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;简洁嘻嘻哒&quot;</span> + i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;锤人&quot;</span> + i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Thread构造方法是接口对象</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">runnable</span> <span class="operator">=</span> ()-&gt; System.out.println(<span class="string">&quot;嘻嘻&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-2lambda表达式语法格式"><a href="#3-2lambda表达式语法格式" class="headerlink" title="3.2lambda表达式语法格式"></a>3.2lambda表达式语法格式</h4><blockquote>
<p>只看接口下面的唯一的一个抽象方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">接口  接口对象 =  ()-&gt;表达式;  无参 无返回值的</span><br><span class="line">接口  接口对象 =  (parameter)-&gt;表达式;  有参  无返回值的</span><br><span class="line">接口  接口对象 = ()-&gt;&#123;表达式;&#125;;   无参 有返回值的</span><br><span class="line">接口  接口对象 = (parameter)-&gt;&#123;表达式;&#125;;  有参有返回值</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="3-2-1无参无返回值的形式"><a href="#3-2-1无参无返回值的形式" class="headerlink" title="3.2.1无参无返回值的形式"></a>3.2.1无参无返回值的形式</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_lambda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Computer</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">coding</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//无参无返回值的</span></span><br><span class="line">        test(() -&gt; System.out.println(<span class="string">&quot;敲代码&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//而如果一个方法的参数是一个接口对象的话，难免要new 这个接口 重写方法</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span> <span class="params">(Computer c)</span> &#123;</span><br><span class="line">        c.coding();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-2-2有参无返返回值的方法"><a href="#3-2-2有参无返返回值的方法" class="headerlink" title="3.2.2有参无返返回值的方法"></a>3.2.2有参无返返回值的方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_lambda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">C</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(String name, <span class="type">int</span> a)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test(( name,  a) -&gt; System.out.println(name + <span class="string">&quot;吃&quot;</span> + a) , <span class="string">&quot;狗蛋&quot;</span>, <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span> <span class="params">(C c, String name, <span class="type">int</span> a)</span> &#123;</span><br><span class="line">        c.eat(name , a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-2-3无参有返回值"><a href="#3-2-3无参有返回值" class="headerlink" title="3.2.3无参有返回值"></a>3.2.3无参有返回值</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_lambda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">D</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">num</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo6</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test(() -&gt;&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;xixida&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">500</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span> <span class="params">(D d)</span> &#123;</span><br><span class="line">        d.num();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-2-4有参有返回值的"><a href="#3-2-4有参有返回值的" class="headerlink" title="3.2.4有参有返回值的"></a>3.2.4有参有返回值的</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.c_lambda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">E</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo7</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test((a, b) -&gt; a + b, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span> <span class="params">(E e, <span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> e.add(a, b);</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="day25"><a href="#day25" class="headerlink" title="day25"></a>day25</h2><h3 id="第二阶段-JavaWeb"><a href="#第二阶段-JavaWeb" class="headerlink" title="第二阶段 JavaWeb"></a>第二阶段 JavaWeb</h3><p>数据库</p>
<p>前端(H5,CSS,JS,JQ,Ajax,Bootstrap)</p>
<p>服务器Tomcat</p>
<p>服务器技术Servlet</p>
<h3 id="数据库概念"><a href="#数据库概念" class="headerlink" title="数据库概念"></a>数据库概念</h3><p>数据库（&#x3D;&#x3D;DataBase，DB&#x3D;&#x3D;）：指长期保存在计算机的存储设备上，按照一定规则组织起来，可以被各种用户或应用共享的数据集合。</p>
<p>数据库管理系统（DataBase Management System，&#x3D;&#x3D;DBMS&#x3D;&#x3D;）：指一种操作和管理数据库的大型软件，用于建立、使用和维护数据库，对数据库进行统一管理和控制，以保证数据库的安全性和完整性。用户通过数据库管理系统访问数据库中的数据。</p>
<p>&#x3D;&#x3D;RDBMS&#x3D;&#x3D;</p>
<p>数据库：存储、维护和管理数据的集合。</p>
<h3 id="常见数据库"><a href="#常见数据库" class="headerlink" title="常见数据库"></a>常见数据库</h3><p>mysql,sqlserver,Oracle,db2 &#x3D;&#x3D;&#x3D;&gt; R(Relation)DBMS &#x3D;&#x3D;&gt; 关系型数据库</p>
<p>redis,MongoDB,HBase        &#x3D;&#x3D;&gt; NOSql &#x3D;&#x3D;&gt; Not Only Sql</p>
<h3 id="MySQL介绍"><a href="#MySQL介绍" class="headerlink" title="MySQL介绍"></a>MySQL介绍</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一，在 WEB 应用方面，MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422230.png" alt="image-20220815095840069"></p>
<h3 id="MySQL卸载"><a href="#MySQL卸载" class="headerlink" title="MySQL卸载"></a>MySQL卸载</h3><ul>
<li>开始-控制面板-卸载程序-mysql</li>
</ul>
<p>​		如果找到,右键卸载</p>
<ul>
<li>删除隐藏文件</li>
</ul>
<p>​    	C:\ProgramData\MySQL</p>
<ul>
<li>删除MySQL文件夹</li>
</ul>
<p>​		删除MySQL的安装文件</p>
<ul>
<li>删除注册表</li>
</ul>
<p>打开注册表 windos+r 输入 regedit</p>
<p>\HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\services\eventlog\Application\MySQL</p>
<p>\HKEY_LOCAL_MACHINE\SYSTEM\ControlSet002\services\eventlog\Application\MySQL</p>
<p>将最后一个MySQL文件删除</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422236.png" alt="image-20220815100528760"></p>
<h3 id="MySQL安装"><a href="#MySQL安装" class="headerlink" title="MySQL安装"></a>MySQL安装</h3><p>mysql现在安装的是5.7.</p>
<p>mysql的安装方式有两种:</p>
<p>一种是exe方式</p>
<p>另外一种解压版</p>
<p>这次就使用解压版安装</p>
<hr>
<h4 id="1-解压缩到非中文目录"><a href="#1-解压缩到非中文目录" class="headerlink" title="1 解压缩到非中文目录"></a>1 解压缩到非中文目录</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422239.png" alt="image-20220815101235392"></p>
<h4 id="2-编写配置文件"><a href="#2-编写配置文件" class="headerlink" title="2 编写配置文件"></a>2 编写配置文件</h4><p><strong>2.1 在安装目录下新建my.ini的配置文件</strong></p>
<p>打开文件后缀和隐藏文件显示</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422240.png" alt="image-20220815101352491"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422242.png" alt="image-20220815101429202"></p>
<p><strong>2.2 新建文件内编写内容</strong></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Client]</span></span><br><span class="line"><span class="attr">port</span> = <span class="number">3306</span></span><br><span class="line"> </span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment">#设置3306端口</span></span><br><span class="line"><span class="attr">port</span> = <span class="number">3306</span></span><br><span class="line"><span class="comment"># 设置mysql的安装目录</span></span><br><span class="line"><span class="attr">basedir</span>=E:\mysql-<span class="number">5.7</span>.<span class="number">20</span>-winx64</span><br><span class="line"><span class="comment"># 设置mysql数据库的数据的存放目录</span></span><br><span class="line"><span class="attr">datadir</span>=E:\mysql-<span class="number">5.7</span>.<span class="number">20</span>-winx64\data</span><br><span class="line"> <span class="comment"># 允许最大连接数</span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">200</span></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为8比特编码的latin1字符集</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎</span></span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br><span class="line"> </span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="comment"># 设置mysql客户端默认字符集</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br></pre></td></tr></table></figure>

<blockquote>
<p>特别说明:</p>
<p>basedir 要换成自己的路径</p>
<p>datadir 要换成自己的路径,且该data文件夹不能存在,因为后续会自动创建.现在存在反而后续会初始化失败!!</p>
</blockquote>
<h4 id="3-执行命令初始化"><a href="#3-执行命令初始化" class="headerlink" title="3 执行命令初始化"></a>3 执行命令初始化</h4><p><strong>3.1 使用管理员权限打开命令提示符(CMD)</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422249.png" alt="image-20220815101855345"></p>
<p><strong>3.2 进入到mysql的安装路径的bin目录下</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422690.png" alt="image-20220815102056294"></p>
<p><strong>3.3 执行命令</strong></p>
<p>安装服务</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqld --install  //  显示服务安装成功后继续执行命令</span><br><span class="line"></span><br><span class="line">Service successfully installed   // 成功了</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize --console  // 初始化,成功后有一个临时密码 0.X*8Ym7AlH2</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422736.png" alt="image-20220815102430355"></p>
<h4 id="4-开启服务"><a href="#4-开启服务" class="headerlink" title="4 开启服务"></a>4 开启服务</h4><p>执行命令,开启mysql服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422806.png" alt="image-20220815102630568"></p>
<h4 id="5-修改密码"><a href="#5-修改密码" class="headerlink" title="5 修改密码"></a>5 修改密码</h4><p>登录到mysql</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br><span class="line">Enter password: 0.X*8Ym7AlH2</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091422892.png" alt="image-20220815102744623"></p>
<p>修改密码</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> password <span class="operator">=</span> password(<span class="string">&#x27;123456&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423033.png" alt="image-20220815102811473"></p>
<p>退出再试</p>
<h3 id="安装BUG"><a href="#安装BUG" class="headerlink" title="安装BUG"></a>安装BUG</h3><h4 id="1-报错120-dll"><a href="#1-报错120-dll" class="headerlink" title="1 报错120.dll"></a>1 报错120.dll</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423113.png" alt="image-20220815112711058"></p>
<p>下载安装</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423216.png" alt="image-20220815112743401"></p>
<p>双击安装后,重新执行命令</p>
<h4 id="2-没有服务名"><a href="#2-没有服务名" class="headerlink" title="2 没有服务名"></a>2 没有服务名</h4><p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423268.png"></p>
<p>缺失一个步骤,需要执行命令 mysqld –install,后再开启服务</p>
<h4 id="3-初始化失败"><a href="#3-初始化失败" class="headerlink" title="3 初始化失败"></a>3 初始化失败</h4><p>执行完mysqld –initialize –console 后,没有出现密码</p>
<ol>
<li>确定my.ini配置文件内容是否正确</li>
<li>安装路径内是否已经存在data文件夹,如果存在的话删除data文件再试</li>
</ol>
<h4 id="4-万能解决方案"><a href="#4-万能解决方案" class="headerlink" title="4 万能解决方案"></a>4 万能解决方案</h4><p>1 认真,慢</p>
<p>2 检查my.ini内容是否正确</p>
<p>3 管理员权限进入cmd</p>
<p>4 执行命令先删除服务 <code>mysqld remove</code></p>
<p>5 再重新安装服务器<code>mysqld --install</code></p>
<p>6 在重新初始化产生密码</p>
<p>7 启动服务</p>
<p>….</p>
<h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>选择我的电脑–&gt;右键属性–&gt;高绩系统设置–&gt;系统环境变量</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423346.png" alt="image-20220815113727201"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423425.png" alt="image-20220815113746981"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423566.png" alt="image-20220815113841015"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423679.png" alt="image-20220815113935206"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423725.png" alt="image-20220815114055811"></p>
<h3 id="客户端基本操作"><a href="#客户端基本操作" class="headerlink" title="客户端基本操作"></a>客户端基本操作</h3><ul>
<li><p>启动服务</p>
<ul>
<li><p>命令启动 net start mysql</p>
</li>
<li><p>图形化启动</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423797.png" alt="image-20220815142230814"></p>
</li>
<li><p>现在,一般情况下,开机自启的.</p>
</li>
</ul>
</li>
<li><p>登录mysql</p>
<ul>
<li>使用命令行登录 mysql -uroot -p123456</li>
<li>Navicat连接</li>
</ul>
</li>
<li><p>退出</p>
<ul>
<li>exit</li>
</ul>
</li>
</ul>
<h3 id="SQL语言"><a href="#SQL语言" class="headerlink" title="SQL语言"></a>SQL语言</h3><p>SQL：Structure Query Language。（结构化查询语言）</p>
<p>SQL被美国国家标准局（ANSI）确定为关系型数据库语言的美国标准，后来被国际化标准组织（ISO）采纳为关系数据库语言的国际标准。现在遵循的SQL99标准</p>
<p>各数据库厂商都支持ISO的SQL标准。<strong>普通话</strong></p>
<p>各数据库厂商在标准的基础上做了自己的扩展。<strong>方言</strong></p>
<hr>
<p><strong>DDL</strong>（Data Definition Language）：数据定义语言，用来定义数据库对象：库、表、列等；</p>
<p><strong>DML</strong>（Data Manipulation Language）：数据操作语言，用来定义数据库记录（数据-增删改）；</p>
<p>*<em>DQL(</em>)**（Data Query Language）：数据查询语言，用来查询记录（数据）。</p>
<p><strong>DCL</strong>（Data Control Language）：数据控制语言，用来定义访问权限和安全级别；</p>
<p>注意: &#x3D;&#x3D;sql语句以**;**&#x3D;&#x3D;结尾(偶尔见到有\g结尾 , \G 也可以…)</p>
<h3 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h3><p>DDL主要是针对数据库,表,列的操作,即创建,查询,修改,删除</p>
<p>查询数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;	</span><br></pre></td></tr></table></figure>

<p>创建数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database 库名;</span><br></pre></td></tr></table></figure>

<p>修改</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">创建数据库时,默认字符集是utf8.</span><br><span class="line">修改命令只能修改字符集,不能修改数据库名.</span><br><span class="line"><span class="keyword">alter</span> database ....</span><br></pre></td></tr></table></figure>

<p>删除数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database 库名;</span><br></pre></td></tr></table></figure>

<hr>
<p>操作表的前提是,得先进入某个数据库,才能操作数据库内部的表</p>
<p>选择&#x2F;进入数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 库名;</span><br></pre></td></tr></table></figure>

<p>查询当前所在库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> database();</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423850.png" alt="image-20220815145042363"></p>
<p>查询当前库下所有表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure>

<p>创建表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">字段<span class="number">1</span> 数据类型(长度),</span><br><span class="line">字段<span class="number">2</span> 数据类型(长度),</span><br><span class="line">...</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>常用数据类型</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>解释</th>
<th>长度</th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>整型</td>
<td>11,可以不写,默认11</td>
</tr>
<tr>
<td>varchar</td>
<td>字符串</td>
<td>0-255</td>
</tr>
<tr>
<td>char</td>
<td>字符串</td>
<td>0-255</td>
</tr>
<tr>
<td>double</td>
<td>浮点型</td>
<td>(5,2)总长5位,其中包含两位小数,999.99</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
<td>没有长度</td>
</tr>
<tr>
<td>datetime</td>
<td>日期时间</td>
<td>没有长度</td>
</tr>
<tr>
<td>timestamp</td>
<td>时间戳</td>
<td>没有长度</td>
</tr>
</tbody></table>
<blockquote>
<p>数据库中,字符串不分单字符,所有字符串都是&#x3D;&#x3D;单引号括&#x3D;&#x3D;.使用char和varchar都可以代表字符串</p>
<p>varchar和char的区别</p>
<p>var是variable的缩写,就是可变化的字符串,例如varchar(10), 存入’张三’</p>
<p>char是定长,例如char(10),存入’张三        ‘</p>
</blockquote>
<p>需求:</p>
<p>创建stu表,有字段学号整型,姓名字符型,性别字符型,年龄整型,生日日期型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> t_stu (</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> sid <span class="type">int</span>(<span class="number">11</span>),</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> sex <span class="type">char</span>(<span class="number">1</span>),</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> age <span class="type">int</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> birthday <span class="type">date</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> );</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423114.png" alt="image-20220815151626031"></p>
<p>修改表名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="keyword">table</span> 旧名 <span class="keyword">to</span> 新名;</span><br></pre></td></tr></table></figure>

<p>修改列名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 change 旧名 新名 数据类型(长度)</span><br></pre></td></tr></table></figure>

<p>查看表结构</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> 表名;</span><br></pre></td></tr></table></figure>

<p>加一列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 新列名 数据类型(长度);</span><br></pre></td></tr></table></figure>

<p>删列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> 列名;</span><br></pre></td></tr></table></figure>

<p>删表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>

<p><strong>总结</strong></p>
<p>创建–&gt; create  database&#x2F;table</p>
<p>修改 –&gt; alter  database&#x2F;table</p>
<p>删除–&gt; drop database&#x2F;table</p>
<p>查询 –&gt; show databases&#x2F;tables</p>
<h3 id="图形化界面"><a href="#图形化界面" class="headerlink" title="图形化界面"></a>图形化界面</h3><p>SQLYog</p>
<p>Navicat</p>
<p>DBeaver</p>
<hr>
<h4 id="Navicat图形化操作"><a href="#Navicat图形化操作" class="headerlink" title="Navicat图形化操作"></a>Navicat图形化操作</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423158.png" alt="image-20220815161253508"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423210.png" alt="image-20220815161440343"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423358.png" alt="image-20220815161546701"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423454.png" alt="image-20220815161929668"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423505.png" alt="image-20220815162114748"></p>
<h4 id="Navicat命令操作"><a href="#Navicat命令操作" class="headerlink" title="Navicat命令操作"></a>Navicat命令操作</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423604.png" alt="image-20220815162241702"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423738.png" alt="image-20220815162400393"></p>
<h4 id="Navicat编辑器"><a href="#Navicat编辑器" class="headerlink" title="Navicat编辑器"></a>Navicat编辑器</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202308091423819.png" alt="image-20220815162609999"></p>
<h3 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h3><p>数据操作语言,针对表中数据进行操作,主要是对表数据进行增,删,改。</p>
<h4 id="增加（insert）"><a href="#增加（insert）" class="headerlink" title="增加（insert）"></a>增加（insert）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">语法</span></span><br><span class="line"><span class="comment">	insert into 表名(字段1,字段2,...) values (值1,值2,...);</span></span><br><span class="line"><span class="comment">其他用法:</span></span><br><span class="line"><span class="comment">1 当要插入全部列时,表名后的列名可以省略</span></span><br><span class="line"><span class="comment">  此时要注意,值的顺序要与原表的顺序一致</span></span><br><span class="line"><span class="comment">2 可以指定部分列,插入数据</span></span><br><span class="line"><span class="comment">  列和值的顺序,数量,数据类型要一一对应</span></span><br><span class="line"><span class="comment">3 字符串使用单引号</span></span><br><span class="line"><span class="comment">4 日期,暂时也是使用单引号括起</span></span><br><span class="line"><span class="comment">5 可以支持同时插入多条数据</span></span><br><span class="line"><span class="comment">  values后用()分别写多条数据,用逗号隔开</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">-- 标准语法</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu (id,name,age,sex,birthday) </span><br><span class="line"><span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;张三丰&#x27;</span>,<span class="number">130</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1890-01-01&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 省略</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;张无忌&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1890-01-01&#x27;</span>)</span><br><span class="line"><span class="comment">-- 插入部分数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu (id,name) <span class="keyword">values</span> (<span class="number">3</span>,<span class="string">&#x27;赵敏&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu (id,name) <span class="keyword">values</span> (<span class="number">4</span>,<span class="number">6</span>); <span class="comment">-- 可以,因为mysql支持类型转换,单不建议</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu (id,name) <span class="keyword">values</span> (<span class="string">&#x27;5&#x27;</span>,<span class="number">6</span>);<span class="comment">-- 可以,因为mysql支持类型转换,单不建议</span></span><br><span class="line"><span class="comment">-- 日期类型,支持yyyy-MM-dd或yyyy/MM/dd</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;武器大师&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1990/01/01&#x27;</span>)</span><br><span class="line"><span class="comment">-- 插入多条数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu <span class="keyword">values</span> </span><br><span class="line">(<span class="number">8</span>,<span class="string">&#x27;狗头&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;公&#x27;</span>,<span class="string">&#x27;1990/01/01&#x27;</span>),</span><br><span class="line">(<span class="number">9</span>,<span class="string">&#x27;雷克顿&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;公&#x27;</span>,<span class="string">&#x27;1991/01/01&#x27;</span>),</span><br><span class="line">(<span class="number">10</span>,<span class="string">&#x27;阿兹尔&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;1981/01/01&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="修改-update"><a href="#修改-update" class="headerlink" title="修改(update)"></a>修改(update)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">语法:</span></span><br><span class="line"><span class="comment">	update 表名 set 字段1=值1[,字段2=值2,...] [where 字段 = 值];</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">-- 标准</span></span><br><span class="line"><span class="keyword">update</span> stu <span class="keyword">set</span> age <span class="operator">=</span> <span class="number">25</span>,name <span class="operator">=</span> <span class="string">&#x27;曾阿牛&#x27;</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="comment">-- where条件虽说可加可不加.但是不加的话将影响全部数据.</span></span><br><span class="line"><span class="comment">-- 所以,强烈建议!!!以后更新必须加条件。</span></span><br></pre></td></tr></table></figure>

<h4 id="删除-delete"><a href="#删除-delete" class="headerlink" title="删除(delete)"></a>删除(delete)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">语法:</span></span><br><span class="line"><span class="comment">	delete from 表名 [where 字段 = 值];</span></span><br><span class="line"><span class="comment">	从表中删除数据，强烈建议加条件，否则会删除全部数据！！！！</span></span><br><span class="line"><span class="comment">	公司实际开发,一般不会真的删除数据,</span></span><br><span class="line"><span class="comment">	会在表中设计[状态]字段,删除其实是在执行update,更新状态而已.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> stu <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300844043.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300844043.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">小u</div><div class="post-copyright__author_desc">热爱可抵岁月漫长</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2023/10/01/codenotes/Java/qf/2/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2023/10/01/codenotes/Java/qf/2/')">重学java第一阶段(下)</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816229.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816229.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816224.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300816224.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2023/10/01/codenotes/Java/qf/2/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=重学java第一阶段(下)&amp;url=http://example.com/2023/10/01/codenotes/Java/qf/2/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/java/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>java<span class="tagsPageCount">12</span></a><a class="post-meta__box__tags" href="/tags/javaSE/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>javaSE<span class="tagsPageCount">3</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300844043.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/10/01/codenotes/Java/qf/1/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">重学java第一阶段(上)</div></div></a></div><div class="next-post pull-right"><a href="/2023/10/01/codenotes/Java/qf/4/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">重学java第二阶段(下)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/10/01/codenotes/Java/java%E5%9F%BA%E7%A1%80/" title="java基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-10-01</div><div class="title">java基础</div></div></a></div><div><a href="/2023/10/01/codenotes/Java/qf/1/" title="重学java第一阶段(上)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-10-01</div><div class="title">重学java第一阶段(上)</div></div></a></div><div><a href="/2023/10/01/codenotes/Java/JDK%E6%96%B0%E7%89%B9%E6%80%A7/" title="JDK9~JDK17新特性"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-10-01</div><div class="title">JDK9~JDK17新特性</div></div></a></div><div><a href="/2023/10/01/codenotes/Java/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" title="java面向对象"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-10-01</div><div class="title">java面向对象</div></div></a></div><div><a href="/2023/10/01/codenotes/Java/spring6/" title="Spring6"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-10-01</div><div class="title">Spring6</div></div></a></div><div><a href="/2023/10/01/codenotes/other/clean-code/" title="《代码整洁之道》"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-10-01</div><div class="title">《代码整洁之道》</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://xiaou-1305448902.cos.ap-nanjing.myqcloud.com/img/202309300844043.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" ait="status"/></div></div><div class="author-info__description">Java,java,springboot,mysql,redis,教程,git,软件,编程,开发,互联网,Java 基础,Java 教程,Java程序员进阶之路,Java 入门,Vue,前端,算法</div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>Announcement</span></div><div class="announcement_content">欢迎来看我的博客 博客主地址：http://blog.xiaou61.top/  备用地址：https://newblog.guoyaxue.top/</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#day18"><span class="toc-number">1.</span> <span class="toc-text">day18</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E5%86%85%E5%AE%B9"><span class="toc-number">1.1.</span> <span class="toc-text">今天内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%BA%86%E8%A7%A3"><span class="toc-number">1.2.</span> <span class="toc-text">1.二叉树的了解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E6%AF%94%E8%BE%83%E5%99%A8%E5%B0%86%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%88%B0TreeSet%E4%B8%AD"><span class="toc-number">1.3.</span> <span class="toc-text">2.使用比较器将数据存储到TreeSet中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">1.4.</span> <span class="toc-text">3.匿名内部类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1%E5%9F%BA%E4%BA%8E%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.1基于抽象类的匿名内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2%E5%9F%BA%E4%BA%8E%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.2基于接口的匿名内部类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">1.5.</span> <span class="toc-text">4.内部类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1%E6%88%90%E5%91%98%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1成员内部类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day19"><span class="toc-number">2.</span> <span class="toc-text">day19</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">2.1.</span> <span class="toc-text">今天的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Map%E9%9B%86%E5%90%88"><span class="toc-number">2.2.</span> <span class="toc-text">1.Map集合</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Interface-Map"><span class="toc-number">2.2.0.1.</span> <span class="toc-text">Interface Map&lt;K,V&gt;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1Map%E9%9B%86%E5%90%88%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.1Map集合中常用的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2Map%E9%9B%86%E5%90%88%E4%B8%AD%E7%9A%84value-%E5%AD%98%E7%9A%84%E6%98%AF%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.2.</span> <span class="toc-text">1.2Map集合中的value 存的是对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet"><span class="toc-number">2.2.3.</span> <span class="toc-text">HashSet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TreeSet%E7%B1%BB"><span class="toc-number">2.2.4.</span> <span class="toc-text">TreeSet类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-File%E7%B1%BB"><span class="toc-number">2.3.</span> <span class="toc-text">2.File类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1File-%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.1.</span> <span class="toc-text">2.1File 类的构造方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2File%E7%B1%BB%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.2File类下面的方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day20"><span class="toc-number">3.</span> <span class="toc-text">day20</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9-1"><span class="toc-number">3.1.</span> <span class="toc-text">今天的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-IO%E6%B5%81"><span class="toc-number">3.2.</span> <span class="toc-text">1.IO流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E7%BC%93%E5%86%B2%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.2.1.</span> <span class="toc-text">1.1缓冲的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2IO%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.2.2.</span> <span class="toc-text">1.2IO流的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-1%E5%AD%97%E8%8A%82%E8%BE%93%E5%85%A5%E6%B5%81"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">1.2.1字节输入流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-2%E5%AD%97%E8%8A%82%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">1.2.2字节输出流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-3%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%E6%B5%81%E3%80%90%E9%9D%9E%E9%87%8D%E7%82%B9%E3%80%91"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">1.2.3字符输入流【非重点】</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-4%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%E6%B5%81"><span class="toc-number">3.2.2.4.</span> <span class="toc-text">1.2.4字符输出流</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day21"><span class="toc-number">4.</span> <span class="toc-text">day21</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9-2"><span class="toc-number">4.1.</span> <span class="toc-text">今天的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-number">4.2.</span> <span class="toc-text">1.常用类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1StringBuffer%E7%B1%BB"><span class="toc-number">4.2.1.</span> <span class="toc-text">1.1StringBuffer类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2%E6%9E%9A%E4%B8%BE%E7%B1%BB%EF%BC%88enum%EF%BC%89"><span class="toc-number">4.2.2.</span> <span class="toc-text">1.2枚举类（enum）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-number">4.2.3.</span> <span class="toc-text">1.3包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EInteger%E5%92%8Cint%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90"><span class="toc-number">4.2.3.1.</span> <span class="toc-text">关于Integer和int类型数据的内存分析</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4Math"><span class="toc-number">4.2.4.</span> <span class="toc-text">1.4Math</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5Random%E7%B1%BB"><span class="toc-number">4.2.5.</span> <span class="toc-text">1.5Random类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6System%E7%B1%BB"><span class="toc-number">4.2.6.</span> <span class="toc-text">1.6System类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7Runtime%E3%80%90%E4%B8%8D%E9%87%8D%E8%A6%81%E3%80%91"><span class="toc-number">4.2.7.</span> <span class="toc-text">1.7Runtime【不重要】</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-8Date%E7%B1%BB"><span class="toc-number">4.2.8.</span> <span class="toc-text">1.8Date类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9Calendar"><span class="toc-number">4.2.9.</span> <span class="toc-text">1.9Calendar</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day22"><span class="toc-number">5.</span> <span class="toc-text">day22</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9%E3%80%90%E9%87%8D%E8%A6%81%EF%BC%81%EF%BC%81%EF%BC%81%E3%80%91"><span class="toc-number">5.1.</span> <span class="toc-text">今天的内容【重要！！！】</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E8%BF%9B%E7%A8%8B"><span class="toc-number">5.2.</span> <span class="toc-text">1.什么是进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%80%E4%B9%88%E6%98%AF%E7%BA%BF%E7%A8%8B"><span class="toc-number">5.3.</span> <span class="toc-text">2.什么是线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E3%80%91"><span class="toc-number">5.4.</span> <span class="toc-text">3.线程和进程的区别【面试题】</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%B9%B6%E5%8F%91%E5%92%8C%E5%B9%B6%E8%A1%8C"><span class="toc-number">5.5.</span> <span class="toc-text">4.并发和并行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E3%80%90%E9%87%8D%E7%82%B9%E3%80%91"><span class="toc-number">5.6.</span> <span class="toc-text">5.创建线程的两种方式【重点】</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%BA%BF%E7%A8%8B%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%87%A0%E4%B8%AA%E6%96%B9%E6%B3%95"><span class="toc-number">5.7.</span> <span class="toc-text">6.线程下面的几个方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5%E5%92%8C%E9%94%81%E3%80%90%E9%87%8D%E8%A6%81%E3%80%91"><span class="toc-number">5.8.</span> <span class="toc-text">7.线程的同步和锁【重要】</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day23"><span class="toc-number">6.</span> <span class="toc-text">day23</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9-3"><span class="toc-number">6.1.</span> <span class="toc-text">今天的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="toc-number">6.2.</span> <span class="toc-text">1.守护线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%AD%BB%E9%94%81"><span class="toc-number">6.3.</span> <span class="toc-text">2.死锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BA%BF%E7%A8%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E3%80%90%E9%9D%A2%E8%AF%95%E3%80%91"><span class="toc-number">6.4.</span> <span class="toc-text">3.线程生命周期【面试】</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%92%8C%E7%BA%BF%E7%A8%8B%E7%9B%B8%E5%85%B3%E7%9A%84Object%E7%B1%BB%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">6.5.</span> <span class="toc-text">4.和线程相关的Object类下面的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-number">6.6.</span> <span class="toc-text">扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%BC%8F%E3%80%90%E9%87%8D%E7%82%B9%E9%9A%BE%E7%82%B9%E3%80%91"><span class="toc-number">6.7.</span> <span class="toc-text">5.生产者消费者模式【重点难点】</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%BA%BF%E7%A8%8B%E6%B1%A0Pool"><span class="toc-number">6.8.</span> <span class="toc-text">6.线程池Pool</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1FixedThreadPool"><span class="toc-number">6.8.1.</span> <span class="toc-text">1.1FixedThreadPool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-CachedThreadPool"><span class="toc-number">6.8.2.</span> <span class="toc-text">2.CachedThreadPool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-SingleThreadExecutor"><span class="toc-number">6.8.3.</span> <span class="toc-text">3.SingleThreadExecutor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-ScheduledThreadPool"><span class="toc-number">6.8.4.</span> <span class="toc-text">4.ScheduledThreadPool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-SingleThreadScheduledExecutor"><span class="toc-number">6.8.5.</span> <span class="toc-text">5.SingleThreadScheduledExecutor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-newWorkStealingPool"><span class="toc-number">6.8.6.</span> <span class="toc-text">6.newWorkStealingPool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-ThreadPoolExecutor%E3%80%90%E4%BB%A5%E5%90%8E%E5%BC%80%E5%8F%91%E8%A6%81%E7%94%A8%E7%9A%84%E3%80%91"><span class="toc-number">6.8.7.</span> <span class="toc-text">7.ThreadPoolExecutor【以后开发要用的】</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day24"><span class="toc-number">7.</span> <span class="toc-text">day24</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9-4"><span class="toc-number">7.1.</span> <span class="toc-text">今天的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Stream%E3%80%90%E9%9A%BE%E7%82%B9%E3%80%91"><span class="toc-number">7.2.</span> <span class="toc-text">1.Stream【难点】</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E8%8E%B7%E5%8F%96%E6%B5%81%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.2.1.</span> <span class="toc-text">1.1获取流的对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2Stream%E6%B5%81%E5%AF%B9%E8%B1%A1%E4%B8%8B%E9%9D%A2"><span class="toc-number">7.2.2.</span> <span class="toc-text">1.2Stream流对象下面</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-1count%E5%92%8CforEach"><span class="toc-number">7.2.2.1.</span> <span class="toc-text">1.2.1count和forEach</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-2filter%E6%96%B9%E6%B3%95"><span class="toc-number">7.2.2.2.</span> <span class="toc-text">1.2.2filter方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-3limit"><span class="toc-number">7.2.2.3.</span> <span class="toc-text">1.2.3limit</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-4map%E6%96%B9%E6%B3%95"><span class="toc-number">7.2.2.4.</span> <span class="toc-text">1.2.4map方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-5skip"><span class="toc-number">7.2.2.5.</span> <span class="toc-text">1.2.5skip</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-6concat"><span class="toc-number">7.2.2.6.</span> <span class="toc-text">1.2.6concat</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3%E6%94%B6%E9%9B%86%E6%B5%81"><span class="toc-number">7.2.3.</span> <span class="toc-text">1.3收集流</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9-5"><span class="toc-number">7.3.</span> <span class="toc-text">今天的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8F%8D%E5%B0%84"><span class="toc-number">7.4.</span> <span class="toc-text">1.反射</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E8%8E%B7%E5%8F%96Class%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.4.1.</span> <span class="toc-text">1.1获取Class对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2%E8%8E%B7%E5%8F%96Constructor%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.4.2.</span> <span class="toc-text">1.2获取Constructor对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3%E8%8E%B7%E5%8F%96Method%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.4.3.</span> <span class="toc-text">1.3获取Method对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4%E8%8E%B7%E5%8F%96Field%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.4.4.</span> <span class="toc-text">1.4获取Field对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E9%A1%BE"><span class="toc-number">7.5.</span> <span class="toc-text">回顾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8A%E5%A4%A9%E7%9A%84%E5%86%85%E5%AE%B9-6"><span class="toc-number">7.6.</span> <span class="toc-text">今天的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">7.7.</span> <span class="toc-text">1.单例模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">7.8.</span> <span class="toc-text">2.序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">7.9.</span> <span class="toc-text">3.Lambda表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B"><span class="toc-number">7.9.1.</span> <span class="toc-text">3.1入门案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="toc-number">7.9.2.</span> <span class="toc-text">3.2lambda表达式语法格式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-1%E6%97%A0%E5%8F%82%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E5%BD%A2%E5%BC%8F"><span class="toc-number">7.9.2.1.</span> <span class="toc-text">3.2.1无参无返回值的形式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-2%E6%9C%89%E5%8F%82%E6%97%A0%E8%BF%94%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">7.9.2.2.</span> <span class="toc-text">3.2.2有参无返返回值的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-3%E6%97%A0%E5%8F%82%E6%9C%89%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">7.9.2.3.</span> <span class="toc-text">3.2.3无参有返回值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-4%E6%9C%89%E5%8F%82%E6%9C%89%E8%BF%94%E5%9B%9E%E5%80%BC%E7%9A%84"><span class="toc-number">7.9.2.4.</span> <span class="toc-text">3.2.4有参有返回值的</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#day25"><span class="toc-number">8.</span> <span class="toc-text">day25</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-JavaWeb"><span class="toc-number">8.1.</span> <span class="toc-text">第二阶段 JavaWeb</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E5%BF%B5"><span class="toc-number">8.2.</span> <span class="toc-text">数据库概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">8.3.</span> <span class="toc-text">常见数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E4%BB%8B%E7%BB%8D"><span class="toc-number">8.4.</span> <span class="toc-text">MySQL介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E5%8D%B8%E8%BD%BD"><span class="toc-number">8.5.</span> <span class="toc-text">MySQL卸载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E5%AE%89%E8%A3%85"><span class="toc-number">8.6.</span> <span class="toc-text">MySQL安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%88%B0%E9%9D%9E%E4%B8%AD%E6%96%87%E7%9B%AE%E5%BD%95"><span class="toc-number">8.6.1.</span> <span class="toc-text">1 解压缩到非中文目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">8.6.2.</span> <span class="toc-text">2 编写配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">8.6.3.</span> <span class="toc-text">3 执行命令初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%BC%80%E5%90%AF%E6%9C%8D%E5%8A%A1"><span class="toc-number">8.6.4.</span> <span class="toc-text">4 开启服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-number">8.6.5.</span> <span class="toc-text">5 修改密码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85BUG"><span class="toc-number">8.7.</span> <span class="toc-text">安装BUG</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%8A%A5%E9%94%99120-dll"><span class="toc-number">8.7.1.</span> <span class="toc-text">1 报错120.dll</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%B2%A1%E6%9C%89%E6%9C%8D%E5%8A%A1%E5%90%8D"><span class="toc-number">8.7.2.</span> <span class="toc-text">2 没有服务名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%A4%B1%E8%B4%A5"><span class="toc-number">8.7.3.</span> <span class="toc-text">3 初始化失败</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%B8%87%E8%83%BD%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">8.7.4.</span> <span class="toc-text">4 万能解决方案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">8.8.</span> <span class="toc-text">配置环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">8.9.</span> <span class="toc-text">客户端基本操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E8%AF%AD%E8%A8%80"><span class="toc-number">8.10.</span> <span class="toc-text">SQL语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DDL"><span class="toc-number">8.11.</span> <span class="toc-text">DDL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2"><span class="toc-number">8.12.</span> <span class="toc-text">图形化界面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Navicat%E5%9B%BE%E5%BD%A2%E5%8C%96%E6%93%8D%E4%BD%9C"><span class="toc-number">8.12.1.</span> <span class="toc-text">Navicat图形化操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Navicat%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C"><span class="toc-number">8.12.2.</span> <span class="toc-text">Navicat命令操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Navicat%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">8.12.3.</span> <span class="toc-text">Navicat编辑器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DML"><span class="toc-number">8.13.</span> <span class="toc-text">DML</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%EF%BC%88insert%EF%BC%89"><span class="toc-number">8.13.1.</span> <span class="toc-text">增加（insert）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-update"><span class="toc-number">8.13.2.</span> <span class="toc-text">修改(update)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4-delete"><span class="toc-number">8.13.3.</span> <span class="toc-text">删除(delete)</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/08/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%94%B6%E8%97%8F/27/" title="再见 MyBatis-Plus ！">再见 MyBatis-Plus ！</a><time datetime="2023-10-08T12:28:14.000Z" title="Created 2023-10-08 20:28:14">2023-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/08/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%94%B6%E8%97%8F/26/" title="“人尽皆知”的单例模式">“人尽皆知”的单例模式</a><time datetime="2023-10-08T12:28:14.000Z" title="Created 2023-10-08 20:28:14">2023-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/08/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%94%B6%E8%97%8F/29/" title="阿里的同事，写的代码真 TMD 优雅！">阿里的同事，写的代码真 TMD 优雅！</a><time datetime="2023-10-08T12:28:14.000Z" title="Created 2023-10-08 20:28:14">2023-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/08/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%94%B6%E8%97%8F/28/" title="别再用 BeanUtils 了，这款 PO VO DTO 转换神器不香么？">别再用 BeanUtils 了，这款 PO VO DTO 转换神器不香么？</a><time datetime="2023-10-08T12:28:14.000Z" title="Created 2023-10-08 20:28:14">2023-10-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/08/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%94%B6%E8%97%8F/30/" title="MyBatis过时了吗？">MyBatis过时了吗？</a><time datetime="2023-10-08T12:28:14.000Z" title="Created 2023-10-08 20:28:14">2023-10-08</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2023 By <a class="footer-bar-link" href="/" title="小u" target="_blank">小u</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">Articles</div><div class="length-num">238</div></a><a href="/tags/" title="tag"><div class="headline">Tags</div><div class="length-num">39</div></a><a href="/categories/" title="category"><div class="headline">Categories</div><div class="length-num">50</div></a></div><span class="sidebar-menu-item-title">Function</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="Display Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>Display Mode</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://mydocs.guoyaxue.top/" title="旧版博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="旧版博客"/><span class="back-menu-item-text">旧版博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://pan.xiaou61.top/#/" title="免费网盘"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="免费网盘"/><span class="back-menu-item-text">免费网盘</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://cloud.xiaou61.top/" title="云盘(自用)"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="云盘(自用)"/><span class="back-menu-item-text">云盘(自用)</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://wpzc.xiaou61.top/" title="云盘转存"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="云盘转存"/><span class="back-menu-item-text">云盘转存</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://love.xiaou61.top/#/" title="关于我们(My girlFriend)"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="关于我们(My girlFriend)"/><span class="back-menu-item-text">关于我们(My girlFriend)</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">娱乐项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="http://fxq.xiaou61.top/#/" title="飞行棋"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="飞行棋"/><span class="back-menu-item-text">飞行棋</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://blogutil-1305448902.cos-website.ap-nanjing.myqcloud.com/game/sqnwmai803/" title="谁去拿外卖"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="谁去拿外卖"/><span class="back-menu-item-text">谁去拿外卖</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://blogutil-1305448902.cos-website.ap-nanjing.myqcloud.com/win12kymain/win12-main/desktop.html" title="win12网页版"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://blogutil-1305448902.cos-website.ap-nanjing.myqcloud.com/win12kymain/win12-main/icon/logo.svg" alt="win12网页版"/><span class="back-menu-item-text">win12网页版</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="http://game.xiaou61.top/" title="在线游戏"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="在线游戏"/><span class="back-menu-item-text">在线游戏</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 开往</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html"><span> 开往</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>3</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>1</sup></a><a href="/tags/JVM/" style="font-size: 0.88rem;">JVM<sup>22</sup></a><a href="/tags/Nginx/" style="font-size: 0.88rem;">Nginx<sup>1</sup></a><a href="/tags/Spring/" style="font-size: 0.88rem;">Spring<sup>1</sup></a><a href="/tags/Ts/" style="font-size: 0.88rem;">Ts<sup>1</sup></a><a href="/tags/TypeScript/" style="font-size: 0.88rem;">TypeScript<sup>1</sup></a><a href="/tags/WebApi/" style="font-size: 0.88rem;">WebApi<sup>1</sup></a><a href="/tags/coder1v5/" style="font-size: 0.88rem;">coder1v5<sup>2</sup></a><a href="/tags/css/" style="font-size: 0.88rem;">css<sup>3</sup></a><a href="/tags/java/" style="font-size: 0.88rem;">java<sup>12</sup></a><a href="/tags/javaSE/" style="font-size: 0.88rem;">javaSE<sup>3</sup></a><a href="/tags/javaWeb/" style="font-size: 0.88rem;">javaWeb<sup>2</sup></a><a href="/tags/js%E9%80%86%E5%90%91/" style="font-size: 0.88rem;">js逆向<sup>1</sup></a><a href="/tags/leetcode/" style="font-size: 0.88rem;">leetcode<sup>3</sup></a><a href="/tags/python/" style="font-size: 0.88rem;">python<sup>8</sup></a><a href="/tags/%E4%B9%A6%E7%B1%8D%E6%8E%A8%E8%8D%90/" style="font-size: 0.88rem;">书籍推荐<sup>2</sup></a><a href="/tags/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%90%AC%E8%BF%90/" style="font-size: 0.88rem;">公众号搬运<sup>35</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.88rem;">前端<sup>10</sup></a><a href="/tags/%E5%8A%9E%E5%85%AC/" style="font-size: 0.88rem;">办公<sup>1</sup></a><a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 0.88rem;">后端<sup>8</sup></a><a href="/tags/%E5%A4%A9%E6%B6%AF%E8%AE%BA%E5%9D%9B/" style="font-size: 0.88rem;">天涯论坛<sup>1</sup></a><a href="/tags/%E5%AF%BC%E8%88%AA/" style="font-size: 0.88rem;">导航<sup>1</sup></a><a href="/tags/%E5%B0%B1%E4%B8%9A/" style="font-size: 0.88rem;">就业<sup>16</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 0.88rem;">微信<sup>1</sup></a><a href="/tags/%E6%8A%80%E6%9C%AF%E6%9D%82%E8%B0%88/" style="font-size: 0.88rem;">技术杂谈<sup>51</sup></a><a href="/tags/%E6%8E%98%E9%87%91/" style="font-size: 0.88rem;">掘金<sup>14</sup></a><a href="/tags/%E6%9D%82%E9%A1%B9/" style="font-size: 0.88rem;">杂项<sup>1</sup></a><a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 0.88rem;">测试<sup>1</sup></a><a href="/tags/%E6%B8%A1%E4%B8%80%E5%A4%A7%E5%B8%88%E8%AF%BE/" style="font-size: 0.88rem;">渡一大师课<sup>3</sup></a><a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 0.88rem;">爬虫<sup>1</sup></a><a href="/tags/%E7%9B%AE%E5%BD%95/" style="font-size: 0.88rem;">目录<sup>1</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 0.88rem;">算法<sup>4</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 0.88rem;">虚拟机<sup>12</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">设计模式<sup>6</sup></a><a href="/tags/%E8%B7%AF%E9%A3%9E%E5%AD%A6%E9%99%A2/" style="font-size: 0.88rem;">路飞学院<sup>3</sup></a><a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 0.88rem;">面向对象<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 0.88rem;">面试<sup>51</sup></a><a href="/tags/%E9%A3%9E%E8%A1%8C%E6%A3%8B/" style="font-size: 0.88rem;">飞行棋<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="7409599794" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>